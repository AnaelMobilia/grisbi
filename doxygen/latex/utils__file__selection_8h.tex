\section{Référence du fichier utils\_\-file\_\-selection.h}
\label{utils__file__selection_8h}\index{utils\_\-file\_\-selection.h@{utils\_\-file\_\-selection.h}}
\subsection*{Macros}
\begin{DoxyCompactItemize}
\item 
\#define {\bf FILE\_\-SELECTION\_\-DEFAULT}~0x0000
\item 
\#define {\bf FILE\_\-SELECTION\_\-IS\_\-OPEN\_\-DIALOG}~0x0000
\item 
\#define {\bf FILE\_\-SELECTION\_\-IS\_\-SAVE\_\-DIALOG}~0x0001
\item 
\#define {\bf FILE\_\-SELECTION\_\-NOOVERWRITECHECK}~0x0002
\item 
\#define {\bf FILE\_\-SELECTION\_\-MUST\_\-EXIST}~0x0002
\item 
\#define {\bf FILE\_\-SELECTION\_\-MULTISELECTION}~0x0004
\end{DoxyCompactItemize}
\subsection*{Fonctions}
\begin{DoxyCompactItemize}
\item 
gchar $\ast$ {\bf file\_\-selection\_\-get\_\-filename} (GtkFileChooser $\ast$filesel)
\item 
gchar $\ast$ {\bf file\_\-selection\_\-get\_\-last\_\-directory} (GtkFileChooser $\ast$filesel, gboolean ended)
\item 
GtkWidget $\ast$ {\bf file\_\-selection\_\-new} (const gchar $\ast$title, const gint properties)
\end{DoxyCompactItemize}


\subsection{Documentation des macros}
\index{utils\_\-file\_\-selection.h@{utils\_\-file\_\-selection.h}!FILE\_\-SELECTION\_\-DEFAULT@{FILE\_\-SELECTION\_\-DEFAULT}}
\index{FILE\_\-SELECTION\_\-DEFAULT@{FILE\_\-SELECTION\_\-DEFAULT}!utils_file_selection.h@{utils\_\-file\_\-selection.h}}
\subsubsection[{FILE\_\-SELECTION\_\-DEFAULT}]{\setlength{\rightskip}{0pt plus 5cm}\#define FILE\_\-SELECTION\_\-DEFAULT~0x0000}\label{utils__file__selection_8h_a6a4bee62214d9dfd2b4bba67a1e105e3}
File selection dialog behaviour properties No particular behaviour (open file dialog) 

Définition à la ligne 41 du fichier utils\_\-file\_\-selection.h.

\index{utils\_\-file\_\-selection.h@{utils\_\-file\_\-selection.h}!FILE\_\-SELECTION\_\-IS\_\-OPEN\_\-DIALOG@{FILE\_\-SELECTION\_\-IS\_\-OPEN\_\-DIALOG}}
\index{FILE\_\-SELECTION\_\-IS\_\-OPEN\_\-DIALOG@{FILE\_\-SELECTION\_\-IS\_\-OPEN\_\-DIALOG}!utils_file_selection.h@{utils\_\-file\_\-selection.h}}
\subsubsection[{FILE\_\-SELECTION\_\-IS\_\-OPEN\_\-DIALOG}]{\setlength{\rightskip}{0pt plus 5cm}\#define FILE\_\-SELECTION\_\-IS\_\-OPEN\_\-DIALOG~0x0000}\label{utils__file__selection_8h_a479801e1efb641420a3be56732ebca77}
The file selection is used for open operation 

Définition à la ligne 42 du fichier utils\_\-file\_\-selection.h.

\index{utils\_\-file\_\-selection.h@{utils\_\-file\_\-selection.h}!FILE\_\-SELECTION\_\-IS\_\-SAVE\_\-DIALOG@{FILE\_\-SELECTION\_\-IS\_\-SAVE\_\-DIALOG}}
\index{FILE\_\-SELECTION\_\-IS\_\-SAVE\_\-DIALOG@{FILE\_\-SELECTION\_\-IS\_\-SAVE\_\-DIALOG}!utils_file_selection.h@{utils\_\-file\_\-selection.h}}
\subsubsection[{FILE\_\-SELECTION\_\-IS\_\-SAVE\_\-DIALOG}]{\setlength{\rightskip}{0pt plus 5cm}\#define FILE\_\-SELECTION\_\-IS\_\-SAVE\_\-DIALOG~0x0001}\label{utils__file__selection_8h_a823595fd9dc58c9b9005a98335efd74e}
The file selection is used for a save operation 

Définition à la ligne 43 du fichier utils\_\-file\_\-selection.h.

\index{utils\_\-file\_\-selection.h@{utils\_\-file\_\-selection.h}!FILE\_\-SELECTION\_\-MULTISELECTION@{FILE\_\-SELECTION\_\-MULTISELECTION}}
\index{FILE\_\-SELECTION\_\-MULTISELECTION@{FILE\_\-SELECTION\_\-MULTISELECTION}!utils_file_selection.h@{utils\_\-file\_\-selection.h}}
\subsubsection[{FILE\_\-SELECTION\_\-MULTISELECTION}]{\setlength{\rightskip}{0pt plus 5cm}\#define FILE\_\-SELECTION\_\-MULTISELECTION~0x0004}\label{utils__file__selection_8h_a9191727402ba314f35438f00153815a0}
\begin{Desc}
\item[{\bf À faire}]allow the multi selection behaviour \end{Desc}


Définition à la ligne 46 du fichier utils\_\-file\_\-selection.h.

\index{utils\_\-file\_\-selection.h@{utils\_\-file\_\-selection.h}!FILE\_\-SELECTION\_\-MUST\_\-EXIST@{FILE\_\-SELECTION\_\-MUST\_\-EXIST}}
\index{FILE\_\-SELECTION\_\-MUST\_\-EXIST@{FILE\_\-SELECTION\_\-MUST\_\-EXIST}!utils_file_selection.h@{utils\_\-file\_\-selection.h}}
\subsubsection[{FILE\_\-SELECTION\_\-MUST\_\-EXIST}]{\setlength{\rightskip}{0pt plus 5cm}\#define FILE\_\-SELECTION\_\-MUST\_\-EXIST~0x0002}\label{utils__file__selection_8h_a36fd252876e7e8b0fb7c824a4016f168}
The selected file name must exists -\/ only for open operation 

Définition à la ligne 45 du fichier utils\_\-file\_\-selection.h.

\index{utils\_\-file\_\-selection.h@{utils\_\-file\_\-selection.h}!FILE\_\-SELECTION\_\-NOOVERWRITECHECK@{FILE\_\-SELECTION\_\-NOOVERWRITECHECK}}
\index{FILE\_\-SELECTION\_\-NOOVERWRITECHECK@{FILE\_\-SELECTION\_\-NOOVERWRITECHECK}!utils_file_selection.h@{utils\_\-file\_\-selection.h}}
\subsubsection[{FILE\_\-SELECTION\_\-NOOVERWRITECHECK}]{\setlength{\rightskip}{0pt plus 5cm}\#define FILE\_\-SELECTION\_\-NOOVERWRITECHECK~0x0002}\label{utils__file__selection_8h_a77427550083b33e37511110084ffa118}
No existance check and overwrite confirmation done -\/ used only for save operations 

Définition à la ligne 44 du fichier utils\_\-file\_\-selection.h.



\subsection{Documentation des fonctions}
\index{utils\_\-file\_\-selection.h@{utils\_\-file\_\-selection.h}!file\_\-selection\_\-get\_\-filename@{file\_\-selection\_\-get\_\-filename}}
\index{file\_\-selection\_\-get\_\-filename@{file\_\-selection\_\-get\_\-filename}!utils_file_selection.h@{utils\_\-file\_\-selection.h}}
\subsubsection[{file\_\-selection\_\-get\_\-filename}]{\setlength{\rightskip}{0pt plus 5cm}gchar$\ast$ file\_\-selection\_\-get\_\-filename (GtkFileChooser $\ast$ {\em filesel})}\label{utils__file__selection_8h_a553733327d0e98dc761f3eec04c9d3d3}
file\_\-selection\_\-get\_\-entry.

Get the text (converted in UTF-\/8 string) of the filename entry field of a GtkFileChooser dialog


\begin{DoxyParams}{Paramètres}
\item[{\em filesel}]GtkFileChooser widget\end{DoxyParams}
\begin{DoxyReturn}{Renvoie}
the entry string converted in UFT-\/8 charset. The returned string has been allocated in this function are need to be release where no more used (no need to add any my\_\-strdup string to use it) file\_\-selection\_\-set\_\-filename
\end{DoxyReturn}
Set the filename property of the GtkFileChooser after having converted in the locale char set


\begin{DoxyParams}{Paramètres}
\item[{\em filesel}]GtkFileChooser widget handle \item[{\em utf8filename}]the string to set coded with the UTF8 charset file\_\-selection\_\-get\_\-filename\end{DoxyParams}
Get the filename property of the GtkFileChooser, converted in UFT-\/8 charset


\begin{DoxyParams}{Paramètres}
\item[{\em filesel}]GtkFileChooser widget handle \end{DoxyParams}
\begin{DoxyReturn}{Renvoie}
the filename string converted in UFT-\/8 charset. The returned string has been allocated in this function are need to be release where no more used (no need to add any my\_\-strdup string to use it) 
\end{DoxyReturn}


Définition à la ligne 224 du fichier utils\_\-file\_\-selection.c.

\index{utils\_\-file\_\-selection.h@{utils\_\-file\_\-selection.h}!file\_\-selection\_\-get\_\-last\_\-directory@{file\_\-selection\_\-get\_\-last\_\-directory}}
\index{file\_\-selection\_\-get\_\-last\_\-directory@{file\_\-selection\_\-get\_\-last\_\-directory}!utils_file_selection.h@{utils\_\-file\_\-selection.h}}
\subsubsection[{file\_\-selection\_\-get\_\-last\_\-directory}]{\setlength{\rightskip}{0pt plus 5cm}gchar$\ast$ file\_\-selection\_\-get\_\-last\_\-directory (GtkFileChooser $\ast$ {\em filesel}, \/  gboolean {\em ended})}\label{utils__file__selection_8h_a7ceee035264e3ea82cd7e5863650a6c3}
file\_\-selection\_\-get\_\-selections.


\begin{DoxyParams}{Paramètres}
\item[{\em filesel}]GtkFileChooser widget descriptor\end{DoxyParams}
Provided the exactly the same service as gtk\_\-file\_\-selection\_\-get\_\-selections, except that the results string of the list are already coded using UTF-\/8 charset.

\begin{DoxyReturn}{Renvoie}
table of selected filenames (with path) using UTF8 charset
\end{DoxyReturn}
The returned table is not the one returned by the gtk function but a newly allocated It should be unallocated by the caller. Use g\_\-strfreev() to free it. file\_\-selection\_\-get\_\-last\_\-directory   should the return string be terminated by a directory separator character

Get the last directory from the history pulldown menu, add or remove (depending of the ended argument) a last directory separator character at the end of the UTF8 returned string.

\begin{DoxyReturn}{Renvoie}
newly allocated utf-\/8 string which should be freed after no more needed. There is no need to use my\_\-strdup before using the returned string. 
\end{DoxyReturn}


Définition à la ligne 266 du fichier utils\_\-file\_\-selection.c.

\index{utils\_\-file\_\-selection.h@{utils\_\-file\_\-selection.h}!file\_\-selection\_\-new@{file\_\-selection\_\-new}}
\index{file\_\-selection\_\-new@{file\_\-selection\_\-new}!utils_file_selection.h@{utils\_\-file\_\-selection.h}}
\subsubsection[{file\_\-selection\_\-new}]{\setlength{\rightskip}{0pt plus 5cm}GtkWidget$\ast$ file\_\-selection\_\-new (const gchar $\ast$ {\em title}, \/  const gint {\em properties})}\label{utils__file__selection_8h_a28d01f93cf3b5c0f02cb506b15338c29}
Validate the selected filename from a GtkFileChooser

If the user select or enter an existing filename, this function asks her to confirm she wants to overwrite the file.


\begin{DoxyParams}{Paramètres}
\item[{\em selection\_\-fichier}]GtkFileChooser widget \end{DoxyParams}
\begin{DoxyReturn}{Renvoie}

\begin{DoxyItemize}
\item TRUE if the filename is ok (file does not exists or user confirm to overwrite it)
\item FALSE in all other cases (filename empty, ...) Handler called by the \char`\"{}Save\char`\"{} GTKFileSelection dialog on button\_\-ok \char`\"{}clicked\char`\"{} signal.
\end{DoxyItemize}
\end{DoxyReturn}
Send:
\begin{DoxyItemize}
\item GTK\_\-RESPONSE\_\-OK if the selected filename does not exists or if the user confirm the overwrite
\item GTK\_\-RESPONSE\_\-NONE in all others cases. Validate the selected filename from a GtkFileChooser. Check if file exists.
\end{DoxyItemize}


\begin{DoxyParams}{Paramètres}
\item[{\em selection\_\-fichier}]GtkFileChooser widget \end{DoxyParams}
\begin{DoxyReturn}{Renvoie}

\begin{DoxyItemize}
\item TRUE if the filename is ok (file exists and is valid)
\item FALSE in all other cases (filename empty, ...) Handler called by the \char`\"{}Open\char`\"{} GTKFileSelection dialog on button\_\-ok \char`\"{}clicked\char`\"{} signal.
\end{DoxyItemize}
\end{DoxyReturn}
Send:
\begin{DoxyItemize}
\item GTK\_\-RESPONSE\_\-OK if the selected filename exists
\item GTK\_\-RESPONSE\_\-NONE in all others cases. 
\end{DoxyItemize}

Définition à la ligne 160 du fichier utils\_\-file\_\-selection.c.

