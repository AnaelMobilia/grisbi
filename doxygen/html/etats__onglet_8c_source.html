<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<title>Grisbi:  Fichier source de etats_onglet.c</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="doxygen.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<!-- Généré par Doxygen 1.6.3 -->
<div class="navigation" id="top">
  <div class="tabs">
    <ul>
      <li><a href="main.html"><span>Page&nbsp;principale</span></a></li>
      <li><a href="pages.html"><span>Pages&nbsp;associées</span></a></li>
      <li><a href="annotated.html"><span>Structures&nbsp;de&nbsp;données</span></a></li>
      <li class="current"><a href="files.html"><span>Fichiers</span></a></li>
    </ul>
  </div>
  <div class="tabs">
    <ul>
      <li><a href="files.html"><span>Liste&nbsp;des&nbsp;fichiers</span></a></li>
      <li><a href="globals.html"><span>Portée&nbsp;globale</span></a></li>
    </ul>
  </div>
<h1>etats_onglet.c</h1><a href="etats__onglet_8c.html">Aller à la documentation de ce fichier.</a><div class="fragment"><pre class="fragment"><a name="l00001"></a>00001 <span class="comment">/* ************************************************************************** */</span>
<a name="l00002"></a>00002 <span class="comment">/*                                                                            */</span>
<a name="l00003"></a>00003 <span class="comment">/*     Copyright (C)    2000-2008 Cedric Auger (cedric@grisbi.org)            */</span>
<a name="l00004"></a>00004 <span class="comment">/*          2002-2008 Benjamin Drieu (bdrieu@april.org)                       */</span>
<a name="l00005"></a>00005 <span class="comment">/*          http://www.grisbi.org                                             */</span>
<a name="l00006"></a>00006 <span class="comment">/*                                                                            */</span>
<a name="l00007"></a>00007 <span class="comment">/*  This program is free software; you can redistribute it and/or modify      */</span>
<a name="l00008"></a>00008 <span class="comment">/*  it under the terms of the GNU General Public License as published by      */</span>
<a name="l00009"></a>00009 <span class="comment">/*  the Free Software Foundation; either version 2 of the License, or         */</span>
<a name="l00010"></a>00010 <span class="comment">/*  (at your option) any later version.                                       */</span>
<a name="l00011"></a>00011 <span class="comment">/*                                                                            */</span>
<a name="l00012"></a>00012 <span class="comment">/*  This program is distributed in the hope that it will be useful,           */</span>
<a name="l00013"></a>00013 <span class="comment">/*  but WITHOUT ANY WARRANTY; without even the implied warranty of            */</span>
<a name="l00014"></a>00014 <span class="comment">/*  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the             */</span>
<a name="l00015"></a>00015 <span class="comment">/*  GNU General Public License for more details.                              */</span>
<a name="l00016"></a>00016 <span class="comment">/*                                                                            */</span>
<a name="l00017"></a>00017 <span class="comment">/*  You should have received a copy of the GNU General Public License         */</span>
<a name="l00018"></a>00018 <span class="comment">/*  along with this program; if not, write to the Free Software               */</span>
<a name="l00019"></a>00019 <span class="comment">/*  Foundation, Inc., 59 Temple Place, Suite 330, Boston, MA  02111-1307  USA */</span>
<a name="l00020"></a>00020 <span class="comment">/*                                                                            */</span>
<a name="l00021"></a>00021 <span class="comment">/* ************************************************************************** */</span>
<a name="l00022"></a>00022 
<a name="l00028"></a>00028 <span class="preprocessor">#include &quot;<a class="code" href="include_8h.html">include.h</a>&quot;</span>
<a name="l00029"></a>00029 
<a name="l00030"></a>00030 
<a name="l00031"></a>00031 <span class="comment">/*START_INCLUDE*/</span>
<a name="l00032"></a>00032 <span class="preprocessor">#include &quot;<a class="code" href="etats__onglet_8h.html">etats_onglet.h</a>&quot;</span>
<a name="l00033"></a>00033 <span class="preprocessor">#include &quot;<a class="code" href="etats__calculs_8h.html">etats_calculs.h</a>&quot;</span>
<a name="l00034"></a>00034 <span class="preprocessor">#include &quot;<a class="code" href="dialog_8h.html">dialog.h</a>&quot;</span>
<a name="l00035"></a>00035 <span class="preprocessor">#include &quot;<a class="code" href="utils__file__selection_8h.html">utils_file_selection.h</a>&quot;</span>
<a name="l00036"></a>00036 <span class="preprocessor">#include &quot;<a class="code" href="gsb__automem_8h.html">gsb_automem.h</a>&quot;</span>
<a name="l00037"></a>00037 <span class="preprocessor">#include &quot;<a class="code" href="gsb__data__report__amout__comparison_8h.html">gsb_data_report_amout_comparison.h</a>&quot;</span>
<a name="l00038"></a>00038 <span class="preprocessor">#include &quot;<a class="code" href="gsb__data__report_8h.html">gsb_data_report.h</a>&quot;</span>
<a name="l00039"></a>00039 <span class="preprocessor">#include &quot;<a class="code" href="gsb__file_8h.html">gsb_file.h</a>&quot;</span>
<a name="l00040"></a>00040 <span class="preprocessor">#include &quot;<a class="code" href="gsb__file__others_8h.html">gsb_file_others.h</a>&quot;</span>
<a name="l00041"></a>00041 <span class="preprocessor">#include &quot;<a class="code" href="navigation_8h.html">navigation.h</a>&quot;</span>
<a name="l00042"></a>00042 <span class="preprocessor">#include &quot;<a class="code" href="gsb__report_8h.html">gsb_report.h</a>&quot;</span>
<a name="l00043"></a>00043 <span class="preprocessor">#include &quot;<a class="code" href="gsb__status_8h.html">gsb_status.h</a>&quot;</span>
<a name="l00044"></a>00044 <span class="preprocessor">#include &quot;<a class="code" href="traitement__variables_8h.html">traitement_variables.h</a>&quot;</span>
<a name="l00045"></a>00045 <span class="preprocessor">#include &quot;<a class="code" href="utils_8h.html">utils.h</a>&quot;</span>
<a name="l00046"></a>00046 <span class="preprocessor">#include &quot;<a class="code" href="etats__config_8h.html">etats_config.h</a>&quot;</span>
<a name="l00047"></a>00047 <span class="preprocessor">#include &quot;<a class="code" href="print__config_8h.html">print_config.h</a>&quot;</span>
<a name="l00048"></a>00048 <span class="preprocessor">#include &quot;<a class="code" href="print__report_8h.html">print_report.h</a>&quot;</span>
<a name="l00049"></a>00049 <span class="preprocessor">#include &quot;<a class="code" href="utils__files_8h.html">utils_files.h</a>&quot;</span>
<a name="l00050"></a>00050 <span class="preprocessor">#include &quot;<a class="code" href="structures_8h.html">structures.h</a>&quot;</span>
<a name="l00051"></a>00051 <span class="preprocessor">#include &quot;<a class="code" href="fenetre__principale_8h.html">fenetre_principale.h</a>&quot;</span>
<a name="l00052"></a>00052 <span class="preprocessor">#include &quot;<a class="code" href="print__config_8h.html">print_config.h</a>&quot;</span>
<a name="l00053"></a>00053 <span class="preprocessor">#include &quot;<a class="code" href="include_8h.html">include.h</a>&quot;</span>
<a name="l00054"></a>00054 <span class="comment">/*END_INCLUDE*/</span>
<a name="l00055"></a>00055 
<a name="l00056"></a>00056 <span class="comment">/*START_STATIC*/</span>
<a name="l00057"></a>00057 <span class="keyword">static</span> gboolean ajout_etat ( <span class="keywordtype">void</span> );
<a name="l00058"></a>00058 <span class="keyword">static</span> <span class="keywordtype">void</span> change_choix_nouvel_etat ( GtkWidget *combobox, GtkWidget *label_description );
<a name="l00059"></a>00059 <span class="keyword">static</span> <span class="keywordtype">void</span> dupliquer_etat ( <span class="keywordtype">void</span> );
<a name="l00060"></a>00060 <span class="keyword">static</span> <span class="keywordtype">void</span> efface_etat ( <span class="keywordtype">void</span> );
<a name="l00061"></a>00061 <span class="keyword">static</span> <span class="keywordtype">void</span> export_etat_courant_vers_csv ( gchar * filename );
<a name="l00062"></a>00062 <span class="keyword">static</span> <span class="keywordtype">void</span> export_etat_courant_vers_html ( gchar * filename );
<a name="l00063"></a>00063 <span class="keyword">static</span> <span class="keywordtype">void</span> exporter_etat ( <span class="keywordtype">void</span> );
<a name="l00064"></a>00064 <span class="keyword">static</span> GtkWidget *gsb_gui_create_report_toolbar ( <span class="keywordtype">void</span> );
<a name="l00065"></a>00065 <span class="keyword">static</span> gboolean gsb_report_export_change_format ( GtkWidget * combo, GtkWidget * selector );
<a name="l00066"></a>00066 <span class="keyword">static</span> <span class="keywordtype">void</span> importer_etat ( <span class="keywordtype">void</span> );
<a name="l00067"></a>00067 <span class="comment">/*END_STATIC*/</span>
<a name="l00068"></a>00068 
<a name="l00069"></a>00069 
<a name="l00070"></a>00070 <span class="keyword">static</span> GtkWidget *bouton_effacer_etat = NULL;
<a name="l00071"></a>00071 <span class="keyword">static</span> GtkWidget *bouton_personnaliser_etat = NULL;
<a name="l00072"></a>00072 <span class="keyword">static</span> GtkWidget *bouton_imprimer_etat = NULL;
<a name="l00073"></a>00073 <span class="keyword">static</span> GtkWidget *bouton_exporter_etat = NULL;
<a name="l00074"></a>00074 <span class="keyword">static</span> GtkWidget *bouton_dupliquer_etat = NULL;
<a name="l00075"></a><a class="code" href="etats__onglet_8c.html#adb1790226edec7f94cf9ddebf2790c62">00075</a> GtkWidget *<a class="code" href="etats__gtktable_8c.html#adb1790226edec7f94cf9ddebf2790c62">scrolled_window_etat</a> = NULL;          <span class="comment">/* contient l&#39;état en cours */</span>
<a name="l00076"></a><a class="code" href="etats__onglet_8c.html#a8c9db61caf800767da87c8e115ed2b12">00076</a> gint <a class="code" href="etats__affiche_8c.html#a8c9db61caf800767da87c8e115ed2b12">nb_colonnes</a>;
<a name="l00077"></a><a class="code" href="etats__onglet_8c.html#afc1615a7c4b111e99e0facb32aa27364">00077</a> gint <a class="code" href="etats__affiche_8c.html#afc1615a7c4b111e99e0facb32aa27364">ligne_debut_partie</a>;
<a name="l00078"></a><a class="code" href="etats__onglet_8c.html#ae92ea175fa6b21c845c3a0971646f6d5">00078</a> GtkWidget *<a class="code" href="etats__config_8c.html#ae92ea175fa6b21c845c3a0971646f6d5">notebook_etats</a> = NULL;
<a name="l00079"></a><a class="code" href="etats__onglet_8c.html#ad5b48cab6caf68a0ecc6f6984325b022">00079</a> GtkWidget *<a class="code" href="etats__config_8c.html#ad5b48cab6caf68a0ecc6f6984325b022">notebook_config_etat</a> = NULL;
<a name="l00080"></a>00080 <span class="keyword">static</span> GtkWidget *reports_toolbar = NULL;
<a name="l00081"></a>00081 
<a name="l00082"></a>00082 
<a name="l00083"></a>00083 <span class="comment">/*START_EXTERN*/</span>
<a name="l00084"></a>00084 <span class="keyword">extern</span> <span class="keyword">struct </span><a class="code" href="structstruct__etat__affichage.html">struct_etat_affichage</a> <a class="code" href="etats__csv_8c.html#a121b891fb05ffbd94cb74962dd89abd9">csv_affichage</a>;
<a name="l00085"></a>00085 <span class="keyword">extern</span> <span class="keyword">struct </span><a class="code" href="structstruct__etat__affichage.html">struct_etat_affichage</a> <a class="code" href="etats__html_8c.html#a82e802227c548b6c4ff47ca8b6c4958b">html_affichage</a>;
<a name="l00086"></a>00086 <span class="keyword">extern</span> <span class="keyword">struct </span><a class="code" href="structstruct__etat__affichage.html">struct_etat_affichage</a> <a class="code" href="etats__calculs_8c.html#aa79551ad1b2719219e91f89607c560d8">latex_affichage</a>;
<a name="l00087"></a>00087 <span class="keyword">extern</span> GtkWidget *<a class="code" href="bet__config_8c.html#a8924516aa4170f932308e93cf93a785b">notebook_general</a>;
<a name="l00088"></a>00088 <span class="keyword">extern</span> GtkWidget *<a class="code" href="accueil_8c.html#a3d346c08cf2d67c388caabffb412b293">window</a>;
<a name="l00089"></a>00089 <span class="comment">/*END_EXTERN*/</span>
<a name="l00090"></a>00090 
<a name="l00092"></a><a class="code" href="etats__onglet_8c.html#a210a4ff5228fd927bfaac3188a475392">00092</a> <span class="keyword">enum</span> <a class="code" href="etats__onglet_8c.html#a210a4ff5228fd927bfaac3188a475392">report_export_formats</a> {
<a name="l00093"></a><a class="code" href="etats__onglet_8c.html#a210a4ff5228fd927bfaac3188a475392a18a7d6ae0e4ce619ff5492108a4797de">00093</a>     <a class="code" href="etats__onglet_8c.html#a210a4ff5228fd927bfaac3188a475392a60b52a116540c534ca765e4b22ff1a38">REPORT_EGSB</a>, <a class="code" href="etats__onglet_8c.html#a210a4ff5228fd927bfaac3188a475392a1299c6079dd4f229c23bc570a833b6bd">REPORT_HTML</a>, <a class="code" href="etats__onglet_8c.html#a210a4ff5228fd927bfaac3188a475392a6fdb1d0f64f8c8c2c48d99a9519b591c">REPORT_CSV</a>, <a class="code" href="etats__onglet_8c.html#a210a4ff5228fd927bfaac3188a475392a0e4aa75ec68d44ab656438f7d41fc4fe">REPORT_PS</a>, <a class="code" href="etats__onglet_8c.html#a210a4ff5228fd927bfaac3188a475392a18a7d6ae0e4ce619ff5492108a4797de">REPORT_TEX</a>,
<a name="l00094"></a><a class="code" href="etats__onglet_8c.html#a210a4ff5228fd927bfaac3188a475392aae5ee54c37066b0c117cc236157f406f">00094</a>     <a class="code" href="etats__onglet_8c.html#a210a4ff5228fd927bfaac3188a475392aae5ee54c37066b0c117cc236157f406f">REPORT_MAX_FORMATS</a>,
<a name="l00095"></a>00095 };
<a name="l00096"></a>00096 
<a name="l00097"></a>00097 
<a name="l00098"></a>00098 
<a name="l00104"></a>00104 GtkWidget *gsb_gui_create_report_toolbar ( <span class="keywordtype">void</span> )
<a name="l00105"></a>00105 {
<a name="l00106"></a>00106     GtkWidget *hbox, *handlebox, *hbox2, *button;
<a name="l00107"></a>00107 
<a name="l00108"></a>00108     hbox = gtk_hbox_new ( FALSE, 5 );
<a name="l00109"></a>00109 
<a name="l00110"></a>00110     <span class="comment">/* HandleBox */</span>
<a name="l00111"></a>00111     handlebox = gtk_handle_box_new ();
<a name="l00112"></a>00112     gtk_box_pack_start ( GTK_BOX ( hbox ), handlebox, TRUE, TRUE, 0 );
<a name="l00113"></a>00113     <span class="comment">/* Hbox2 */</span>
<a name="l00114"></a>00114     hbox2 = gtk_hbox_new ( FALSE, 0 );
<a name="l00115"></a>00115     gtk_container_add ( GTK_CONTAINER(handlebox), hbox2 );
<a name="l00116"></a>00116 
<a name="l00117"></a>00117     <span class="comment">/* Add various icons */</span>
<a name="l00118"></a>00118     button = <a class="code" href="gsb__automem_8c.html#a3216736197a0a8924ab2b562f3c4a4e3">gsb_automem_imagefile_button_new</a> ( <a class="code" href="parametres_8c.html#ab2a744f5d2124688473d13979420e911">etat</a>.<a class="code" href="structgsb__etat__t.html#a021fc81e4d8dc513eeb6b709e666dc20">display_toolbar</a>,
<a name="l00119"></a>00119                                                _(<span class="stringliteral">&quot;New report&quot;</span>),
<a name="l00120"></a>00120                                                <span class="stringliteral">&quot;new-report.png&quot;</span>,
<a name="l00121"></a>00121                                                G_CALLBACK ( ajout_etat ),
<a name="l00122"></a>00122                                                NULL );
<a name="l00123"></a>00123     gtk_widget_set_tooltip_text ( GTK_WIDGET (button),
<a name="l00124"></a>00124                                   <a class="code" href="structures_8h.html#a865883e81d37f6f4329636d5170f5209">SPACIFY</a>(_(<span class="stringliteral">&quot;Create a new report&quot;</span>)));
<a name="l00125"></a>00125     gtk_box_pack_start ( GTK_BOX ( hbox2 ), button, FALSE, FALSE, 0 );
<a name="l00126"></a>00126 
<a name="l00127"></a>00127     button = <a class="code" href="gsb__automem_8c.html#a0f0fe2dcf0623f752de1213dd10295f3">gsb_automem_stock_button_new</a> ( <a class="code" href="parametres_8c.html#ab2a744f5d2124688473d13979420e911">etat</a>.<a class="code" href="structgsb__etat__t.html#a021fc81e4d8dc513eeb6b709e666dc20">display_toolbar</a>,
<a name="l00128"></a>00128                                            GTK_STOCK_OPEN,
<a name="l00129"></a>00129                                            _(<span class="stringliteral">&quot;Import&quot;</span>),
<a name="l00130"></a>00130                                            G_CALLBACK (importer_etat),
<a name="l00131"></a>00131                                            NULL );
<a name="l00132"></a>00132     gtk_widget_set_tooltip_text ( GTK_WIDGET (button),
<a name="l00133"></a>00133                                   <a class="code" href="structures_8h.html#a865883e81d37f6f4329636d5170f5209">SPACIFY</a>(_(<span class="stringliteral">&quot;Import a Grisbi report file (.egsb)&quot;</span>)));
<a name="l00134"></a>00134     gtk_box_pack_start ( GTK_BOX ( hbox2 ), button, FALSE, FALSE, 0 );
<a name="l00135"></a>00135 
<a name="l00136"></a>00136     bouton_exporter_etat = <a class="code" href="gsb__automem_8c.html#a0f0fe2dcf0623f752de1213dd10295f3">gsb_automem_stock_button_new</a> ( <a class="code" href="parametres_8c.html#ab2a744f5d2124688473d13979420e911">etat</a>.<a class="code" href="structgsb__etat__t.html#a021fc81e4d8dc513eeb6b709e666dc20">display_toolbar</a>,
<a name="l00137"></a>00137                                                          GTK_STOCK_SAVE,
<a name="l00138"></a>00138                                                          _(<span class="stringliteral">&quot;Export&quot;</span>),
<a name="l00139"></a>00139                                                          G_CALLBACK (exporter_etat),
<a name="l00140"></a>00140                                                          NULL );
<a name="l00141"></a>00141     gtk_widget_set_tooltip_text ( GTK_WIDGET (bouton_exporter_etat),
<a name="l00142"></a>00142                                   <a class="code" href="structures_8h.html#a865883e81d37f6f4329636d5170f5209">SPACIFY</a>(_(<span class="stringliteral">&quot;Export selected report to egsb, HTML, Tex, CSV, PostScript&quot;</span>)));
<a name="l00143"></a>00143     gtk_box_pack_start ( GTK_BOX ( hbox2 ), bouton_exporter_etat, FALSE, FALSE, 0 );
<a name="l00144"></a>00144 
<a name="l00145"></a>00145     <span class="comment">/* print button */</span>
<a name="l00146"></a>00146     bouton_imprimer_etat = <a class="code" href="gsb__automem_8c.html#a0f0fe2dcf0623f752de1213dd10295f3">gsb_automem_stock_button_new</a> ( <a class="code" href="parametres_8c.html#ab2a744f5d2124688473d13979420e911">etat</a>.<a class="code" href="structgsb__etat__t.html#a021fc81e4d8dc513eeb6b709e666dc20">display_toolbar</a>,
<a name="l00147"></a>00147                                                           GTK_STOCK_PRINT,
<a name="l00148"></a>00148                                                           _(<span class="stringliteral">&quot;Print&quot;</span>),
<a name="l00149"></a>00149                                                           G_CALLBACK (<a class="code" href="print__report_8h.html#a2a3450abdd3448d5b2a22d54784d4ad8">print_report</a>),
<a name="l00150"></a>00150                                                           NULL );
<a name="l00151"></a>00151     gtk_widget_set_tooltip_text ( GTK_WIDGET (bouton_imprimer_etat),
<a name="l00152"></a>00152                                   <a class="code" href="structures_8h.html#a865883e81d37f6f4329636d5170f5209">SPACIFY</a>(_(<span class="stringliteral">&quot;Print selected report&quot;</span>)));
<a name="l00153"></a>00153 
<a name="l00154"></a>00154     gtk_box_pack_start ( GTK_BOX ( hbox2 ), bouton_imprimer_etat, FALSE, FALSE, 0 );
<a name="l00155"></a>00155 
<a name="l00156"></a>00156     bouton_effacer_etat = <a class="code" href="gsb__automem_8c.html#a0f0fe2dcf0623f752de1213dd10295f3">gsb_automem_stock_button_new</a> ( <a class="code" href="parametres_8c.html#ab2a744f5d2124688473d13979420e911">etat</a>.<a class="code" href="structgsb__etat__t.html#a021fc81e4d8dc513eeb6b709e666dc20">display_toolbar</a>,
<a name="l00157"></a>00157                                                          GTK_STOCK_DELETE,
<a name="l00158"></a>00158                                                          _(<span class="stringliteral">&quot;Delete&quot;</span>),
<a name="l00159"></a>00159                                                          G_CALLBACK ( efface_etat ),
<a name="l00160"></a>00160                                                          NULL );
<a name="l00161"></a>00161     gtk_widget_set_tooltip_text ( GTK_WIDGET (bouton_effacer_etat),
<a name="l00162"></a>00162                                    <a class="code" href="structures_8h.html#a865883e81d37f6f4329636d5170f5209">SPACIFY</a>(_(<span class="stringliteral">&quot;Delete selected report&quot;</span>)));
<a name="l00163"></a>00163     gtk_box_pack_start ( GTK_BOX ( hbox2 ), bouton_effacer_etat, FALSE, FALSE, 0 );
<a name="l00164"></a>00164 
<a name="l00165"></a>00165     bouton_personnaliser_etat = <a class="code" href="gsb__automem_8c.html#a0f0fe2dcf0623f752de1213dd10295f3">gsb_automem_stock_button_new</a> ( <a class="code" href="parametres_8c.html#ab2a744f5d2124688473d13979420e911">etat</a>.<a class="code" href="structgsb__etat__t.html#a021fc81e4d8dc513eeb6b709e666dc20">display_toolbar</a>,
<a name="l00166"></a>00166                                                               GTK_STOCK_PROPERTIES,
<a name="l00167"></a>00167                                                               _(<span class="stringliteral">&quot;Properties&quot;</span>),
<a name="l00168"></a>00168                                                               G_CALLBACK (<a class="code" href="etats__config_8c.html#a9b69a48d62d062235b3e849dbf5cd951">personnalisation_etat</a>),
<a name="l00169"></a>00169                                                               NULL ),
<a name="l00170"></a>00170     gtk_widget_set_tooltip_text ( GTK_WIDGET (bouton_personnaliser_etat),
<a name="l00171"></a>00171                                   <a class="code" href="structures_8h.html#a865883e81d37f6f4329636d5170f5209">SPACIFY</a>(_(<span class="stringliteral">&quot;Edit selected report&quot;</span>)));
<a name="l00172"></a>00172     gtk_box_pack_start ( GTK_BOX ( hbox2 ), bouton_personnaliser_etat, FALSE, FALSE, 0 );
<a name="l00173"></a>00173 
<a name="l00174"></a>00174     bouton_dupliquer_etat = <a class="code" href="gsb__automem_8c.html#a0f0fe2dcf0623f752de1213dd10295f3">gsb_automem_stock_button_new</a> ( <a class="code" href="parametres_8c.html#ab2a744f5d2124688473d13979420e911">etat</a>.<a class="code" href="structgsb__etat__t.html#a021fc81e4d8dc513eeb6b709e666dc20">display_toolbar</a>,
<a name="l00175"></a>00175                                                           GTK_STOCK_COPY,
<a name="l00176"></a>00176                                                           _(<span class="stringliteral">&quot;Clone&quot;</span>),
<a name="l00177"></a>00177                                                           G_CALLBACK (dupliquer_etat),
<a name="l00178"></a>00178                                                           NULL ),
<a name="l00179"></a>00179     gtk_widget_set_tooltip_text ( GTK_WIDGET (bouton_dupliquer_etat),
<a name="l00180"></a>00180                                   <a class="code" href="structures_8h.html#a865883e81d37f6f4329636d5170f5209">SPACIFY</a>(_(<span class="stringliteral">&quot;Clone selected report&quot;</span>)));
<a name="l00181"></a>00181     gtk_box_pack_start ( GTK_BOX ( hbox2 ), bouton_dupliquer_etat, FALSE, FALSE, 0 );
<a name="l00182"></a>00182 
<a name="l00183"></a>00183     gtk_widget_show_all ( hbox );
<a name="l00184"></a>00184 
<a name="l00185"></a>00185     <span class="keywordflow">return</span> ( hbox );
<a name="l00186"></a>00186 }
<a name="l00187"></a>00187 
<a name="l00188"></a>00188 
<a name="l00189"></a>00189 
<a name="l00195"></a><a class="code" href="etats__onglet_8h.html#a285336f1df04e46f0e34f9c5f5264508">00195</a> GtkWidget *<a class="code" href="etats__onglet_8c.html#a285336f1df04e46f0e34f9c5f5264508">creation_onglet_etats</a> ( <span class="keywordtype">void</span> )
<a name="l00196"></a>00196 {
<a name="l00197"></a>00197     GtkWidget *tab, *vbox;
<a name="l00198"></a>00198 
<a name="l00199"></a>00199     tab = gtk_vbox_new ( FALSE, 6 );
<a name="l00200"></a>00200     reports_toolbar = gsb_gui_create_report_toolbar();
<a name="l00201"></a>00201     gtk_box_pack_start ( GTK_BOX ( tab ), reports_toolbar, FALSE, FALSE, 0 );
<a name="l00202"></a>00202 
<a name="l00203"></a>00203     <span class="comment">/* création du notebook contenant l&#39;état et la config */</span>
<a name="l00204"></a>00204     <a class="code" href="etats__config_8c.html#ae92ea175fa6b21c845c3a0971646f6d5">notebook_etats</a> = gtk_notebook_new ();
<a name="l00205"></a>00205     gtk_notebook_set_show_tabs ( GTK_NOTEBOOK ( <a class="code" href="etats__config_8c.html#ae92ea175fa6b21c845c3a0971646f6d5">notebook_etats</a> ), FALSE );
<a name="l00206"></a>00206     gtk_notebook_set_show_border ( GTK_NOTEBOOK(<a class="code" href="etats__config_8c.html#ae92ea175fa6b21c845c3a0971646f6d5">notebook_etats</a>), FALSE );
<a name="l00207"></a>00207     gtk_box_pack_start ( GTK_BOX ( tab ), <a class="code" href="etats__config_8c.html#ae92ea175fa6b21c845c3a0971646f6d5">notebook_etats</a>, TRUE, TRUE, 0 );
<a name="l00208"></a>00208 
<a name="l00209"></a>00209     <span class="comment">/* création de la partie droite */</span>
<a name="l00210"></a>00210 
<a name="l00211"></a>00211     vbox = gtk_vbox_new ( FALSE, 6 );
<a name="l00212"></a>00212     gtk_notebook_append_page ( GTK_NOTEBOOK ( <a class="code" href="etats__config_8c.html#ae92ea175fa6b21c845c3a0971646f6d5">notebook_etats</a> ), vbox, gtk_label_new ( _(<span class="stringliteral">&quot;Reports&quot;</span>)));
<a name="l00213"></a>00213 
<a name="l00214"></a>00214     <span class="comment">/* On met une scrolled window qui sera remplit par l&#39;état */</span>
<a name="l00215"></a>00215     <a class="code" href="etats__gtktable_8c.html#adb1790226edec7f94cf9ddebf2790c62">scrolled_window_etat</a> = gtk_scrolled_window_new ( FALSE, FALSE );
<a name="l00216"></a>00216     gtk_scrolled_window_set_shadow_type ( GTK_SCROLLED_WINDOW(<a class="code" href="etats__gtktable_8c.html#adb1790226edec7f94cf9ddebf2790c62">scrolled_window_etat</a>),
<a name="l00217"></a>00217                                           GTK_SHADOW_NONE );
<a name="l00218"></a>00218     gtk_scrolled_window_set_policy ( GTK_SCROLLED_WINDOW ( <a class="code" href="etats__gtktable_8c.html#adb1790226edec7f94cf9ddebf2790c62">scrolled_window_etat</a> ),
<a name="l00219"></a>00219                                      GTK_POLICY_AUTOMATIC, GTK_POLICY_AUTOMATIC );
<a name="l00220"></a>00220     gtk_box_pack_start ( GTK_BOX ( vbox ), <a class="code" href="etats__gtktable_8c.html#adb1790226edec7f94cf9ddebf2790c62">scrolled_window_etat</a>, TRUE, TRUE, 0 );
<a name="l00221"></a>00221 
<a name="l00222"></a>00222     gtk_widget_show_all ( tab );
<a name="l00223"></a>00223 
<a name="l00224"></a>00224     <a class="code" href="etats__onglet_8c.html#abb6e5627c18a42073725cc404ec23162">gsb_gui_unsensitive_report_widgets</a> ();
<a name="l00225"></a>00225 
<a name="l00226"></a>00226     <span class="keywordflow">return</span> ( tab );
<a name="l00227"></a>00227 }
<a name="l00228"></a>00228 
<a name="l00229"></a>00229 
<a name="l00236"></a>00236 gboolean ajout_etat ( <span class="keywordtype">void</span> )
<a name="l00237"></a>00237 {
<a name="l00238"></a>00238     gint report_number, amount_comparison_number, resultat;
<a name="l00239"></a>00239     GtkWidget *dialog, *frame, *combobox, *label_description;
<a name="l00240"></a>00240     GtkWidget *scrolled_window;
<a name="l00241"></a>00241 
<a name="l00242"></a>00242 
<a name="l00243"></a>00243     <span class="keywordflow">if</span> ( gtk_notebook_get_current_page ( GTK_NOTEBOOK ( <a class="code" href="bet__config_8c.html#a8924516aa4170f932308e93cf93a785b">notebook_general</a> ) ) != <a class="code" href="fenetre__principale_8h.html#a1667fdc1081851887c24c98c97d51767a45e7a3ecc5d1c0d580104fd50516fdb9">GSB_REPORTS_PAGE</a> )
<a name="l00244"></a>00244         gtk_notebook_set_current_page ( GTK_NOTEBOOK ( <a class="code" href="bet__config_8c.html#a8924516aa4170f932308e93cf93a785b">notebook_general</a> ), <a class="code" href="fenetre__principale_8h.html#a1667fdc1081851887c24c98c97d51767a45e7a3ecc5d1c0d580104fd50516fdb9">GSB_REPORTS_PAGE</a> );
<a name="l00245"></a>00245 
<a name="l00246"></a>00246     dialog = <a class="code" href="dialog_8c.html#aa20bfaae43172af04ddeb596029733a1">dialogue_special_no_run</a> ( GTK_MESSAGE_QUESTION,
<a name="l00247"></a>00247                                        GTK_BUTTONS_OK_CANCEL,
<a name="l00248"></a>00248                                        <a class="code" href="dialog_8c.html#a84758de40aa2807a4e5ebd97ede7df23">make_hint</a> ( _(<span class="stringliteral">&quot;Choose template for new report&quot;</span>),
<a name="l00249"></a>00249                                                    _(<span class="stringliteral">&quot;You are about to create a new report.  For convenience, you can choose between the following templates.  Reports may be customized later.&quot;</span> ) ) );
<a name="l00250"></a>00250 
<a name="l00251"></a>00251     frame = <a class="code" href="utils_8c.html#a22ba81fcf046b5bec6cf6d55d440abc5">new_paddingbox_with_title</a> ( GTK_DIALOG(dialog)-&gt;vbox, FALSE,
<a name="l00252"></a>00252                                         _(<span class="stringliteral">&quot;Report type&quot;</span>));
<a name="l00253"></a>00253 
<a name="l00254"></a>00254     <span class="comment">/* combobox for predefined reports */</span>
<a name="l00255"></a>00255     combobox = gtk_combo_box_new_text ();
<a name="l00256"></a>00256     gtk_box_pack_start ( GTK_BOX(frame), combobox, FALSE, FALSE, 0 );
<a name="l00257"></a>00257 
<a name="l00258"></a>00258     <span class="comment">/* on ajoute maintenant la frame */</span>
<a name="l00259"></a>00259     frame = <a class="code" href="utils_8c.html#a22ba81fcf046b5bec6cf6d55d440abc5">new_paddingbox_with_title</a> ( GTK_DIALOG(dialog)-&gt;vbox, TRUE,
<a name="l00260"></a>00260                                         _(<span class="stringliteral">&quot;Description&quot;</span>));
<a name="l00261"></a>00261 
<a name="l00262"></a>00262     <span class="comment">/* on met le label dans une scrolled window */</span>
<a name="l00263"></a>00263     scrolled_window = gtk_scrolled_window_new ( FALSE, FALSE );
<a name="l00264"></a>00264     gtk_scrolled_window_set_policy ( GTK_SCROLLED_WINDOW ( scrolled_window ),
<a name="l00265"></a>00265                                      GTK_POLICY_AUTOMATIC, GTK_POLICY_AUTOMATIC );
<a name="l00266"></a>00266     gtk_box_pack_start ( GTK_BOX(frame), scrolled_window, TRUE, TRUE, 6 );
<a name="l00267"></a>00267 
<a name="l00268"></a>00268     <span class="comment">/* on ajoute maintenant le label */</span>
<a name="l00269"></a>00269     label_description = gtk_label_new ( NULL );
<a name="l00270"></a>00270     gtk_misc_set_alignment ( GTK_MISC ( label_description ), 0, 0 );
<a name="l00271"></a>00271     gtk_label_set_line_wrap ( GTK_LABEL ( label_description ), TRUE );
<a name="l00272"></a>00272     gtk_scrolled_window_add_with_viewport ( GTK_SCROLLED_WINDOW ( scrolled_window ),
<a name="l00273"></a>00273                                             label_description );
<a name="l00274"></a>00274 
<a name="l00275"></a>00275     gtk_viewport_set_shadow_type ( GTK_VIEWPORT ( label_description -&gt; parent ),
<a name="l00276"></a>00276                                    GTK_SHADOW_NONE );
<a name="l00277"></a>00277 
<a name="l00278"></a>00278         <span class="comment">/* fill combobox */</span>
<a name="l00279"></a>00279         gtk_combo_box_append_text ( GTK_COMBO_BOX ( combobox ), _(<span class="stringliteral">&quot;Last month incomes and outgoings&quot;</span>) );
<a name="l00280"></a>00280         gtk_combo_box_append_text ( GTK_COMBO_BOX ( combobox ), _(<span class="stringliteral">&quot;Current month incomes and outgoings&quot;</span>) );
<a name="l00281"></a>00281         gtk_combo_box_append_text ( GTK_COMBO_BOX ( combobox ), _(<span class="stringliteral">&quot;Annual budget&quot;</span>) );
<a name="l00282"></a>00282         gtk_combo_box_append_text ( GTK_COMBO_BOX ( combobox ), _(<span class="stringliteral">&quot;Blank report&quot;</span>) );
<a name="l00283"></a>00283         gtk_combo_box_append_text ( GTK_COMBO_BOX ( combobox ), _(<span class="stringliteral">&quot;Cheques deposit&quot;</span>) );
<a name="l00284"></a>00284         gtk_combo_box_append_text ( GTK_COMBO_BOX ( combobox ), _(<span class="stringliteral">&quot;Monthly outgoings by payee&quot;</span>) );
<a name="l00285"></a>00285         gtk_combo_box_append_text ( GTK_COMBO_BOX ( combobox ), _(<span class="stringliteral">&quot;Search&quot;</span>) );
<a name="l00286"></a>00286 
<a name="l00287"></a>00287 
<a name="l00288"></a>00288         <span class="comment">/* set first entry and description */</span>
<a name="l00289"></a>00289         gtk_combo_box_set_active ( GTK_COMBO_BOX ( combobox ), 0 );
<a name="l00290"></a>00290         change_choix_nouvel_etat ( combobox, label_description );
<a name="l00291"></a>00291 
<a name="l00292"></a>00292         <span class="comment">/* update description based on selection */</span>
<a name="l00293"></a>00293         g_signal_connect ( G_OBJECT ( combobox ), <span class="stringliteral">&quot;changed&quot;</span>,
<a name="l00294"></a>00294                         G_CALLBACK ( change_choix_nouvel_etat ),
<a name="l00295"></a>00295                         G_OBJECT ( label_description ));
<a name="l00296"></a>00296 
<a name="l00297"></a>00297     gtk_box_set_spacing ( GTK_BOX(GTK_DIALOG(dialog)-&gt;vbox), 6 );
<a name="l00298"></a>00298     gtk_widget_show_all ( dialog );
<a name="l00299"></a>00299 
<a name="l00300"></a>00300     <span class="comment">/* on attend le choix de l&#39;utilisateur */</span>
<a name="l00301"></a>00301     resultat = gtk_dialog_run ( GTK_DIALOG ( dialog ) );
<a name="l00302"></a>00302 
<a name="l00303"></a>00303     <span class="keywordflow">if</span> ( resultat != GTK_RESPONSE_OK )
<a name="l00304"></a>00304     {
<a name="l00305"></a>00305         gtk_widget_destroy ( dialog );
<a name="l00306"></a>00306         <span class="keywordflow">return</span> FALSE;
<a name="l00307"></a>00307     }
<a name="l00308"></a>00308 
<a name="l00309"></a>00309         <span class="comment">/* get the wanted report */</span>
<a name="l00310"></a>00310         resultat = gtk_combo_box_get_active ( GTK_COMBO_BOX (combobox) );
<a name="l00311"></a>00311         gtk_widget_destroy ( GTK_WIDGET ( dialog ));
<a name="l00312"></a>00312 
<a name="l00313"></a>00313     <span class="comment">/* create and fill the new report */</span>
<a name="l00314"></a>00314 
<a name="l00315"></a>00315     <span class="keywordflow">switch</span> ( resultat )
<a name="l00316"></a>00316     {
<a name="l00317"></a>00317         <span class="keywordflow">case</span> 0:
<a name="l00318"></a>00318             <span class="comment">/*  Last month incomes and outgoings  */</span>
<a name="l00319"></a>00319 
<a name="l00320"></a>00320             report_number = <a class="code" href="gsb__data__report_8c.html#a82fe1c2ce10e0375e0468b35d6727fc2">gsb_data_report_new</a> (_(<span class="stringliteral">&quot;Last month incomes and outgoings&quot;</span>));
<a name="l00321"></a>00321 
<a name="l00322"></a>00322             <a class="code" href="gsb__data__report_8c.html#a4e04bc87652541afa8393f847edc382a">gsb_data_report_set_split_credit_debit</a> ( report_number,
<a name="l00323"></a>00323                                                      1 );
<a name="l00324"></a>00324             <a class="code" href="gsb__data__report_8c.html#a32f4be4d98f68b6c96ca94bebb79de20">gsb_data_report_set_date_type</a> ( report_number, 7 );
<a name="l00325"></a>00325 
<a name="l00326"></a>00326             <span class="comment">/*   le classement de base est 1-2-3-4-5-6 */</span>
<a name="l00327"></a>00327 
<a name="l00328"></a>00328             <a class="code" href="gsb__data__report_8c.html#ac470e04ffa4140d369eaca9e93523f3f">gsb_data_report_set_sorting_type</a> ( report_number,
<a name="l00329"></a>00329                                                g_slist_append ( <a class="code" href="gsb__data__report_8c.html#a124d944a5ed747acf82c7d8986d47ee8">gsb_data_report_get_sorting_type</a> (report_number),
<a name="l00330"></a>00330                                                                 GINT_TO_POINTER ( 1 )));
<a name="l00331"></a>00331             <a class="code" href="gsb__data__report_8c.html#ac470e04ffa4140d369eaca9e93523f3f">gsb_data_report_set_sorting_type</a> ( report_number,
<a name="l00332"></a>00332                                                g_slist_append ( <a class="code" href="gsb__data__report_8c.html#a124d944a5ed747acf82c7d8986d47ee8">gsb_data_report_get_sorting_type</a> (report_number),
<a name="l00333"></a>00333                                                                 GINT_TO_POINTER ( 2 )));
<a name="l00334"></a>00334             <a class="code" href="gsb__data__report_8c.html#ac470e04ffa4140d369eaca9e93523f3f">gsb_data_report_set_sorting_type</a> ( report_number,
<a name="l00335"></a>00335                                                g_slist_append ( <a class="code" href="gsb__data__report_8c.html#a124d944a5ed747acf82c7d8986d47ee8">gsb_data_report_get_sorting_type</a> (report_number),
<a name="l00336"></a>00336                                                                 GINT_TO_POINTER ( 3 )));
<a name="l00337"></a>00337             <a class="code" href="gsb__data__report_8c.html#ac470e04ffa4140d369eaca9e93523f3f">gsb_data_report_set_sorting_type</a> ( report_number,
<a name="l00338"></a>00338                                                g_slist_append ( <a class="code" href="gsb__data__report_8c.html#a124d944a5ed747acf82c7d8986d47ee8">gsb_data_report_get_sorting_type</a> (report_number),
<a name="l00339"></a>00339                                                                 GINT_TO_POINTER ( 4 )));
<a name="l00340"></a>00340             <a class="code" href="gsb__data__report_8c.html#ac470e04ffa4140d369eaca9e93523f3f">gsb_data_report_set_sorting_type</a> ( report_number,
<a name="l00341"></a>00341                                                g_slist_append ( <a class="code" href="gsb__data__report_8c.html#a124d944a5ed747acf82c7d8986d47ee8">gsb_data_report_get_sorting_type</a> (report_number),
<a name="l00342"></a>00342                                                                 GINT_TO_POINTER ( 5 )));
<a name="l00343"></a>00343             <a class="code" href="gsb__data__report_8c.html#ac470e04ffa4140d369eaca9e93523f3f">gsb_data_report_set_sorting_type</a> ( report_number,
<a name="l00344"></a>00344                                                g_slist_append ( <a class="code" href="gsb__data__report_8c.html#a124d944a5ed747acf82c7d8986d47ee8">gsb_data_report_get_sorting_type</a> (report_number),
<a name="l00345"></a>00345                                                                 GINT_TO_POINTER ( 6 )));
<a name="l00346"></a>00346 
<a name="l00347"></a>00347             <a class="code" href="gsb__data__report_8c.html#aa672eb741c6007e90dd909a2a2ca50c3">gsb_data_report_set_transfer_choice</a> ( report_number,
<a name="l00348"></a>00348                                                   2 );
<a name="l00349"></a>00349             <a class="code" href="gsb__data__report_8c.html#a8214ff79a8eda5c90ced8765cd4d2332">gsb_data_report_set_category_used</a> ( report_number,
<a name="l00350"></a>00350                                                 1 );
<a name="l00351"></a>00351             <a class="code" href="gsb__data__report_8c.html#ae828391902dac653842424728c1145c8">gsb_data_report_set_category_show_sub_category</a> ( report_number,
<a name="l00352"></a>00352                                                              1 );
<a name="l00353"></a>00353             <a class="code" href="gsb__data__report_8c.html#adffc908b069708969325ace8c9458dba">gsb_data_report_set_category_show_category_amount</a> ( report_number,
<a name="l00354"></a>00354                                                                 1 );
<a name="l00355"></a>00355             <a class="code" href="gsb__data__report_8c.html#a5dcb920f8a7a54d32c3946ebc37ecd84">gsb_data_report_set_category_show_sub_category_amount</a> ( report_number,
<a name="l00356"></a>00356                                                                     1 );
<a name="l00357"></a>00357             <a class="code" href="gsb__data__report_8c.html#a33d95bde5fe8a0234bd1cae6b95343a6">gsb_data_report_set_category_show_without_category</a> ( report_number,
<a name="l00358"></a>00358                                                                  1 );
<a name="l00359"></a>00359             <a class="code" href="gsb__data__report_8c.html#ab9f1fb9448436b4c66f4531c812f83ed">gsb_data_report_set_category_show_name</a> ( report_number,
<a name="l00360"></a>00360                                                      1 );
<a name="l00361"></a>00361 
<a name="l00362"></a>00362             <span class="comment">/*   les devises sont à 1 (euro) */</span>
<a name="l00363"></a>00363 
<a name="l00364"></a>00364             <a class="code" href="gsb__data__report_8c.html#a62c52c55575358b3f8e6a5bc2b609cd1">gsb_data_report_set_currency_general</a> ( report_number,
<a name="l00365"></a>00365                                                    1 );
<a name="l00366"></a>00366             <a class="code" href="gsb__data__report_8c.html#a658593daf7e49a64355a99ad6cd06a85">gsb_data_report_set_category_currency</a> ( report_number,
<a name="l00367"></a>00367                                                     1 );
<a name="l00368"></a>00368             <a class="code" href="gsb__data__report_8c.html#a77ed5a9735965540ea81585f9a6350f2">gsb_data_report_set_budget_currency</a> ( report_number,
<a name="l00369"></a>00369                                                   1 );
<a name="l00370"></a>00370             <a class="code" href="gsb__data__report_8c.html#a182247da4a5f2d536eda8e47b99a4af6">gsb_data_report_set_payee_currency</a> ( report_number,
<a name="l00371"></a>00371                                                  1 );
<a name="l00372"></a>00372             <a class="code" href="gsb__data__report_8c.html#a7afbedc46c35638211fefa91a96f2685">gsb_data_report_set_amount_comparison_currency</a> ( report_number,
<a name="l00373"></a>00373                                                              1 );
<a name="l00374"></a>00374 
<a name="l00375"></a>00375             <span class="keywordflow">break</span>;
<a name="l00376"></a>00376 
<a name="l00377"></a>00377         <span class="keywordflow">case</span> 1:
<a name="l00378"></a>00378             <span class="comment">/*  Current month incomes and outgoings */</span>
<a name="l00379"></a>00379 
<a name="l00380"></a>00380             report_number = <a class="code" href="gsb__data__report_8c.html#a82fe1c2ce10e0375e0468b35d6727fc2">gsb_data_report_new</a> (_(<span class="stringliteral">&quot;Current month incomes and outgoings&quot;</span>));
<a name="l00381"></a>00381 
<a name="l00382"></a>00382             <a class="code" href="gsb__data__report_8c.html#a4e04bc87652541afa8393f847edc382a">gsb_data_report_set_split_credit_debit</a> ( report_number,
<a name="l00383"></a>00383                                                      1 );
<a name="l00384"></a>00384             <a class="code" href="gsb__data__report_8c.html#a32f4be4d98f68b6c96ca94bebb79de20">gsb_data_report_set_date_type</a> ( report_number,
<a name="l00385"></a>00385                                             3 );
<a name="l00386"></a>00386 
<a name="l00387"></a>00387 
<a name="l00388"></a>00388             <span class="comment">/*   le classement de base est 1-2-3-4-5-6 (cf structure.h) */</span>
<a name="l00389"></a>00389 
<a name="l00390"></a>00390             <a class="code" href="gsb__data__report_8c.html#ac470e04ffa4140d369eaca9e93523f3f">gsb_data_report_set_sorting_type</a> ( report_number,
<a name="l00391"></a>00391                                                g_slist_append ( <a class="code" href="gsb__data__report_8c.html#a124d944a5ed747acf82c7d8986d47ee8">gsb_data_report_get_sorting_type</a> (report_number),
<a name="l00392"></a>00392                                                                 GINT_TO_POINTER ( 1 )));
<a name="l00393"></a>00393             <a class="code" href="gsb__data__report_8c.html#ac470e04ffa4140d369eaca9e93523f3f">gsb_data_report_set_sorting_type</a> ( report_number,
<a name="l00394"></a>00394                                                g_slist_append ( <a class="code" href="gsb__data__report_8c.html#a124d944a5ed747acf82c7d8986d47ee8">gsb_data_report_get_sorting_type</a> (report_number),
<a name="l00395"></a>00395                                                                 GINT_TO_POINTER ( 2 )));
<a name="l00396"></a>00396             <a class="code" href="gsb__data__report_8c.html#ac470e04ffa4140d369eaca9e93523f3f">gsb_data_report_set_sorting_type</a> ( report_number,
<a name="l00397"></a>00397                                                g_slist_append ( <a class="code" href="gsb__data__report_8c.html#a124d944a5ed747acf82c7d8986d47ee8">gsb_data_report_get_sorting_type</a> (report_number),
<a name="l00398"></a>00398                                                                 GINT_TO_POINTER ( 3 )));
<a name="l00399"></a>00399             <a class="code" href="gsb__data__report_8c.html#ac470e04ffa4140d369eaca9e93523f3f">gsb_data_report_set_sorting_type</a> ( report_number,
<a name="l00400"></a>00400                                                g_slist_append ( <a class="code" href="gsb__data__report_8c.html#a124d944a5ed747acf82c7d8986d47ee8">gsb_data_report_get_sorting_type</a> (report_number),
<a name="l00401"></a>00401                                                                 GINT_TO_POINTER ( 4 )));
<a name="l00402"></a>00402             <a class="code" href="gsb__data__report_8c.html#ac470e04ffa4140d369eaca9e93523f3f">gsb_data_report_set_sorting_type</a> ( report_number,
<a name="l00403"></a>00403                                                g_slist_append ( <a class="code" href="gsb__data__report_8c.html#a124d944a5ed747acf82c7d8986d47ee8">gsb_data_report_get_sorting_type</a> (report_number),
<a name="l00404"></a>00404                                                                 GINT_TO_POINTER ( 5 )));
<a name="l00405"></a>00405             <a class="code" href="gsb__data__report_8c.html#ac470e04ffa4140d369eaca9e93523f3f">gsb_data_report_set_sorting_type</a> ( report_number,
<a name="l00406"></a>00406                                                g_slist_append ( <a class="code" href="gsb__data__report_8c.html#a124d944a5ed747acf82c7d8986d47ee8">gsb_data_report_get_sorting_type</a> (report_number),
<a name="l00407"></a>00407                                                                 GINT_TO_POINTER ( 6 )));
<a name="l00408"></a>00408 
<a name="l00409"></a>00409 
<a name="l00410"></a>00410             <a class="code" href="gsb__data__report_8c.html#aa672eb741c6007e90dd909a2a2ca50c3">gsb_data_report_set_transfer_choice</a> ( report_number,
<a name="l00411"></a>00411                                                   2 );
<a name="l00412"></a>00412             <a class="code" href="gsb__data__report_8c.html#a8214ff79a8eda5c90ced8765cd4d2332">gsb_data_report_set_category_used</a> ( report_number,
<a name="l00413"></a>00413                                                 1 );
<a name="l00414"></a>00414             <a class="code" href="gsb__data__report_8c.html#ae828391902dac653842424728c1145c8">gsb_data_report_set_category_show_sub_category</a> ( report_number,
<a name="l00415"></a>00415                                                              1 );
<a name="l00416"></a>00416             <a class="code" href="gsb__data__report_8c.html#adffc908b069708969325ace8c9458dba">gsb_data_report_set_category_show_category_amount</a> ( report_number,
<a name="l00417"></a>00417                                                                 1 );
<a name="l00418"></a>00418             <a class="code" href="gsb__data__report_8c.html#a5dcb920f8a7a54d32c3946ebc37ecd84">gsb_data_report_set_category_show_sub_category_amount</a> ( report_number,
<a name="l00419"></a>00419                                                                     1 );
<a name="l00420"></a>00420             <a class="code" href="gsb__data__report_8c.html#a33d95bde5fe8a0234bd1cae6b95343a6">gsb_data_report_set_category_show_without_category</a> ( report_number,
<a name="l00421"></a>00421                                                                  1 );
<a name="l00422"></a>00422             <a class="code" href="gsb__data__report_8c.html#ab9f1fb9448436b4c66f4531c812f83ed">gsb_data_report_set_category_show_name</a> ( report_number,
<a name="l00423"></a>00423                                                      1 );
<a name="l00424"></a>00424 
<a name="l00425"></a>00425             <span class="comment">/*   les devises sont à 1 (euro) */</span>
<a name="l00426"></a>00426 
<a name="l00427"></a>00427             <a class="code" href="gsb__data__report_8c.html#a62c52c55575358b3f8e6a5bc2b609cd1">gsb_data_report_set_currency_general</a> ( report_number,
<a name="l00428"></a>00428                                                    1 );
<a name="l00429"></a>00429             <a class="code" href="gsb__data__report_8c.html#a658593daf7e49a64355a99ad6cd06a85">gsb_data_report_set_category_currency</a> ( report_number,
<a name="l00430"></a>00430                                                     1 );
<a name="l00431"></a>00431             <a class="code" href="gsb__data__report_8c.html#a77ed5a9735965540ea81585f9a6350f2">gsb_data_report_set_budget_currency</a> ( report_number,
<a name="l00432"></a>00432                                                   1 );
<a name="l00433"></a>00433             <a class="code" href="gsb__data__report_8c.html#a182247da4a5f2d536eda8e47b99a4af6">gsb_data_report_set_payee_currency</a> ( report_number,
<a name="l00434"></a>00434                                                  1 );
<a name="l00435"></a>00435             <a class="code" href="gsb__data__report_8c.html#a7afbedc46c35638211fefa91a96f2685">gsb_data_report_set_amount_comparison_currency</a> ( report_number,
<a name="l00436"></a>00436                                                              1 );
<a name="l00437"></a>00437 
<a name="l00438"></a>00438             <span class="keywordflow">break</span>;
<a name="l00439"></a>00439 
<a name="l00440"></a>00440 
<a name="l00441"></a>00441         <span class="keywordflow">case</span> 2:
<a name="l00442"></a>00442 
<a name="l00443"></a>00443             <span class="comment">/* Annual budget */</span>
<a name="l00444"></a>00444 
<a name="l00445"></a>00445             report_number = <a class="code" href="gsb__data__report_8c.html#a82fe1c2ce10e0375e0468b35d6727fc2">gsb_data_report_new</a> (_(<span class="stringliteral">&quot;Annual budget&quot;</span>));
<a name="l00446"></a>00446 
<a name="l00447"></a>00447             <span class="comment">/*   le classement de base est 1-2-3-4-5-6 (cf structure.h) */</span>
<a name="l00448"></a>00448 
<a name="l00449"></a>00449             <a class="code" href="gsb__data__report_8c.html#ac470e04ffa4140d369eaca9e93523f3f">gsb_data_report_set_sorting_type</a> ( report_number,
<a name="l00450"></a>00450                                                g_slist_append ( <a class="code" href="gsb__data__report_8c.html#a124d944a5ed747acf82c7d8986d47ee8">gsb_data_report_get_sorting_type</a> (report_number),
<a name="l00451"></a>00451                                                                 GINT_TO_POINTER ( 1 )));
<a name="l00452"></a>00452             <a class="code" href="gsb__data__report_8c.html#ac470e04ffa4140d369eaca9e93523f3f">gsb_data_report_set_sorting_type</a> ( report_number,
<a name="l00453"></a>00453                                                g_slist_append ( <a class="code" href="gsb__data__report_8c.html#a124d944a5ed747acf82c7d8986d47ee8">gsb_data_report_get_sorting_type</a> (report_number),
<a name="l00454"></a>00454                                                                 GINT_TO_POINTER ( 2 )));
<a name="l00455"></a>00455             <a class="code" href="gsb__data__report_8c.html#ac470e04ffa4140d369eaca9e93523f3f">gsb_data_report_set_sorting_type</a> ( report_number,
<a name="l00456"></a>00456                                                g_slist_append ( <a class="code" href="gsb__data__report_8c.html#a124d944a5ed747acf82c7d8986d47ee8">gsb_data_report_get_sorting_type</a> (report_number),
<a name="l00457"></a>00457                                                                 GINT_TO_POINTER ( 3 )));
<a name="l00458"></a>00458             <a class="code" href="gsb__data__report_8c.html#ac470e04ffa4140d369eaca9e93523f3f">gsb_data_report_set_sorting_type</a> ( report_number,
<a name="l00459"></a>00459                                                g_slist_append ( <a class="code" href="gsb__data__report_8c.html#a124d944a5ed747acf82c7d8986d47ee8">gsb_data_report_get_sorting_type</a> (report_number),
<a name="l00460"></a>00460                                                                 GINT_TO_POINTER ( 4 )));
<a name="l00461"></a>00461             <a class="code" href="gsb__data__report_8c.html#ac470e04ffa4140d369eaca9e93523f3f">gsb_data_report_set_sorting_type</a> ( report_number,
<a name="l00462"></a>00462                                                g_slist_append ( <a class="code" href="gsb__data__report_8c.html#a124d944a5ed747acf82c7d8986d47ee8">gsb_data_report_get_sorting_type</a> (report_number),
<a name="l00463"></a>00463                                                                 GINT_TO_POINTER ( 5 )));
<a name="l00464"></a>00464             <a class="code" href="gsb__data__report_8c.html#ac470e04ffa4140d369eaca9e93523f3f">gsb_data_report_set_sorting_type</a> ( report_number,
<a name="l00465"></a>00465                                                g_slist_append ( <a class="code" href="gsb__data__report_8c.html#a124d944a5ed747acf82c7d8986d47ee8">gsb_data_report_get_sorting_type</a> (report_number),
<a name="l00466"></a>00466                                                                 GINT_TO_POINTER ( 6 )));
<a name="l00467"></a>00467 
<a name="l00468"></a>00468 
<a name="l00469"></a>00469             <span class="comment">/*   les devises sont à 1 (euro) */</span>
<a name="l00470"></a>00470 
<a name="l00471"></a>00471             <a class="code" href="gsb__data__report_8c.html#a62c52c55575358b3f8e6a5bc2b609cd1">gsb_data_report_set_currency_general</a> ( report_number,
<a name="l00472"></a>00472                                                    1 );
<a name="l00473"></a>00473             <a class="code" href="gsb__data__report_8c.html#a658593daf7e49a64355a99ad6cd06a85">gsb_data_report_set_category_currency</a> ( report_number,
<a name="l00474"></a>00474                                                     1 );
<a name="l00475"></a>00475             <a class="code" href="gsb__data__report_8c.html#a77ed5a9735965540ea81585f9a6350f2">gsb_data_report_set_budget_currency</a> ( report_number,
<a name="l00476"></a>00476                                                   1 );
<a name="l00477"></a>00477             <a class="code" href="gsb__data__report_8c.html#a182247da4a5f2d536eda8e47b99a4af6">gsb_data_report_set_payee_currency</a> ( report_number,
<a name="l00478"></a>00478                                                  1 );
<a name="l00479"></a>00479             <a class="code" href="gsb__data__report_8c.html#a7afbedc46c35638211fefa91a96f2685">gsb_data_report_set_amount_comparison_currency</a> ( report_number,
<a name="l00480"></a>00480                                                              1 );
<a name="l00481"></a>00481 
<a name="l00482"></a>00482             <a class="code" href="gsb__data__report_8c.html#a4e04bc87652541afa8393f847edc382a">gsb_data_report_set_split_credit_debit</a> ( report_number,
<a name="l00483"></a>00483                                                      1 );
<a name="l00484"></a>00484             <a class="code" href="gsb__data__report_8c.html#a32f4be4d98f68b6c96ca94bebb79de20">gsb_data_report_set_date_type</a> ( report_number,
<a name="l00485"></a>00485                                             4 );
<a name="l00486"></a>00486             <a class="code" href="gsb__data__report_8c.html#a8214ff79a8eda5c90ced8765cd4d2332">gsb_data_report_set_category_used</a> ( report_number,
<a name="l00487"></a>00487                                                 1 );
<a name="l00488"></a>00488             <a class="code" href="gsb__data__report_8c.html#adffc908b069708969325ace8c9458dba">gsb_data_report_set_category_show_category_amount</a> ( report_number,
<a name="l00489"></a>00489                                                                 1 );
<a name="l00490"></a>00490             <a class="code" href="gsb__data__report_8c.html#ae828391902dac653842424728c1145c8">gsb_data_report_set_category_show_sub_category</a> ( report_number,
<a name="l00491"></a>00491                                                              1 );
<a name="l00492"></a>00492             <a class="code" href="gsb__data__report_8c.html#a33d95bde5fe8a0234bd1cae6b95343a6">gsb_data_report_set_category_show_without_category</a> ( report_number,
<a name="l00493"></a>00493                                                                  1 );
<a name="l00494"></a>00494             <a class="code" href="gsb__data__report_8c.html#a5dcb920f8a7a54d32c3946ebc37ecd84">gsb_data_report_set_category_show_sub_category_amount</a> ( report_number,
<a name="l00495"></a>00495                                                                     1 );
<a name="l00496"></a>00496             <a class="code" href="gsb__data__report_8c.html#ab9f1fb9448436b4c66f4531c812f83ed">gsb_data_report_set_category_show_name</a> ( report_number,
<a name="l00497"></a>00497                                                      1 );
<a name="l00498"></a>00498             <a class="code" href="gsb__data__report_8c.html#a1750e8d64c30f9fde6862653b0b32d57">gsb_data_report_set_amount_comparison_only_report_non_null</a> ( report_number,
<a name="l00499"></a>00499                                                                          1 );
<a name="l00500"></a>00500 
<a name="l00501"></a>00501             <span class="comment">/*   tout le reste est à NULL, ce qui est très bien */</span>
<a name="l00502"></a>00502 
<a name="l00503"></a>00503             <span class="keywordflow">break</span>;
<a name="l00504"></a>00504 
<a name="l00505"></a>00505 
<a name="l00506"></a>00506 
<a name="l00507"></a>00507         <span class="keywordflow">case</span> 3:
<a name="l00508"></a>00508 
<a name="l00509"></a>00509             <span class="comment">/* Blank report */</span>
<a name="l00510"></a>00510 
<a name="l00511"></a>00511             report_number = <a class="code" href="gsb__data__report_8c.html#a82fe1c2ce10e0375e0468b35d6727fc2">gsb_data_report_new</a> (_(<span class="stringliteral">&quot;Blank report&quot;</span>));
<a name="l00512"></a>00512 
<a name="l00513"></a>00513             <span class="comment">/*   le classement de base est 1-2-3-4-5-6  */</span>
<a name="l00514"></a>00514 
<a name="l00515"></a>00515             <a class="code" href="gsb__data__report_8c.html#ac470e04ffa4140d369eaca9e93523f3f">gsb_data_report_set_sorting_type</a> ( report_number,
<a name="l00516"></a>00516                                                g_slist_append ( <a class="code" href="gsb__data__report_8c.html#a124d944a5ed747acf82c7d8986d47ee8">gsb_data_report_get_sorting_type</a> (report_number),
<a name="l00517"></a>00517                                                                 GINT_TO_POINTER ( 1 )));
<a name="l00518"></a>00518             <a class="code" href="gsb__data__report_8c.html#ac470e04ffa4140d369eaca9e93523f3f">gsb_data_report_set_sorting_type</a> ( report_number,
<a name="l00519"></a>00519                                                g_slist_append ( <a class="code" href="gsb__data__report_8c.html#a124d944a5ed747acf82c7d8986d47ee8">gsb_data_report_get_sorting_type</a> (report_number),
<a name="l00520"></a>00520                                                                 GINT_TO_POINTER ( 2 )));
<a name="l00521"></a>00521             <a class="code" href="gsb__data__report_8c.html#ac470e04ffa4140d369eaca9e93523f3f">gsb_data_report_set_sorting_type</a> ( report_number,
<a name="l00522"></a>00522                                                g_slist_append ( <a class="code" href="gsb__data__report_8c.html#a124d944a5ed747acf82c7d8986d47ee8">gsb_data_report_get_sorting_type</a> (report_number),
<a name="l00523"></a>00523                                                                 GINT_TO_POINTER ( 3 )));
<a name="l00524"></a>00524             <a class="code" href="gsb__data__report_8c.html#ac470e04ffa4140d369eaca9e93523f3f">gsb_data_report_set_sorting_type</a> ( report_number,
<a name="l00525"></a>00525                                                g_slist_append ( <a class="code" href="gsb__data__report_8c.html#a124d944a5ed747acf82c7d8986d47ee8">gsb_data_report_get_sorting_type</a> (report_number),
<a name="l00526"></a>00526                                                                 GINT_TO_POINTER ( 4 )));
<a name="l00527"></a>00527             <a class="code" href="gsb__data__report_8c.html#ac470e04ffa4140d369eaca9e93523f3f">gsb_data_report_set_sorting_type</a> ( report_number,
<a name="l00528"></a>00528                                                g_slist_append ( <a class="code" href="gsb__data__report_8c.html#a124d944a5ed747acf82c7d8986d47ee8">gsb_data_report_get_sorting_type</a> (report_number),
<a name="l00529"></a>00529                                                                 GINT_TO_POINTER ( 5 )));
<a name="l00530"></a>00530             <a class="code" href="gsb__data__report_8c.html#ac470e04ffa4140d369eaca9e93523f3f">gsb_data_report_set_sorting_type</a> ( report_number,
<a name="l00531"></a>00531                                                g_slist_append ( <a class="code" href="gsb__data__report_8c.html#a124d944a5ed747acf82c7d8986d47ee8">gsb_data_report_get_sorting_type</a> (report_number),
<a name="l00532"></a>00532                                                                 GINT_TO_POINTER ( 6 )));
<a name="l00533"></a>00533 
<a name="l00534"></a>00534             <span class="comment">/*   les devises sont à 1 (euro) */</span>
<a name="l00535"></a>00535 
<a name="l00536"></a>00536             <a class="code" href="gsb__data__report_8c.html#a62c52c55575358b3f8e6a5bc2b609cd1">gsb_data_report_set_currency_general</a> ( report_number,
<a name="l00537"></a>00537                                                    1 );
<a name="l00538"></a>00538             <a class="code" href="gsb__data__report_8c.html#a658593daf7e49a64355a99ad6cd06a85">gsb_data_report_set_category_currency</a> ( report_number,
<a name="l00539"></a>00539                                                     1 );
<a name="l00540"></a>00540             <a class="code" href="gsb__data__report_8c.html#a77ed5a9735965540ea81585f9a6350f2">gsb_data_report_set_budget_currency</a> ( report_number,
<a name="l00541"></a>00541                                                   1 );
<a name="l00542"></a>00542             <a class="code" href="gsb__data__report_8c.html#a182247da4a5f2d536eda8e47b99a4af6">gsb_data_report_set_payee_currency</a> ( report_number,
<a name="l00543"></a>00543                                                  1 );
<a name="l00544"></a>00544 
<a name="l00545"></a>00545             <a class="code" href="gsb__data__report_8c.html#a7afbedc46c35638211fefa91a96f2685">gsb_data_report_set_amount_comparison_currency</a> ( report_number,
<a name="l00546"></a>00546                                                              1 );
<a name="l00547"></a>00547 
<a name="l00548"></a>00548 
<a name="l00549"></a>00549             <a class="code" href="gsb__data__report_8c.html#ab73275f9e10bbb7227e1f267069fce51">gsb_data_report_set_show_report_transactions</a> ( report_number,
<a name="l00550"></a>00550                                                            1 );
<a name="l00551"></a>00551             <a class="code" href="gsb__data__report_8c.html#abd6bd7b0e41dd49d856427d9dd5d023b">gsb_data_report_set_show_report_date</a> ( report_number,
<a name="l00552"></a>00552                                                    1 );
<a name="l00553"></a>00553             <a class="code" href="gsb__data__report_8c.html#a5523d4f53bf5ed0a38f770d264000e8f">gsb_data_report_set_show_report_value_date</a> ( report_number,
<a name="l00554"></a>00554                                                          1 );
<a name="l00555"></a>00555             <a class="code" href="gsb__data__report_8c.html#adb330e5809198a0bb7156014be6c20b6">gsb_data_report_set_show_report_payee</a> ( report_number,
<a name="l00556"></a>00556                                                     1 );
<a name="l00557"></a>00557             <a class="code" href="gsb__data__report_8c.html#aba338bba9af6a88f931479b0287e6530">gsb_data_report_set_show_report_category</a> ( report_number,
<a name="l00558"></a>00558                                                        1 );
<a name="l00559"></a>00559             <a class="code" href="gsb__data__report_8c.html#a4e04bc87652541afa8393f847edc382a">gsb_data_report_set_split_credit_debit</a> ( report_number,
<a name="l00560"></a>00560                                                      1 );
<a name="l00561"></a>00561             <a class="code" href="gsb__data__report_8c.html#aa672eb741c6007e90dd909a2a2ca50c3">gsb_data_report_set_transfer_choice</a> ( report_number,
<a name="l00562"></a>00562                                                   2 );
<a name="l00563"></a>00563             <a class="code" href="gsb__data__report_8c.html#a8214ff79a8eda5c90ced8765cd4d2332">gsb_data_report_set_category_used</a> ( report_number,
<a name="l00564"></a>00564                                                 1 );
<a name="l00565"></a>00565             <a class="code" href="gsb__data__report_8c.html#adffc908b069708969325ace8c9458dba">gsb_data_report_set_category_show_category_amount</a> ( report_number,
<a name="l00566"></a>00566                                                                 1 );
<a name="l00567"></a>00567             <a class="code" href="gsb__data__report_8c.html#ae828391902dac653842424728c1145c8">gsb_data_report_set_category_show_sub_category</a> ( report_number,
<a name="l00568"></a>00568                                                              1 );
<a name="l00569"></a>00569             <a class="code" href="gsb__data__report_8c.html#a5dcb920f8a7a54d32c3946ebc37ecd84">gsb_data_report_set_category_show_sub_category_amount</a> ( report_number,
<a name="l00570"></a>00570                                                                     1 );
<a name="l00571"></a>00571             <a class="code" href="gsb__data__report_8c.html#ab9f1fb9448436b4c66f4531c812f83ed">gsb_data_report_set_category_show_name</a> ( report_number,
<a name="l00572"></a>00572                                                      1 );
<a name="l00573"></a>00573             <a class="code" href="gsb__data__report_8c.html#a1750e8d64c30f9fde6862653b0b32d57">gsb_data_report_set_amount_comparison_only_report_non_null</a> ( report_number,
<a name="l00574"></a>00574                                                                          1 );
<a name="l00575"></a>00575 
<a name="l00576"></a>00576 
<a name="l00577"></a>00577             <span class="comment">/*   tout le reste est à NULL, ce qui est très bien */</span>
<a name="l00578"></a>00578 
<a name="l00579"></a>00579             <span class="keywordflow">break</span>;
<a name="l00580"></a>00580 
<a name="l00581"></a>00581         <span class="keywordflow">case</span> 4:
<a name="l00582"></a>00582 
<a name="l00583"></a>00583             <span class="comment">/* Cheques deposit */</span>
<a name="l00584"></a>00584 
<a name="l00585"></a>00585             report_number = <a class="code" href="gsb__data__report_8c.html#a82fe1c2ce10e0375e0468b35d6727fc2">gsb_data_report_new</a> (_(<span class="stringliteral">&quot;Cheques deposit&quot;</span>));
<a name="l00586"></a>00586 
<a name="l00587"></a>00587             <span class="comment">/*   le classement de base est 1-2-3-4-5-6 (cf structure.h) */</span>
<a name="l00588"></a>00588 
<a name="l00589"></a>00589             <a class="code" href="gsb__data__report_8c.html#ac470e04ffa4140d369eaca9e93523f3f">gsb_data_report_set_sorting_type</a> ( report_number,
<a name="l00590"></a>00590                                                g_slist_append ( <a class="code" href="gsb__data__report_8c.html#a124d944a5ed747acf82c7d8986d47ee8">gsb_data_report_get_sorting_type</a> (report_number),
<a name="l00591"></a>00591                                                                 GINT_TO_POINTER ( 1 )));
<a name="l00592"></a>00592             <a class="code" href="gsb__data__report_8c.html#ac470e04ffa4140d369eaca9e93523f3f">gsb_data_report_set_sorting_type</a> ( report_number,
<a name="l00593"></a>00593                                                g_slist_append ( <a class="code" href="gsb__data__report_8c.html#a124d944a5ed747acf82c7d8986d47ee8">gsb_data_report_get_sorting_type</a> (report_number),
<a name="l00594"></a>00594                                                                 GINT_TO_POINTER ( 2 )));
<a name="l00595"></a>00595             <a class="code" href="gsb__data__report_8c.html#ac470e04ffa4140d369eaca9e93523f3f">gsb_data_report_set_sorting_type</a> ( report_number,
<a name="l00596"></a>00596                                                g_slist_append ( <a class="code" href="gsb__data__report_8c.html#a124d944a5ed747acf82c7d8986d47ee8">gsb_data_report_get_sorting_type</a> (report_number),
<a name="l00597"></a>00597                                                                 GINT_TO_POINTER ( 3 )));
<a name="l00598"></a>00598             <a class="code" href="gsb__data__report_8c.html#ac470e04ffa4140d369eaca9e93523f3f">gsb_data_report_set_sorting_type</a> ( report_number,
<a name="l00599"></a>00599                                                g_slist_append ( <a class="code" href="gsb__data__report_8c.html#a124d944a5ed747acf82c7d8986d47ee8">gsb_data_report_get_sorting_type</a> (report_number),
<a name="l00600"></a>00600                                                                 GINT_TO_POINTER ( 4 )));
<a name="l00601"></a>00601             <a class="code" href="gsb__data__report_8c.html#ac470e04ffa4140d369eaca9e93523f3f">gsb_data_report_set_sorting_type</a> ( report_number,
<a name="l00602"></a>00602                                                g_slist_append ( <a class="code" href="gsb__data__report_8c.html#a124d944a5ed747acf82c7d8986d47ee8">gsb_data_report_get_sorting_type</a> (report_number),
<a name="l00603"></a>00603                                                                 GINT_TO_POINTER ( 5 )));
<a name="l00604"></a>00604             <a class="code" href="gsb__data__report_8c.html#ac470e04ffa4140d369eaca9e93523f3f">gsb_data_report_set_sorting_type</a> ( report_number,
<a name="l00605"></a>00605                                                g_slist_append ( <a class="code" href="gsb__data__report_8c.html#a124d944a5ed747acf82c7d8986d47ee8">gsb_data_report_get_sorting_type</a> (report_number),
<a name="l00606"></a>00606                                                                 GINT_TO_POINTER ( 6 )));
<a name="l00607"></a>00607 
<a name="l00608"></a>00608             <span class="comment">/*   les devises sont à 1 (euro) */</span>
<a name="l00609"></a>00609 
<a name="l00610"></a>00610             <a class="code" href="gsb__data__report_8c.html#a62c52c55575358b3f8e6a5bc2b609cd1">gsb_data_report_set_currency_general</a> ( report_number,
<a name="l00611"></a>00611                                                    1 );
<a name="l00612"></a>00612             <a class="code" href="gsb__data__report_8c.html#a658593daf7e49a64355a99ad6cd06a85">gsb_data_report_set_category_currency</a> ( report_number,
<a name="l00613"></a>00613                                                     1 );
<a name="l00614"></a>00614             <a class="code" href="gsb__data__report_8c.html#a77ed5a9735965540ea81585f9a6350f2">gsb_data_report_set_budget_currency</a> ( report_number,
<a name="l00615"></a>00615                                                   1 );
<a name="l00616"></a>00616             <a class="code" href="gsb__data__report_8c.html#a182247da4a5f2d536eda8e47b99a4af6">gsb_data_report_set_payee_currency</a> ( report_number,
<a name="l00617"></a>00617                                                  1 );
<a name="l00618"></a>00618             <a class="code" href="gsb__data__report_8c.html#a7afbedc46c35638211fefa91a96f2685">gsb_data_report_set_amount_comparison_currency</a> ( report_number,
<a name="l00619"></a>00619                                                              1 );
<a name="l00620"></a>00620 
<a name="l00621"></a>00621 
<a name="l00622"></a>00622             <a class="code" href="gsb__data__report_8c.html#ab73275f9e10bbb7227e1f267069fce51">gsb_data_report_set_show_report_transactions</a> ( report_number,
<a name="l00623"></a>00623                                                            1 );
<a name="l00624"></a>00624             <a class="code" href="gsb__data__report_8c.html#a694ac1c5edad44bec026422a639e1a55">gsb_data_report_set_show_report_transaction_amount</a> ( report_number,
<a name="l00625"></a>00625                                                                  1 );
<a name="l00626"></a>00626             <a class="code" href="gsb__data__report_8c.html#adb330e5809198a0bb7156014be6c20b6">gsb_data_report_set_show_report_payee</a> ( report_number,
<a name="l00627"></a>00627                                                     1 );
<a name="l00628"></a>00628             <a class="code" href="gsb__data__report_8c.html#adc6d6f473b93adb284aec30cbf9a39fd">gsb_data_report_set_show_report_bank_references</a> ( report_number,
<a name="l00629"></a>00629                                                               1 );
<a name="l00630"></a>00630             <a class="code" href="gsb__data__report_8c.html#aa672eb741c6007e90dd909a2a2ca50c3">gsb_data_report_set_transfer_choice</a> ( report_number,
<a name="l00631"></a>00631                                                   2 );
<a name="l00632"></a>00632             <a class="code" href="gsb__data__report_8c.html#a1750e8d64c30f9fde6862653b0b32d57">gsb_data_report_set_amount_comparison_only_report_non_null</a> ( report_number,
<a name="l00633"></a>00633                                                                          1 );
<a name="l00634"></a>00634             <a class="code" href="gsb__data__report_8c.html#a2859e07734283fd656f77dbb1442b965">gsb_data_report_set_amount_comparison_used</a> ( report_number,
<a name="l00635"></a>00635                                                          1 );
<a name="l00636"></a>00636 
<a name="l00637"></a>00637             <span class="comment">/* on doit créer une structure de montant qui dit que ça va être positif */</span>
<a name="l00638"></a>00638 
<a name="l00639"></a>00639             amount_comparison_number = <a class="code" href="gsb__data__report__amout__comparison_8c.html#a68750f00e0800724678fadc6245433eb">gsb_data_report_amount_comparison_new</a> (0);
<a name="l00640"></a>00640             <a class="code" href="gsb__data__report__amout__comparison_8c.html#ab8582868812aa6de911a6c955057fbd2">gsb_data_report_amount_comparison_set_report_number</a> ( amount_comparison_number,
<a name="l00641"></a>00641                                                                   report_number);
<a name="l00642"></a>00642             <a class="code" href="gsb__data__report__amout__comparison_8c.html#ab8f7b5f344f111a9b4aee3715c2c3935">gsb_data_report_amount_comparison_set_link_to_last_amount_comparison</a> ( amount_comparison_number,
<a name="l00643"></a>00643                                                                                    -1 );
<a name="l00644"></a>00644             <a class="code" href="gsb__data__report__amout__comparison_8c.html#ad95131531a1d7eb83d7ca876a705f343">gsb_data_report_amount_comparison_set_first_comparison</a> ( amount_comparison_number,
<a name="l00645"></a>00645                                                                      8 );
<a name="l00646"></a>00646             <a class="code" href="gsb__data__report__amout__comparison_8c.html#ad8583bac5e54d94dc888e53fe8e66809">gsb_data_report_amount_comparison_set_link_first_to_second_part</a> ( amount_comparison_number,
<a name="l00647"></a>00647                                                                               3 );
<a name="l00648"></a>00648 
<a name="l00649"></a>00649             <a class="code" href="gsb__data__report_8c.html#a6eb5115463b2a01bb92cc146d8892ba8">gsb_data_report_set_amount_comparison_list</a> ( report_number,
<a name="l00650"></a>00650                                                          g_slist_append ( <a class="code" href="gsb__data__report_8c.html#a67893d2be0b2f657aa1c41211820280b">gsb_data_report_get_amount_comparison_list</a> (report_number),
<a name="l00651"></a>00651                                                                           GINT_TO_POINTER (amount_comparison_number)));
<a name="l00652"></a>00652 
<a name="l00653"></a>00653             <span class="comment">/*   tout le reste est à NULL, ce qui est très bien */</span>
<a name="l00654"></a>00654 
<a name="l00655"></a>00655             <span class="keywordflow">break</span>;
<a name="l00656"></a>00656 
<a name="l00657"></a>00657         <span class="keywordflow">case</span> 5:
<a name="l00658"></a>00658 
<a name="l00659"></a>00659             <span class="comment">/* Monthly outgoings by payee */</span>
<a name="l00660"></a>00660 
<a name="l00661"></a>00661             report_number = <a class="code" href="gsb__data__report_8c.html#a82fe1c2ce10e0375e0468b35d6727fc2">gsb_data_report_new</a> (_(<span class="stringliteral">&quot;Monthly outgoings by payee&quot;</span>));
<a name="l00662"></a>00662 
<a name="l00663"></a>00663             <span class="comment">/*   le classement de base est 1-2-3-4-5-6  */</span>
<a name="l00664"></a>00664 
<a name="l00665"></a>00665             <a class="code" href="gsb__data__report_8c.html#ac470e04ffa4140d369eaca9e93523f3f">gsb_data_report_set_sorting_type</a> ( report_number,
<a name="l00666"></a>00666                                                g_slist_append ( <a class="code" href="gsb__data__report_8c.html#a124d944a5ed747acf82c7d8986d47ee8">gsb_data_report_get_sorting_type</a> (report_number),
<a name="l00667"></a>00667                                                                 GINT_TO_POINTER ( 6 )));
<a name="l00668"></a>00668             <a class="code" href="gsb__data__report_8c.html#ac470e04ffa4140d369eaca9e93523f3f">gsb_data_report_set_sorting_type</a> ( report_number,
<a name="l00669"></a>00669                                                g_slist_append ( <a class="code" href="gsb__data__report_8c.html#a124d944a5ed747acf82c7d8986d47ee8">gsb_data_report_get_sorting_type</a> (report_number),
<a name="l00670"></a>00670                                                                 GINT_TO_POINTER ( 1 )));
<a name="l00671"></a>00671             <a class="code" href="gsb__data__report_8c.html#ac470e04ffa4140d369eaca9e93523f3f">gsb_data_report_set_sorting_type</a> ( report_number,
<a name="l00672"></a>00672                                                g_slist_append ( <a class="code" href="gsb__data__report_8c.html#a124d944a5ed747acf82c7d8986d47ee8">gsb_data_report_get_sorting_type</a> (report_number),
<a name="l00673"></a>00673                                                                 GINT_TO_POINTER ( 2 )));
<a name="l00674"></a>00674             <a class="code" href="gsb__data__report_8c.html#ac470e04ffa4140d369eaca9e93523f3f">gsb_data_report_set_sorting_type</a> ( report_number,
<a name="l00675"></a>00675                                                g_slist_append ( <a class="code" href="gsb__data__report_8c.html#a124d944a5ed747acf82c7d8986d47ee8">gsb_data_report_get_sorting_type</a> (report_number),
<a name="l00676"></a>00676                                                                 GINT_TO_POINTER ( 3 )));
<a name="l00677"></a>00677             <a class="code" href="gsb__data__report_8c.html#ac470e04ffa4140d369eaca9e93523f3f">gsb_data_report_set_sorting_type</a> ( report_number,
<a name="l00678"></a>00678                                                g_slist_append ( <a class="code" href="gsb__data__report_8c.html#a124d944a5ed747acf82c7d8986d47ee8">gsb_data_report_get_sorting_type</a> (report_number),
<a name="l00679"></a>00679                                                                 GINT_TO_POINTER ( 4 )));
<a name="l00680"></a>00680             <a class="code" href="gsb__data__report_8c.html#ac470e04ffa4140d369eaca9e93523f3f">gsb_data_report_set_sorting_type</a> ( report_number,
<a name="l00681"></a>00681                                                g_slist_append ( <a class="code" href="gsb__data__report_8c.html#a124d944a5ed747acf82c7d8986d47ee8">gsb_data_report_get_sorting_type</a> (report_number),
<a name="l00682"></a>00682                                                                 GINT_TO_POINTER ( 5 )));
<a name="l00683"></a>00683 
<a name="l00684"></a>00684 
<a name="l00685"></a>00685             <span class="comment">/*   les devises sont à 1 (euro) */</span>
<a name="l00686"></a>00686 
<a name="l00687"></a>00687             <a class="code" href="gsb__data__report_8c.html#a62c52c55575358b3f8e6a5bc2b609cd1">gsb_data_report_set_currency_general</a> ( report_number,
<a name="l00688"></a>00688                                                    1 );
<a name="l00689"></a>00689             <a class="code" href="gsb__data__report_8c.html#a658593daf7e49a64355a99ad6cd06a85">gsb_data_report_set_category_currency</a> ( report_number,
<a name="l00690"></a>00690                                                     1 );
<a name="l00691"></a>00691             <a class="code" href="gsb__data__report_8c.html#a77ed5a9735965540ea81585f9a6350f2">gsb_data_report_set_budget_currency</a> ( report_number,
<a name="l00692"></a>00692                                                   1 );
<a name="l00693"></a>00693             <a class="code" href="gsb__data__report_8c.html#a182247da4a5f2d536eda8e47b99a4af6">gsb_data_report_set_payee_currency</a> ( report_number,
<a name="l00694"></a>00694                                                  1 );
<a name="l00695"></a>00695             <a class="code" href="gsb__data__report_8c.html#a7afbedc46c35638211fefa91a96f2685">gsb_data_report_set_amount_comparison_currency</a> ( report_number,
<a name="l00696"></a>00696                                                              1 );
<a name="l00697"></a>00697 
<a name="l00698"></a>00698 
<a name="l00699"></a>00699             <a class="code" href="gsb__data__report_8c.html#ab73275f9e10bbb7227e1f267069fce51">gsb_data_report_set_show_report_transactions</a> ( report_number,
<a name="l00700"></a>00700                                                            1 );
<a name="l00701"></a>00701             <a class="code" href="gsb__data__report_8c.html#a694ac1c5edad44bec026422a639e1a55">gsb_data_report_set_show_report_transaction_amount</a> ( report_number,
<a name="l00702"></a>00702                                                                  1 );
<a name="l00703"></a>00703             <a class="code" href="gsb__data__report_8c.html#adb330e5809198a0bb7156014be6c20b6">gsb_data_report_set_show_report_payee</a> ( report_number,
<a name="l00704"></a>00704                                                     1 );
<a name="l00705"></a>00705             <a class="code" href="gsb__data__report_8c.html#a0fd1ad8543961f2d468ddc471dbf8ca7">gsb_data_report_set_sorting_report</a> ( report_number,
<a name="l00706"></a>00706                                                  2 );
<a name="l00707"></a>00707             <a class="code" href="gsb__data__report_8c.html#aca83800b33424ae916e6f4c0a5ceed4c">gsb_data_report_set_column_title_show</a> ( report_number,
<a name="l00708"></a>00708                                                     1 );
<a name="l00709"></a>00709             <a class="code" href="gsb__data__report_8c.html#a32f4be4d98f68b6c96ca94bebb79de20">gsb_data_report_set_date_type</a> ( report_number,
<a name="l00710"></a>00710                                             7 );
<a name="l00711"></a>00711             <a class="code" href="gsb__data__report_8c.html#a8214ff79a8eda5c90ced8765cd4d2332">gsb_data_report_set_category_used</a> ( report_number,
<a name="l00712"></a>00712                                                 1 );
<a name="l00713"></a>00713             <a class="code" href="gsb__data__report_8c.html#adffc908b069708969325ace8c9458dba">gsb_data_report_set_category_show_category_amount</a> ( report_number,
<a name="l00714"></a>00714                                                                 1 );
<a name="l00715"></a>00715             <a class="code" href="gsb__data__report_8c.html#ae828391902dac653842424728c1145c8">gsb_data_report_set_category_show_sub_category</a> ( report_number,
<a name="l00716"></a>00716                                                              1 );
<a name="l00717"></a>00717             <a class="code" href="gsb__data__report_8c.html#ab9f1fb9448436b4c66f4531c812f83ed">gsb_data_report_set_category_show_name</a> ( report_number,
<a name="l00718"></a>00718                                                      1 );
<a name="l00719"></a>00719 
<a name="l00720"></a>00720             <a class="code" href="gsb__data__report_8c.html#abd6bd7b0e41dd49d856427d9dd5d023b">gsb_data_report_set_show_report_date</a> ( report_number,
<a name="l00721"></a>00721                                                    1 );
<a name="l00722"></a>00722             <a class="code" href="gsb__data__report_8c.html#a5523d4f53bf5ed0a38f770d264000e8f">gsb_data_report_set_show_report_value_date</a> ( report_number,
<a name="l00723"></a>00723                                                          1 );
<a name="l00724"></a>00724             <a class="code" href="gsb__data__report_8c.html#aba338bba9af6a88f931479b0287e6530">gsb_data_report_set_show_report_category</a> ( report_number,
<a name="l00725"></a>00725                                                        1 );
<a name="l00726"></a>00726             <a class="code" href="gsb__data__report_8c.html#a4e04bc87652541afa8393f847edc382a">gsb_data_report_set_split_credit_debit</a> ( report_number,
<a name="l00727"></a>00727                                                      1 );
<a name="l00728"></a>00728             <a class="code" href="gsb__data__report_8c.html#aa672eb741c6007e90dd909a2a2ca50c3">gsb_data_report_set_transfer_choice</a> ( report_number,
<a name="l00729"></a>00729                                                   2 );
<a name="l00730"></a>00730             <a class="code" href="gsb__data__report_8c.html#a5dcb920f8a7a54d32c3946ebc37ecd84">gsb_data_report_set_category_show_sub_category_amount</a> ( report_number,
<a name="l00731"></a>00731                                                                     1 );
<a name="l00732"></a>00732             <a class="code" href="gsb__data__report_8c.html#a1750e8d64c30f9fde6862653b0b32d57">gsb_data_report_set_amount_comparison_only_report_non_null</a> ( report_number,
<a name="l00733"></a>00733                                                                          1 );
<a name="l00734"></a>00734             <a class="code" href="gsb__data__report_8c.html#afc3cfa2b75c2f93fd173149de4b7f716">gsb_data_report_set_payee_used</a> ( report_number,
<a name="l00735"></a>00735                                              1 );
<a name="l00736"></a>00736             <a class="code" href="gsb__data__report_8c.html#abd9675b402887c4bd3ef03822176834f">gsb_data_report_set_payee_show_payee_amount</a> ( report_number,
<a name="l00737"></a>00737                                                           1 );
<a name="l00738"></a>00738             <a class="code" href="gsb__data__report_8c.html#adf7170b9e6919b4e4cc4bf7c17884489">gsb_data_report_set_payee_show_name</a> ( report_number,
<a name="l00739"></a>00739                                                   1 );
<a name="l00740"></a>00740 
<a name="l00741"></a>00741 
<a name="l00742"></a>00742             <span class="comment">/*   tout le reste est à NULL, ce qui est très bien */</span>
<a name="l00743"></a>00743 
<a name="l00744"></a>00744             <span class="keywordflow">break</span>;
<a name="l00745"></a>00745 
<a name="l00746"></a>00746         <span class="keywordflow">case</span> 6:
<a name="l00747"></a>00747 
<a name="l00748"></a>00748             <span class="comment">/* Search */</span>
<a name="l00749"></a>00749 
<a name="l00750"></a>00750             report_number = <a class="code" href="gsb__data__report_8c.html#a82fe1c2ce10e0375e0468b35d6727fc2">gsb_data_report_new</a> (_(<span class="stringliteral">&quot;Search&quot;</span>));
<a name="l00751"></a>00751 
<a name="l00752"></a>00752             <span class="comment">/*   le classement de base est 1-2-3-4-5-6  */</span>
<a name="l00753"></a>00753 
<a name="l00754"></a>00754             <a class="code" href="gsb__data__report_8c.html#ac470e04ffa4140d369eaca9e93523f3f">gsb_data_report_set_sorting_type</a> ( report_number,
<a name="l00755"></a>00755                                                g_slist_append ( <a class="code" href="gsb__data__report_8c.html#a124d944a5ed747acf82c7d8986d47ee8">gsb_data_report_get_sorting_type</a> (report_number),
<a name="l00756"></a>00756                                                                 GINT_TO_POINTER ( 1 )));
<a name="l00757"></a>00757             <a class="code" href="gsb__data__report_8c.html#ac470e04ffa4140d369eaca9e93523f3f">gsb_data_report_set_sorting_type</a> ( report_number,
<a name="l00758"></a>00758                                                g_slist_append ( <a class="code" href="gsb__data__report_8c.html#a124d944a5ed747acf82c7d8986d47ee8">gsb_data_report_get_sorting_type</a> (report_number),
<a name="l00759"></a>00759                                                                 GINT_TO_POINTER ( 2 )));
<a name="l00760"></a>00760             <a class="code" href="gsb__data__report_8c.html#ac470e04ffa4140d369eaca9e93523f3f">gsb_data_report_set_sorting_type</a> ( report_number,
<a name="l00761"></a>00761                                                g_slist_append ( <a class="code" href="gsb__data__report_8c.html#a124d944a5ed747acf82c7d8986d47ee8">gsb_data_report_get_sorting_type</a> (report_number),
<a name="l00762"></a>00762                                                                 GINT_TO_POINTER ( 3 )));
<a name="l00763"></a>00763             <a class="code" href="gsb__data__report_8c.html#ac470e04ffa4140d369eaca9e93523f3f">gsb_data_report_set_sorting_type</a> ( report_number,
<a name="l00764"></a>00764                                                g_slist_append ( <a class="code" href="gsb__data__report_8c.html#a124d944a5ed747acf82c7d8986d47ee8">gsb_data_report_get_sorting_type</a> (report_number),
<a name="l00765"></a>00765                                                                 GINT_TO_POINTER ( 4 )));
<a name="l00766"></a>00766             <a class="code" href="gsb__data__report_8c.html#ac470e04ffa4140d369eaca9e93523f3f">gsb_data_report_set_sorting_type</a> ( report_number,
<a name="l00767"></a>00767                                                g_slist_append ( <a class="code" href="gsb__data__report_8c.html#a124d944a5ed747acf82c7d8986d47ee8">gsb_data_report_get_sorting_type</a> (report_number),
<a name="l00768"></a>00768                                                                 GINT_TO_POINTER ( 5 )));
<a name="l00769"></a>00769             <a class="code" href="gsb__data__report_8c.html#ac470e04ffa4140d369eaca9e93523f3f">gsb_data_report_set_sorting_type</a> ( report_number,
<a name="l00770"></a>00770                                                g_slist_append ( <a class="code" href="gsb__data__report_8c.html#a124d944a5ed747acf82c7d8986d47ee8">gsb_data_report_get_sorting_type</a> (report_number),
<a name="l00771"></a>00771                                                                 GINT_TO_POINTER ( 6 )));
<a name="l00772"></a>00772 
<a name="l00773"></a>00773             <span class="comment">/*   les devises sont à 1 (euro) */</span>
<a name="l00774"></a>00774 
<a name="l00775"></a>00775             <a class="code" href="gsb__data__report_8c.html#a62c52c55575358b3f8e6a5bc2b609cd1">gsb_data_report_set_currency_general</a> ( report_number,
<a name="l00776"></a>00776                                                    1 );
<a name="l00777"></a>00777             <a class="code" href="gsb__data__report_8c.html#a658593daf7e49a64355a99ad6cd06a85">gsb_data_report_set_category_currency</a> ( report_number,
<a name="l00778"></a>00778                                                     1 );
<a name="l00779"></a>00779             <a class="code" href="gsb__data__report_8c.html#a77ed5a9735965540ea81585f9a6350f2">gsb_data_report_set_budget_currency</a> ( report_number,
<a name="l00780"></a>00780                                                   1 );
<a name="l00781"></a>00781             <a class="code" href="gsb__data__report_8c.html#a182247da4a5f2d536eda8e47b99a4af6">gsb_data_report_set_payee_currency</a> ( report_number,
<a name="l00782"></a>00782                                                  1 );
<a name="l00783"></a>00783             <a class="code" href="gsb__data__report_8c.html#a7afbedc46c35638211fefa91a96f2685">gsb_data_report_set_amount_comparison_currency</a> ( report_number,
<a name="l00784"></a>00784                                                              1 );
<a name="l00785"></a>00785 
<a name="l00786"></a>00786 
<a name="l00787"></a>00787             <a class="code" href="gsb__data__report_8c.html#ab73275f9e10bbb7227e1f267069fce51">gsb_data_report_set_show_report_transactions</a> ( report_number,
<a name="l00788"></a>00788                                                            1 );
<a name="l00789"></a>00789             <a class="code" href="gsb__data__report_8c.html#abd6bd7b0e41dd49d856427d9dd5d023b">gsb_data_report_set_show_report_date</a> ( report_number,
<a name="l00790"></a>00790                                                    1 );
<a name="l00791"></a>00791             <a class="code" href="gsb__data__report_8c.html#a5523d4f53bf5ed0a38f770d264000e8f">gsb_data_report_set_show_report_value_date</a> ( report_number,
<a name="l00792"></a>00792                                                          1 );
<a name="l00793"></a>00793             <a class="code" href="gsb__data__report_8c.html#adb330e5809198a0bb7156014be6c20b6">gsb_data_report_set_show_report_payee</a> ( report_number,
<a name="l00794"></a>00794                                                     1 );
<a name="l00795"></a>00795             <a class="code" href="gsb__data__report_8c.html#aba338bba9af6a88f931479b0287e6530">gsb_data_report_set_show_report_category</a> ( report_number,
<a name="l00796"></a>00796                                                        1 );
<a name="l00797"></a>00797             <a class="code" href="gsb__data__report_8c.html#af75663a9483d5bb68d91f60a1490c7ab">gsb_data_report_set_show_report_sub_category</a> ( report_number,
<a name="l00798"></a>00798                                                            1 );
<a name="l00799"></a>00799             <a class="code" href="gsb__data__report_8c.html#a9b64b1f7da9c50dce29b7469ac1c1038">gsb_data_report_set_show_report_method_of_payment</a> ( report_number,
<a name="l00800"></a>00800                                                                 1 );
<a name="l00801"></a>00801             <a class="code" href="gsb__data__report_8c.html#a2621abe461aea953e4c83dfc8652da07">gsb_data_report_set_show_report_budget</a> ( report_number,
<a name="l00802"></a>00802                                                      1 );
<a name="l00803"></a>00803             <a class="code" href="gsb__data__report_8c.html#a7ba9d925d29e26d8545cc4ce4dbcc424">gsb_data_report_set_show_report_sub_budget</a> ( report_number,
<a name="l00804"></a>00804                                                          1 );
<a name="l00805"></a>00805             <a class="code" href="gsb__data__report_8c.html#acdc9553325bb223f4a53295f0c9e070e">gsb_data_report_set_show_report_method_of_payment_content</a> ( report_number,
<a name="l00806"></a>00806                                                                         1 );
<a name="l00807"></a>00807             <a class="code" href="gsb__data__report_8c.html#ad9acbf87438e562995060bcc68942441">gsb_data_report_set_show_report_note</a> ( report_number,
<a name="l00808"></a>00808                                                    1 );
<a name="l00809"></a>00809             <a class="code" href="gsb__data__report_8c.html#adec44b9f95dce01af079008b55fef237">gsb_data_report_set_show_report_voucher</a> ( report_number,
<a name="l00810"></a>00810                                                       1 );
<a name="l00811"></a>00811             <a class="code" href="gsb__data__report_8c.html#a086f3a436568144e3dd667ef01549942">gsb_data_report_set_show_report_marked</a> ( report_number,
<a name="l00812"></a>00812                                                      1 );
<a name="l00813"></a>00813             <a class="code" href="gsb__data__report_8c.html#adc6d6f473b93adb284aec30cbf9a39fd">gsb_data_report_set_show_report_bank_references</a> ( report_number,
<a name="l00814"></a>00814                                                               1 );
<a name="l00815"></a>00815             <a class="code" href="gsb__data__report_8c.html#a4a0d35c886f0a006393f10a7760efcb6">gsb_data_report_set_show_report_financial_year</a> ( report_number,
<a name="l00816"></a>00816                                                              1 );
<a name="l00817"></a>00817 
<a name="l00818"></a>00818             <a class="code" href="gsb__data__report_8c.html#a71ab810cbda85aae7c911ffd4a0724c7">gsb_data_report_set_report_can_click</a> ( report_number,
<a name="l00819"></a>00819                                                    1 );
<a name="l00820"></a>00820             <a class="code" href="gsb__data__report_8c.html#a32f4be4d98f68b6c96ca94bebb79de20">gsb_data_report_set_date_type</a> ( report_number,
<a name="l00821"></a>00821                                             4 );
<a name="l00822"></a>00822             <a class="code" href="gsb__data__report_8c.html#a82dbac52eaaab86d4183ed4609f96d8b">gsb_data_report_set_period_split</a> ( report_number,
<a name="l00823"></a>00823                                                1 );
<a name="l00824"></a>00824             <a class="code" href="gsb__data__report_8c.html#a38b69c288d5827f9604f81066b79ea6f">gsb_data_report_set_period_split_type</a> ( report_number,
<a name="l00825"></a>00825                                                     3 );
<a name="l00826"></a>00826             <a class="code" href="gsb__data__report_8c.html#aa672eb741c6007e90dd909a2a2ca50c3">gsb_data_report_set_transfer_choice</a> ( report_number,
<a name="l00827"></a>00827                                                   2 );
<a name="l00828"></a>00828 
<a name="l00829"></a>00829             <span class="comment">/*   tout le reste est à NULL, ce qui est très bien */</span>
<a name="l00830"></a>00830 
<a name="l00831"></a>00831             <span class="keywordflow">break</span>;
<a name="l00832"></a>00832 
<a name="l00833"></a>00833 
<a name="l00834"></a>00834         <span class="keywordflow">default</span> :
<a name="l00835"></a>00835             <a class="code" href="dialog_8c.html#aa88d9d93c78818a177e9a14eff15f360">dialogue_error</a> ( _(<span class="stringliteral">&quot;Unknown report type, creation cancelled&quot;</span>));
<a name="l00836"></a>00836             <span class="keywordflow">return</span> FALSE;
<a name="l00837"></a>00837     }
<a name="l00838"></a>00838 
<a name="l00839"></a>00839     <span class="comment">/* Add an entry in navigation pane. */</span>
<a name="l00840"></a>00840     <a class="code" href="navigation_8c.html#a6c19e82e10a0dd98a3a20290a3a873ec">gsb_gui_navigation_add_report</a> ( report_number );
<a name="l00841"></a>00841     <a class="code" href="etats__onglet_8c.html#a45fec3aed31acd90ea946bd3eab8586e">gsb_gui_update_gui_to_report</a> ( report_number );
<a name="l00842"></a>00842 
<a name="l00843"></a>00843     <a class="code" href="etats__config_8c.html#a9b69a48d62d062235b3e849dbf5cd951">personnalisation_etat</a> ();
<a name="l00844"></a>00844     <span class="keywordflow">if</span> ( <a class="code" href="parametres_8c.html#ab2a744f5d2124688473d13979420e911">etat</a>.<a class="code" href="structgsb__etat__t.html#a9d0fa9057da603e64a601d69d7bf2b51">modification_fichier</a> == 0 )
<a name="l00845"></a>00845         <a class="code" href="traitement__variables_8c.html#aa4084b9e508b1d1fea1d09c6b6208021">modification_fichier</a> ( TRUE );
<a name="l00846"></a>00846 
<a name="l00847"></a>00847     <span class="keywordflow">return</span> FALSE;
<a name="l00848"></a>00848 }
<a name="l00849"></a>00849 
<a name="l00850"></a>00850 
<a name="l00851"></a>00851 
<a name="l00860"></a>00860 <span class="keywordtype">void</span> change_choix_nouvel_etat ( GtkWidget *combobox, GtkWidget *label_description )
<a name="l00861"></a>00861 {
<a name="l00862"></a>00862     gchar *description;
<a name="l00863"></a>00863 
<a name="l00864"></a>00864     <span class="keywordflow">switch</span> ( gtk_combo_box_get_active ( GTK_COMBO_BOX (combobox) ) )
<a name="l00865"></a>00865     {
<a name="l00866"></a>00866         <span class="keywordflow">case</span> 0:
<a name="l00867"></a>00867             <span class="comment">/* Last month incomes and outgoings */</span>
<a name="l00868"></a>00868 
<a name="l00869"></a>00869             description = _(<span class="stringliteral">&quot;This report displays totals for last month&#39;s transactions sorted by categories and sub-categories. You just need to select the account(s). By default, all accounts are selected.&quot;</span>);
<a name="l00870"></a>00870             <span class="keywordflow">break</span>;
<a name="l00871"></a>00871 
<a name="l00872"></a>00872         <span class="keywordflow">case</span> 1:
<a name="l00873"></a>00873             <span class="comment">/* Current month incomes and outgoings */</span>
<a name="l00874"></a>00874 
<a name="l00875"></a>00875             description = _(<span class="stringliteral">&quot;This report displays totals of current month&#39;s transactions sorted by categories and sub-categories. You just need to select the account(s). By default, all accounts are selected.&quot;</span>);
<a name="l00876"></a>00876             <span class="keywordflow">break</span>;
<a name="l00877"></a>00877 
<a name="l00878"></a>00878         <span class="keywordflow">case</span> 2:
<a name="l00879"></a>00879             <span class="comment">/* Annual budget */</span>
<a name="l00880"></a>00880 
<a name="l00881"></a>00881             description = _(<span class="stringliteral">&quot;This report displays annual budget. You just need to select the account(s). By default all accounts are selected.&quot;</span>);
<a name="l00882"></a>00882             <span class="keywordflow">break</span>;
<a name="l00883"></a>00883 
<a name="l00884"></a>00884         <span class="keywordflow">case</span> 3:
<a name="l00885"></a>00885             <span class="comment">/* Blank report */</span>
<a name="l00886"></a>00886 
<a name="l00887"></a>00887             description = _(<span class="stringliteral">&quot;This report is an empty one. You need to customize it entirely.&quot;</span>);
<a name="l00888"></a>00888             <span class="keywordflow">break</span>;
<a name="l00889"></a>00889 
<a name="l00890"></a>00890         <span class="keywordflow">case</span> 4:
<a name="l00891"></a>00891             <span class="comment">/* Cheques deposit */</span>
<a name="l00892"></a>00892 
<a name="l00893"></a>00893             description = _(<span class="stringliteral">&quot;This report displays the cheques deposit. You just need to select the account(s). By default all accounts are selected.&quot;</span>);
<a name="l00894"></a>00894             <span class="keywordflow">break</span>;
<a name="l00895"></a>00895 
<a name="l00896"></a>00896         <span class="keywordflow">case</span> 5:
<a name="l00897"></a>00897             <span class="comment">/* Monthly outgoings by payee */</span>
<a name="l00898"></a>00898 
<a name="l00899"></a>00899             description = _(<span class="stringliteral">&quot;This report displays current month&#39;s outgoings sorted by payees. You just need to select the account(s). By default all accounts are selected.&quot;</span>);
<a name="l00900"></a>00900             <span class="keywordflow">break</span>;
<a name="l00901"></a>00901 
<a name="l00902"></a>00902         <span class="keywordflow">case</span> 6:
<a name="l00903"></a>00903             <span class="comment">/* Search */</span>
<a name="l00904"></a>00904 
<a name="l00905"></a>00905             description = _(<span class="stringliteral">&quot;This report displays all the information for all transactions of all accounts for the current year. You just have to add the amount, date, payees etc. criteria thant you want. By default the transactions are clickables.&quot;</span>);
<a name="l00906"></a>00906             <span class="keywordflow">break</span>;
<a name="l00907"></a>00907 
<a name="l00908"></a>00908         <span class="keywordflow">default</span>:
<a name="l00909"></a>00909 
<a name="l00910"></a>00910             description = _(<span class="stringliteral">&quot;No description available&quot;</span>);
<a name="l00911"></a>00911     }
<a name="l00912"></a>00912 
<a name="l00913"></a>00913     gtk_label_set_text ( GTK_LABEL ( label_description ),
<a name="l00914"></a>00914                          description );
<a name="l00915"></a>00915 
<a name="l00916"></a>00916 }
<a name="l00917"></a>00917 
<a name="l00918"></a>00918 
<a name="l00919"></a>00919 
<a name="l00923"></a>00923 <span class="keywordtype">void</span> efface_etat ( <span class="keywordtype">void</span> )
<a name="l00924"></a>00924 {
<a name="l00925"></a>00925     gint current_report_number;
<a name="l00926"></a>00926 
<a name="l00927"></a>00927     current_report_number = <a class="code" href="navigation_8c.html#aef700722a199569003341a41144ee004">gsb_gui_navigation_get_current_report</a> ();
<a name="l00928"></a>00928 
<a name="l00929"></a>00929     <span class="keywordflow">if</span> ( !current_report_number )
<a name="l00930"></a>00930         <span class="keywordflow">return</span>;
<a name="l00931"></a>00931 
<a name="l00932"></a>00932      <span class="keywordflow">if</span> ( gtk_notebook_get_current_page ( GTK_NOTEBOOK ( <a class="code" href="bet__config_8c.html#a8924516aa4170f932308e93cf93a785b">notebook_general</a>)) != <a class="code" href="fenetre__principale_8h.html#a1667fdc1081851887c24c98c97d51767a45e7a3ecc5d1c0d580104fd50516fdb9">GSB_REPORTS_PAGE</a> )
<a name="l00933"></a>00933         gtk_notebook_set_current_page ( GTK_NOTEBOOK ( <a class="code" href="bet__config_8c.html#a8924516aa4170f932308e93cf93a785b">notebook_general</a>),
<a name="l00934"></a>00934                                 <a class="code" href="fenetre__principale_8h.html#a1667fdc1081851887c24c98c97d51767a45e7a3ecc5d1c0d580104fd50516fdb9">GSB_REPORTS_PAGE</a> );
<a name="l00935"></a>00935 
<a name="l00936"></a>00936    <span class="keywordflow">if</span> ( !<a class="code" href="dialog_8c.html#a9947d688fe96a482d5444e62108a4ed4">question_yes_no_hint</a> ( g_strdup_printf (_(<span class="stringliteral">&quot;Delete report \&quot;%s\&quot;?&quot;</span>),
<a name="l00937"></a>00937                                                   <a class="code" href="gsb__data__report_8c.html#ace8a87d303afdf89ef8f3a901987db83">gsb_data_report_get_report_name</a> (current_report_number) ),
<a name="l00938"></a>00938                                 _(<span class="stringliteral">&quot;This will irreversibly remove this report.  There is no undo for this.&quot;</span>),
<a name="l00939"></a>00939                                 GTK_RESPONSE_NO ))
<a name="l00940"></a>00940         <span class="keywordflow">return</span>;
<a name="l00941"></a>00941 
<a name="l00942"></a>00942    <span class="comment">/* remove the report */</span>
<a name="l00943"></a>00943 
<a name="l00944"></a>00944     <a class="code" href="gsb__data__report_8c.html#a65c3e90fd33b0f7b6b2d3260629a77b8">gsb_data_report_remove</a> ( current_report_number );
<a name="l00945"></a>00945 
<a name="l00946"></a>00946     <span class="comment">/* Update reports list in navigation. */</span>
<a name="l00947"></a>00947     <a class="code" href="navigation_8c.html#a8a6328e785b95ea6e2ee4163e6c71edc">gsb_gui_navigation_remove_report</a> ( current_report_number);
<a name="l00948"></a>00948 
<a name="l00949"></a>00949     <a class="code" href="etats__onglet_8c.html#abb6e5627c18a42073725cc404ec23162">gsb_gui_unsensitive_report_widgets</a> ();
<a name="l00950"></a>00950 
<a name="l00951"></a>00951     <span class="keywordflow">if</span> ( <a class="code" href="parametres_8c.html#ab2a744f5d2124688473d13979420e911">etat</a>.<a class="code" href="structgsb__etat__t.html#a9d0fa9057da603e64a601d69d7bf2b51">modification_fichier</a> == 0 )
<a name="l00952"></a>00952         <a class="code" href="traitement__variables_8c.html#aa4084b9e508b1d1fea1d09c6b6208021">modification_fichier</a> ( TRUE );
<a name="l00953"></a>00953 
<a name="l00954"></a>00954 }
<a name="l00955"></a>00955 
<a name="l00956"></a>00956 
<a name="l00957"></a>00957 
<a name="l00958"></a>00958 
<a name="l00959"></a>00959 
<a name="l00964"></a><a class="code" href="etats__onglet_8h.html#abb6e5627c18a42073725cc404ec23162">00964</a> <span class="keywordtype">void</span> <a class="code" href="etats__onglet_8c.html#abb6e5627c18a42073725cc404ec23162">gsb_gui_unsensitive_report_widgets</a> ()
<a name="l00965"></a>00965 {
<a name="l00966"></a>00966     <span class="keywordflow">if</span> ( <a class="code" href="etats__gtktable_8c.html#adb1790226edec7f94cf9ddebf2790c62">scrolled_window_etat</a> &amp;&amp; GTK_IS_WIDGET ( <a class="code" href="etats__gtktable_8c.html#adb1790226edec7f94cf9ddebf2790c62">scrolled_window_etat</a> ) &amp;&amp;
<a name="l00967"></a>00967          GTK_BIN ( <a class="code" href="etats__gtktable_8c.html#adb1790226edec7f94cf9ddebf2790c62">scrolled_window_etat</a> ) -&gt; child )
<a name="l00968"></a>00968         gtk_widget_hide ( GTK_BIN ( <a class="code" href="etats__gtktable_8c.html#adb1790226edec7f94cf9ddebf2790c62">scrolled_window_etat</a> ) -&gt; child );
<a name="l00969"></a>00969 
<a name="l00970"></a>00970     gtk_widget_set_sensitive ( bouton_personnaliser_etat, FALSE );
<a name="l00971"></a>00971     gtk_widget_set_sensitive ( bouton_imprimer_etat, FALSE );
<a name="l00972"></a>00972     gtk_widget_set_sensitive ( bouton_exporter_etat, FALSE );
<a name="l00973"></a>00973     gtk_widget_set_sensitive ( bouton_dupliquer_etat, FALSE );
<a name="l00974"></a>00974     gtk_widget_set_sensitive ( bouton_effacer_etat, FALSE );
<a name="l00975"></a>00975 }
<a name="l00976"></a>00976 
<a name="l00977"></a>00977 
<a name="l00984"></a><a class="code" href="etats__onglet_8h.html#a45fec3aed31acd90ea946bd3eab8586e">00984</a> <span class="keywordtype">void</span> <a class="code" href="etats__onglet_8c.html#a45fec3aed31acd90ea946bd3eab8586e">gsb_gui_update_gui_to_report</a> ( gint report_number )
<a name="l00985"></a>00985 {
<a name="l00986"></a>00986     gtk_widget_set_sensitive ( bouton_personnaliser_etat, TRUE );
<a name="l00987"></a>00987     gtk_widget_set_sensitive ( bouton_imprimer_etat, TRUE );
<a name="l00988"></a>00988     gtk_widget_set_sensitive ( bouton_exporter_etat, TRUE );
<a name="l00989"></a>00989     gtk_widget_set_sensitive ( bouton_dupliquer_etat, TRUE );
<a name="l00990"></a>00990     gtk_widget_set_sensitive ( bouton_effacer_etat, TRUE );
<a name="l00991"></a>00991 
<a name="l00992"></a>00992     <span class="keywordflow">if</span> (<a class="code" href="gsb__report_8c.html#aec0b1b2d20d93937ab296c312cba6016">gsb_report_get_current</a> () != report_number)
<a name="l00993"></a>00993     {
<a name="l00994"></a>00994         <a class="code" href="etats__calculs_8c.html#ad2852216e5f8cba23c06865a85cc9bac">rafraichissement_etat</a> ( report_number );
<a name="l00995"></a>00995         <a class="code" href="gsb__report_8c.html#a51d50ccf9e1c9ddeb43b0bb61a5af19e">gsb_report_set_current</a> (report_number);
<a name="l00996"></a>00996     }
<a name="l00997"></a>00997 }
<a name="l00998"></a>00998 
<a name="l00999"></a>00999 
<a name="l01000"></a>01000 
<a name="l01007"></a>01007 <span class="keywordtype">void</span> export_etat_courant_vers_html ( gchar * filename )
<a name="l01008"></a>01008 {
<a name="l01009"></a>01009     <span class="keywordflow">if</span> ( gtk_notebook_get_current_page ( GTK_NOTEBOOK ( <a class="code" href="bet__config_8c.html#a8924516aa4170f932308e93cf93a785b">notebook_general</a>)) != <a class="code" href="fenetre__principale_8h.html#a1667fdc1081851887c24c98c97d51767a45e7a3ecc5d1c0d580104fd50516fdb9">GSB_REPORTS_PAGE</a> )
<a name="l01010"></a>01010         gtk_notebook_set_current_page ( GTK_NOTEBOOK ( <a class="code" href="bet__config_8c.html#a8924516aa4170f932308e93cf93a785b">notebook_general</a>), <a class="code" href="fenetre__principale_8h.html#a1667fdc1081851887c24c98c97d51767a45e7a3ecc5d1c0d580104fd50516fdb9">GSB_REPORTS_PAGE</a> );
<a name="l01011"></a>01011 
<a name="l01012"></a>01012     <a class="code" href="etats__calculs_8c.html#ab2abfe27729153161fd891d3e3f79483">affichage_etat</a> ( <a class="code" href="navigation_8c.html#aef700722a199569003341a41144ee004">gsb_gui_navigation_get_current_report</a> (), &amp;<a class="code" href="etats__html_8c.html#a82e802227c548b6c4ff47ca8b6c4958b">html_affichage</a>, filename );
<a name="l01013"></a>01013 }
<a name="l01014"></a>01014 
<a name="l01015"></a>01015 
<a name="l01016"></a>01016 
<a name="l01023"></a>01023 <span class="keywordtype">void</span> export_etat_courant_vers_csv ( gchar * filename )
<a name="l01024"></a>01024 {
<a name="l01025"></a>01025     <span class="keywordflow">if</span> ( gtk_notebook_get_current_page ( GTK_NOTEBOOK ( <a class="code" href="bet__config_8c.html#a8924516aa4170f932308e93cf93a785b">notebook_general</a>)) != <a class="code" href="fenetre__principale_8h.html#a1667fdc1081851887c24c98c97d51767a45e7a3ecc5d1c0d580104fd50516fdb9">GSB_REPORTS_PAGE</a> )
<a name="l01026"></a>01026         gtk_notebook_set_current_page ( GTK_NOTEBOOK ( <a class="code" href="bet__config_8c.html#a8924516aa4170f932308e93cf93a785b">notebook_general</a>), <a class="code" href="fenetre__principale_8h.html#a1667fdc1081851887c24c98c97d51767a45e7a3ecc5d1c0d580104fd50516fdb9">GSB_REPORTS_PAGE</a> );
<a name="l01027"></a>01027 
<a name="l01028"></a>01028     <a class="code" href="etats__calculs_8c.html#ab2abfe27729153161fd891d3e3f79483">affichage_etat</a> ( <a class="code" href="navigation_8c.html#aef700722a199569003341a41144ee004">gsb_gui_navigation_get_current_report</a> (), &amp;<a class="code" href="etats__csv_8c.html#a121b891fb05ffbd94cb74962dd89abd9">csv_affichage</a>, filename );
<a name="l01029"></a>01029 }
<a name="l01030"></a>01030 
<a name="l01031"></a>01031 
<a name="l01032"></a>01032 
<a name="l01047"></a>01047 gboolean gsb_report_export_change_format ( GtkWidget * combo, GtkWidget * selector )
<a name="l01048"></a>01048 {
<a name="l01049"></a>01049     gchar * name, * extension;
<a name="l01050"></a>01050 
<a name="l01051"></a>01051     g_object_set_data ( G_OBJECT(selector), <span class="stringliteral">&quot;format&quot;</span>,
<a name="l01052"></a>01052                         GINT_TO_POINTER ( gtk_combo_box_get_active ( GTK_COMBO_BOX(combo) ) ));
<a name="l01053"></a>01053 
<a name="l01054"></a>01054     name = <a class="code" href="utils__files_8c.html#a3a57f67068b5f1274d722eac4cd5a9e6">safe_file_name</a> ( g_object_get_data ( G_OBJECT ( selector ), <span class="stringliteral">&quot;basename&quot;</span> ) );
<a name="l01055"></a>01055     <span class="keywordflow">switch</span> ( gtk_combo_box_get_active ( GTK_COMBO_BOX(combo) ) )
<a name="l01056"></a>01056     {
<a name="l01057"></a>01057             <span class="keywordflow">case</span> <a class="code" href="etats__onglet_8c.html#a210a4ff5228fd927bfaac3188a475392a60b52a116540c534ca765e4b22ff1a38">REPORT_EGSB</a>:           <span class="comment">/* EGSB */</span>
<a name="l01058"></a>01058                 extension = <span class="stringliteral">&quot;egsb&quot;</span>;
<a name="l01059"></a>01059                 <span class="keywordflow">break</span>;
<a name="l01060"></a>01060 
<a name="l01061"></a>01061             <span class="keywordflow">case</span> <a class="code" href="etats__onglet_8c.html#a210a4ff5228fd927bfaac3188a475392a1299c6079dd4f229c23bc570a833b6bd">REPORT_HTML</a>:           <span class="comment">/* HTML */</span>
<a name="l01062"></a>01062                 extension = <span class="stringliteral">&quot;html&quot;</span>;
<a name="l01063"></a>01063                 <span class="keywordflow">break</span>;
<a name="l01064"></a>01064 
<a name="l01065"></a>01065             <span class="keywordflow">case</span> <a class="code" href="etats__onglet_8c.html#a210a4ff5228fd927bfaac3188a475392a6fdb1d0f64f8c8c2c48d99a9519b591c">REPORT_CSV</a>:            <span class="comment">/* CSV */</span>
<a name="l01066"></a>01066                 extension = <span class="stringliteral">&quot;csv&quot;</span>;
<a name="l01067"></a>01067                 <span class="keywordflow">break</span>;
<a name="l01068"></a>01068 
<a name="l01069"></a>01069             <span class="keywordflow">case</span> <a class="code" href="etats__onglet_8c.html#a210a4ff5228fd927bfaac3188a475392a0e4aa75ec68d44ab656438f7d41fc4fe">REPORT_PS</a>:             <span class="comment">/* Postscript */</span>
<a name="l01070"></a>01070                 extension = <span class="stringliteral">&quot;ps&quot;</span>;
<a name="l01071"></a>01071                 <span class="keywordflow">break</span>;
<a name="l01072"></a>01072 
<a name="l01073"></a>01073             <span class="keywordflow">case</span> <a class="code" href="etats__onglet_8c.html#a210a4ff5228fd927bfaac3188a475392a18a7d6ae0e4ce619ff5492108a4797de">REPORT_TEX</a>:            <span class="comment">/* Latex */</span>
<a name="l01074"></a>01074                 extension = <span class="stringliteral">&quot;tex&quot;</span>;
<a name="l01075"></a>01075                 <span class="keywordflow">break</span>;
<a name="l01076"></a>01076 
<a name="l01077"></a>01077             <span class="keywordflow">default</span> :
<a name="l01078"></a>01078                 extension = NULL;
<a name="l01079"></a>01079                 <span class="keywordflow">break</span>;
<a name="l01080"></a>01080     }
<a name="l01081"></a>01081 
<a name="l01082"></a>01082     gtk_file_chooser_set_current_name ( GTK_FILE_CHOOSER(selector),
<a name="l01083"></a>01083                                         g_strconcat ( name, <span class="stringliteral">&quot;.&quot;</span>, extension, NULL ) );
<a name="l01084"></a>01084     <span class="keywordflow">return</span> FALSE;
<a name="l01085"></a>01085 }
<a name="l01086"></a>01086 
<a name="l01087"></a>01087 
<a name="l01088"></a>01088 
<a name="l01094"></a>01094 <span class="keywordtype">void</span> exporter_etat ( <span class="keywordtype">void</span> )
<a name="l01095"></a>01095 {
<a name="l01096"></a>01096     GtkWidget *fenetre_nom, *hbox, * combo;
<a name="l01097"></a>01097     gint resultat, current_report_number;
<a name="l01098"></a>01098     gchar * nom_etat;
<a name="l01099"></a>01099     <span class="keyword">struct </span><a class="code" href="structprint__config.html">print_config</a> * print_config_backup;
<a name="l01100"></a>01100 
<a name="l01101"></a>01101     current_report_number = <a class="code" href="navigation_8c.html#aef700722a199569003341a41144ee004">gsb_gui_navigation_get_current_report</a> ();
<a name="l01102"></a>01102 
<a name="l01103"></a>01103     <span class="keywordflow">if</span> ( gtk_notebook_get_current_page ( GTK_NOTEBOOK ( <a class="code" href="bet__config_8c.html#a8924516aa4170f932308e93cf93a785b">notebook_general</a>)) != <a class="code" href="fenetre__principale_8h.html#a1667fdc1081851887c24c98c97d51767a45e7a3ecc5d1c0d580104fd50516fdb9">GSB_REPORTS_PAGE</a> )
<a name="l01104"></a>01104         gtk_notebook_set_current_page ( GTK_NOTEBOOK ( <a class="code" href="bet__config_8c.html#a8924516aa4170f932308e93cf93a785b">notebook_general</a>), <a class="code" href="fenetre__principale_8h.html#a1667fdc1081851887c24c98c97d51767a45e7a3ecc5d1c0d580104fd50516fdb9">GSB_REPORTS_PAGE</a> );
<a name="l01105"></a>01105 
<a name="l01106"></a>01106     fenetre_nom = gtk_file_chooser_dialog_new ( _(<span class="stringliteral">&quot;Export report&quot;</span>),
<a name="l01107"></a>01107                                            GTK_WINDOW ( <a class="code" href="accueil_8c.html#a3d346c08cf2d67c388caabffb412b293">window</a> ),
<a name="l01108"></a>01108                                            GTK_FILE_CHOOSER_ACTION_SAVE,
<a name="l01109"></a>01109                                            GTK_STOCK_CANCEL, GTK_RESPONSE_CANCEL,
<a name="l01110"></a>01110                                            GTK_STOCK_SAVE, GTK_RESPONSE_OK,
<a name="l01111"></a>01111                                            NULL);
<a name="l01112"></a>01112 
<a name="l01113"></a>01113     gtk_file_chooser_set_current_folder ( GTK_FILE_CHOOSER ( fenetre_nom ), <a class="code" href="gsb__file_8c.html#a05b2359af2cda48c801099a2d222aa55">gsb_file_get_last_path</a> () );
<a name="l01114"></a>01114     gtk_file_chooser_set_do_overwrite_confirmation ( GTK_FILE_CHOOSER ( fenetre_nom ), TRUE);
<a name="l01115"></a>01115     gtk_window_set_position ( GTK_WINDOW ( fenetre_nom ), GTK_WIN_POS_CENTER_ON_PARENT );
<a name="l01116"></a>01116 
<a name="l01117"></a>01117     g_object_set_data ( G_OBJECT(fenetre_nom), <span class="stringliteral">&quot;basename&quot;</span>,
<a name="l01118"></a>01118                          <a class="code" href="gsb__data__report_8c.html#ace8a87d303afdf89ef8f3a901987db83">gsb_data_report_get_report_name</a> ( <a class="code" href="navigation_8c.html#aef700722a199569003341a41144ee004">gsb_gui_navigation_get_current_report</a> () ) );
<a name="l01119"></a>01119 
<a name="l01120"></a>01120     hbox = gtk_hbox_new ( FALSE, 6 );
<a name="l01121"></a>01121     gtk_box_pack_start ( GTK_BOX(hbox), gtk_label_new ( <a class="code" href="structures_8h.html#aaad3270d56994a956f6956f142c1c103">COLON</a>(_(<span class="stringliteral">&quot;File format&quot;</span>)) ),
<a name="l01122"></a>01122                          FALSE, FALSE, 0 );
<a name="l01123"></a>01123 
<a name="l01124"></a>01124     combo = gtk_combo_box_new_text();
<a name="l01125"></a>01125     gtk_box_pack_start ( GTK_BOX(hbox), combo, TRUE, TRUE, 0 );
<a name="l01126"></a>01126     gtk_combo_box_append_text ( GTK_COMBO_BOX(combo), _(<span class="stringliteral">&quot;Grisbi report file (egsb file)&quot;</span> ) );
<a name="l01127"></a>01127     gtk_combo_box_append_text ( GTK_COMBO_BOX(combo), _(<span class="stringliteral">&quot;HTML file&quot;</span> ) );
<a name="l01128"></a>01128     gtk_combo_box_append_text ( GTK_COMBO_BOX(combo), _(<span class="stringliteral">&quot;CSV file&quot;</span> ) );
<a name="l01129"></a>01129     gtk_combo_box_append_text ( GTK_COMBO_BOX(combo), _(<span class="stringliteral">&quot;Postscript file&quot;</span> ) );
<a name="l01130"></a>01130     gtk_combo_box_append_text ( GTK_COMBO_BOX(combo), _(<span class="stringliteral">&quot;Latex file&quot;</span> ) );
<a name="l01131"></a>01131 
<a name="l01132"></a>01132     <span class="comment">/* Set initial format. */</span>
<a name="l01133"></a>01133     gtk_combo_box_set_active ( GTK_COMBO_BOX(combo), <a class="code" href="etats__onglet_8c.html#a210a4ff5228fd927bfaac3188a475392a1299c6079dd4f229c23bc570a833b6bd">REPORT_HTML</a> );
<a name="l01134"></a>01134     gsb_report_export_change_format ( combo, fenetre_nom );
<a name="l01135"></a>01135 
<a name="l01136"></a>01136     g_signal_connect ( G_OBJECT(combo), <span class="stringliteral">&quot;changed&quot;</span>,
<a name="l01137"></a>01137                        G_CALLBACK ( gsb_report_export_change_format ),
<a name="l01138"></a>01138                        fenetre_nom );
<a name="l01139"></a>01139     gtk_widget_show_all ( hbox );
<a name="l01140"></a>01140     gtk_file_chooser_set_extra_widget ( GTK_FILE_CHOOSER(fenetre_nom), hbox );
<a name="l01141"></a>01141 
<a name="l01142"></a>01142     resultat = gtk_dialog_run ( GTK_DIALOG ( fenetre_nom ));
<a name="l01143"></a>01143     <span class="keywordflow">if</span> ( resultat == GTK_RESPONSE_OK )
<a name="l01144"></a>01144     {
<a name="l01145"></a>01145         nom_etat = <a class="code" href="utils__file__selection_8c.html#a553733327d0e98dc761f3eec04c9d3d3">file_selection_get_filename</a> ( GTK_FILE_CHOOSER ( fenetre_nom ));
<a name="l01146"></a>01146 
<a name="l01147"></a>01147         <a class="code" href="gsb__status_8c.html#a476044d7002fa33e44709e7293974914">gsb_status_message</a> ( _(<span class="stringliteral">&quot;Exporting report ...&quot;</span>) );
<a name="l01148"></a>01148 
<a name="l01149"></a>01149         <a class="code" href="gsb__status_8c.html#a16da6eed5923c59ba4584c96af26ff41">gsb_status_wait</a> ( TRUE );
<a name="l01150"></a>01150 
<a name="l01151"></a>01151         <span class="keywordflow">switch</span> ( GPOINTER_TO_INT(g_object_get_data ( G_OBJECT(fenetre_nom), <span class="stringliteral">&quot;format&quot;</span> ) ) )
<a name="l01152"></a>01152         {
<a name="l01153"></a>01153             <span class="keywordflow">case</span> <a class="code" href="etats__onglet_8c.html#a210a4ff5228fd927bfaac3188a475392a60b52a116540c534ca765e4b22ff1a38">REPORT_EGSB</a>:           <span class="comment">/* EGSB */</span>
<a name="l01154"></a>01154                 <a class="code" href="gsb__file__others_8c.html#a1c440737d473de4c6100fef0d770139f">gsb_file_others_save_report</a> ( nom_etat );
<a name="l01155"></a>01155                 <span class="keywordflow">break</span>;
<a name="l01156"></a>01156 
<a name="l01157"></a>01157             <span class="keywordflow">case</span> <a class="code" href="etats__onglet_8c.html#a210a4ff5228fd927bfaac3188a475392a1299c6079dd4f229c23bc570a833b6bd">REPORT_HTML</a>:           <span class="comment">/* HTML */</span>
<a name="l01158"></a>01158                 export_etat_courant_vers_html ( nom_etat );
<a name="l01159"></a>01159                 <span class="keywordflow">break</span>;
<a name="l01160"></a>01160 
<a name="l01161"></a>01161             <span class="keywordflow">case</span> <a class="code" href="etats__onglet_8c.html#a210a4ff5228fd927bfaac3188a475392a6fdb1d0f64f8c8c2c48d99a9519b591c">REPORT_CSV</a>:            <span class="comment">/* CSV */</span>
<a name="l01162"></a>01162                 export_etat_courant_vers_csv ( nom_etat );
<a name="l01163"></a>01163                 <span class="keywordflow">break</span>;
<a name="l01164"></a>01164 
<a name="l01165"></a>01165             <span class="keywordflow">case</span> <a class="code" href="etats__onglet_8c.html#a210a4ff5228fd927bfaac3188a475392a0e4aa75ec68d44ab656438f7d41fc4fe">REPORT_PS</a>:             <span class="comment">/* Postscript */</span>
<a name="l01166"></a>01166                 print_config_backup = <a class="code" href="print__config_8c.html#ac71fc11b0525a8a8e08dc3146cde26ea">print_config_dup</a> ( );
<a name="l01167"></a>01167                 <a class="code" href="parametres_8c.html#ab2a744f5d2124688473d13979420e911">etat</a>.<a class="code" href="structgsb__etat__t.html#a7b6f0c9099af0a446bbbbc0205c4b3f6">print_config</a>.<a class="code" href="structprint__config.html#a027ac5045394b5ec477942f0295f9e3d">printer</a> = FALSE;
<a name="l01168"></a>01168                 <a class="code" href="parametres_8c.html#ab2a744f5d2124688473d13979420e911">etat</a>.<a class="code" href="structgsb__etat__t.html#a7b6f0c9099af0a446bbbbc0205c4b3f6">print_config</a>.<a class="code" href="structprint__config.html#aa1dd16d3a4ea1d9ea2e80deafe76948f">filetype</a> = <a class="code" href="print__config_8h.html#af547d73b85f475c4abfafdb76bf0c301a281a86d9a7c94c3dc84bab57afd45435">POSTSCRIPT_FILE</a>;
<a name="l01169"></a>01169                 <a class="code" href="parametres_8c.html#ab2a744f5d2124688473d13979420e911">etat</a>.<a class="code" href="structgsb__etat__t.html#a7b6f0c9099af0a446bbbbc0205c4b3f6">print_config</a>.<a class="code" href="structprint__config.html#a5f0f0798f348098e208f067cedf6aa0d">printer_filename</a> = nom_etat;
<a name="l01170"></a>01170                 <a class="code" href="etats__calculs_8c.html#ab2abfe27729153161fd891d3e3f79483">affichage_etat</a> ( <a class="code" href="navigation_8c.html#aef700722a199569003341a41144ee004">gsb_gui_navigation_get_current_report</a> (),
<a name="l01171"></a>01171                                  &amp;<a class="code" href="etats__calculs_8c.html#aa79551ad1b2719219e91f89607c560d8">latex_affichage</a>, nom_etat );
<a name="l01172"></a>01172                 <a class="code" href="print__config_8c.html#a45bfd318018a5f6eb2e79a193f59a695">print_config_set</a> ( print_config_backup );
<a name="l01173"></a>01173                 <span class="keywordflow">break</span>;
<a name="l01174"></a>01174 
<a name="l01175"></a>01175             <span class="keywordflow">case</span> <a class="code" href="etats__onglet_8c.html#a210a4ff5228fd927bfaac3188a475392a18a7d6ae0e4ce619ff5492108a4797de">REPORT_TEX</a>:            <span class="comment">/* Latex */</span>
<a name="l01176"></a>01176                 print_config_backup = <a class="code" href="print__config_8c.html#ac71fc11b0525a8a8e08dc3146cde26ea">print_config_dup</a> ( );
<a name="l01177"></a>01177                 <a class="code" href="parametres_8c.html#ab2a744f5d2124688473d13979420e911">etat</a>.<a class="code" href="structgsb__etat__t.html#a7b6f0c9099af0a446bbbbc0205c4b3f6">print_config</a>.<a class="code" href="structprint__config.html#a027ac5045394b5ec477942f0295f9e3d">printer</a> = FALSE;
<a name="l01178"></a>01178                 <a class="code" href="parametres_8c.html#ab2a744f5d2124688473d13979420e911">etat</a>.<a class="code" href="structgsb__etat__t.html#a7b6f0c9099af0a446bbbbc0205c4b3f6">print_config</a>.<a class="code" href="structprint__config.html#aa1dd16d3a4ea1d9ea2e80deafe76948f">filetype</a> = <a class="code" href="print__config_8h.html#af547d73b85f475c4abfafdb76bf0c301a8165a8ec5ac5eca390f19e10a3f54e7d">LATEX_FILE</a>;
<a name="l01179"></a>01179                 <a class="code" href="parametres_8c.html#ab2a744f5d2124688473d13979420e911">etat</a>.<a class="code" href="structgsb__etat__t.html#a7b6f0c9099af0a446bbbbc0205c4b3f6">print_config</a>.<a class="code" href="structprint__config.html#a5f0f0798f348098e208f067cedf6aa0d">printer_filename</a> = nom_etat;
<a name="l01180"></a>01180                 <a class="code" href="etats__calculs_8c.html#ab2abfe27729153161fd891d3e3f79483">affichage_etat</a> ( <a class="code" href="navigation_8c.html#aef700722a199569003341a41144ee004">gsb_gui_navigation_get_current_report</a> (),
<a name="l01181"></a>01181                                  &amp;<a class="code" href="etats__calculs_8c.html#aa79551ad1b2719219e91f89607c560d8">latex_affichage</a>, nom_etat );
<a name="l01182"></a>01182                 <a class="code" href="print__config_8c.html#a45bfd318018a5f6eb2e79a193f59a695">print_config_set</a> ( print_config_backup );
<a name="l01183"></a>01183                 <span class="keywordflow">break</span>;
<a name="l01184"></a>01184 
<a name="l01185"></a>01185             <span class="keywordflow">default</span> :
<a name="l01186"></a>01186                 <span class="keywordflow">break</span>;
<a name="l01187"></a>01187         }
<a name="l01188"></a>01188 
<a name="l01189"></a>01189         <a class="code" href="gsb__status_8c.html#ac4035c7e810531f0bf1264ae3be76c52">gsb_status_stop_wait</a> ( TRUE );
<a name="l01190"></a>01190 
<a name="l01191"></a>01191         <a class="code" href="gsb__status_8c.html#a476044d7002fa33e44709e7293974914">gsb_status_message</a> ( _(<span class="stringliteral">&quot;Done&quot;</span>) );
<a name="l01192"></a>01192     }
<a name="l01193"></a>01193     <a class="code" href="gsb__file_8c.html#abea90088f86f05e8386739483e16b380">gsb_file_update_last_path</a> (<a class="code" href="utils__file__selection_8c.html#a7ceee035264e3ea82cd7e5863650a6c3">file_selection_get_last_directory</a> (GTK_FILE_CHOOSER (fenetre_nom), TRUE));
<a name="l01194"></a>01194     gtk_widget_destroy ( GTK_WIDGET ( fenetre_nom ));
<a name="l01195"></a>01195 }
<a name="l01196"></a>01196 
<a name="l01197"></a>01197 
<a name="l01198"></a>01198 
<a name="l01202"></a>01202 <span class="keywordtype">void</span> importer_etat ( <span class="keywordtype">void</span> )
<a name="l01203"></a>01203 {
<a name="l01204"></a>01204     GtkWidget *fenetre_nom;
<a name="l01205"></a>01205     gint resultat;
<a name="l01206"></a>01206     gchar *nom_etat;
<a name="l01207"></a>01207     GtkFileFilter * filter;
<a name="l01208"></a>01208 
<a name="l01209"></a>01209     <span class="keywordflow">if</span> ( gtk_notebook_get_current_page ( GTK_NOTEBOOK ( <a class="code" href="bet__config_8c.html#a8924516aa4170f932308e93cf93a785b">notebook_general</a>)) != <a class="code" href="fenetre__principale_8h.html#a1667fdc1081851887c24c98c97d51767a45e7a3ecc5d1c0d580104fd50516fdb9">GSB_REPORTS_PAGE</a> )
<a name="l01210"></a>01210         gtk_notebook_set_current_page ( GTK_NOTEBOOK ( <a class="code" href="bet__config_8c.html#a8924516aa4170f932308e93cf93a785b">notebook_general</a>), <a class="code" href="fenetre__principale_8h.html#a1667fdc1081851887c24c98c97d51767a45e7a3ecc5d1c0d580104fd50516fdb9">GSB_REPORTS_PAGE</a> );
<a name="l01211"></a>01211 
<a name="l01212"></a>01212     fenetre_nom = gtk_file_chooser_dialog_new ( _(<span class="stringliteral">&quot;Import a report&quot;</span>),
<a name="l01213"></a>01213                                            GTK_WINDOW ( <a class="code" href="accueil_8c.html#a3d346c08cf2d67c388caabffb412b293">window</a> ),
<a name="l01214"></a>01214                                            GTK_FILE_CHOOSER_ACTION_OPEN,
<a name="l01215"></a>01215                                            GTK_STOCK_CANCEL, GTK_RESPONSE_CANCEL,
<a name="l01216"></a>01216                                            GTK_STOCK_OPEN, GTK_RESPONSE_OK,
<a name="l01217"></a>01217                                            NULL);
<a name="l01218"></a>01218 
<a name="l01219"></a>01219     gtk_file_chooser_set_current_folder ( GTK_FILE_CHOOSER ( fenetre_nom ), <a class="code" href="gsb__file_8c.html#a05b2359af2cda48c801099a2d222aa55">gsb_file_get_last_path</a> () );
<a name="l01220"></a>01220     gtk_window_set_position ( GTK_WINDOW ( fenetre_nom ), GTK_WIN_POS_CENTER_ON_PARENT );
<a name="l01221"></a>01221 
<a name="l01222"></a>01222     filter = gtk_file_filter_new ();
<a name="l01223"></a>01223     gtk_file_filter_set_name ( filter, _(<span class="stringliteral">&quot;Grisbi report files (*.egsb)&quot;</span>) );
<a name="l01224"></a>01224     gtk_file_filter_add_pattern ( filter, <span class="stringliteral">&quot;*.egsb&quot;</span> );
<a name="l01225"></a>01225     gtk_file_chooser_add_filter ( GTK_FILE_CHOOSER ( fenetre_nom ), filter );
<a name="l01226"></a>01226     gtk_file_chooser_set_filter ( GTK_FILE_CHOOSER ( fenetre_nom ), filter );
<a name="l01227"></a>01227 
<a name="l01228"></a>01228     filter = gtk_file_filter_new ();
<a name="l01229"></a>01229     gtk_file_filter_set_name ( filter, _(<span class="stringliteral">&quot;All files&quot;</span>) );
<a name="l01230"></a>01230     gtk_file_filter_add_pattern ( filter, <span class="stringliteral">&quot;*&quot;</span> );
<a name="l01231"></a>01231     gtk_file_chooser_add_filter ( GTK_FILE_CHOOSER ( fenetre_nom ), filter );
<a name="l01232"></a>01232 
<a name="l01233"></a>01233     resultat = gtk_dialog_run ( GTK_DIALOG ( fenetre_nom ));
<a name="l01234"></a>01234 
<a name="l01235"></a>01235     <span class="keywordflow">switch</span> ( resultat )
<a name="l01236"></a>01236     {
<a name="l01237"></a>01237         <span class="keywordflow">case</span> GTK_RESPONSE_OK :
<a name="l01238"></a>01238             nom_etat =<a class="code" href="utils__file__selection_8c.html#a553733327d0e98dc761f3eec04c9d3d3">file_selection_get_filename</a> ( GTK_FILE_CHOOSER ( fenetre_nom ));
<a name="l01239"></a>01239             <a class="code" href="gsb__file_8c.html#abea90088f86f05e8386739483e16b380">gsb_file_update_last_path</a> (<a class="code" href="utils__file__selection_8c.html#a7ceee035264e3ea82cd7e5863650a6c3">file_selection_get_last_directory</a> (GTK_FILE_CHOOSER (fenetre_nom), TRUE));
<a name="l01240"></a>01240             gtk_widget_destroy ( GTK_WIDGET ( fenetre_nom ));
<a name="l01241"></a>01241 
<a name="l01242"></a>01242             <span class="comment">/* la vérification que c&#39;est possible a �t� faite par la boite de selection*/</span>
<a name="l01243"></a>01243             <span class="keywordflow">if</span> ( !<a class="code" href="gsb__file__others_8c.html#a03383737bac0b4cf40a29a702019457f">gsb_file_others_load_report</a> ( nom_etat ))
<a name="l01244"></a>01244             {
<a name="l01245"></a>01245                 <span class="keywordflow">return</span>;
<a name="l01246"></a>01246             }
<a name="l01247"></a>01247             <span class="keywordflow">break</span>;
<a name="l01248"></a>01248 
<a name="l01249"></a>01249         <span class="keywordflow">default</span> :
<a name="l01250"></a>01250             gtk_widget_destroy ( GTK_WIDGET ( fenetre_nom ));
<a name="l01251"></a>01251             <span class="keywordflow">return</span>;
<a name="l01252"></a>01252     }
<a name="l01253"></a>01253 }
<a name="l01254"></a>01254 
<a name="l01255"></a>01255 
<a name="l01256"></a>01256 
<a name="l01260"></a>01260 <span class="keywordtype">void</span> dupliquer_etat ( <span class="keywordtype">void</span> )
<a name="l01261"></a>01261 {
<a name="l01262"></a>01262     gint report_number, current_report_number;
<a name="l01263"></a>01263 
<a name="l01264"></a>01264     current_report_number = <a class="code" href="navigation_8c.html#aef700722a199569003341a41144ee004">gsb_gui_navigation_get_current_report</a> ();
<a name="l01265"></a>01265 
<a name="l01266"></a>01266     <span class="keywordflow">if</span> ( gtk_notebook_get_current_page ( GTK_NOTEBOOK ( <a class="code" href="bet__config_8c.html#a8924516aa4170f932308e93cf93a785b">notebook_general</a>)) != <a class="code" href="fenetre__principale_8h.html#a1667fdc1081851887c24c98c97d51767a45e7a3ecc5d1c0d580104fd50516fdb9">GSB_REPORTS_PAGE</a> )
<a name="l01267"></a>01267         gtk_notebook_set_current_page ( GTK_NOTEBOOK ( <a class="code" href="bet__config_8c.html#a8924516aa4170f932308e93cf93a785b">notebook_general</a>), <a class="code" href="fenetre__principale_8h.html#a1667fdc1081851887c24c98c97d51767a45e7a3ecc5d1c0d580104fd50516fdb9">GSB_REPORTS_PAGE</a> );
<a name="l01268"></a>01268 
<a name="l01269"></a>01269     report_number = <a class="code" href="gsb__data__report_8c.html#a9c61238b2aa695b3f68fa95738706901">gsb_data_report_dup</a> (current_report_number);
<a name="l01270"></a>01270 
<a name="l01271"></a>01271     <a class="code" href="navigation_8c.html#a6c19e82e10a0dd98a3a20290a3a873ec">gsb_gui_navigation_add_report</a> (report_number);
<a name="l01272"></a>01272     <a class="code" href="etats__onglet_8c.html#a45fec3aed31acd90ea946bd3eab8586e">gsb_gui_update_gui_to_report</a> ( report_number );
<a name="l01273"></a>01273 
<a name="l01274"></a>01274     <a class="code" href="etats__config_8c.html#a9b69a48d62d062235b3e849dbf5cd951">personnalisation_etat</a> ();
<a name="l01275"></a>01275     <span class="keywordflow">if</span> ( <a class="code" href="parametres_8c.html#ab2a744f5d2124688473d13979420e911">etat</a>.<a class="code" href="structgsb__etat__t.html#a9d0fa9057da603e64a601d69d7bf2b51">modification_fichier</a> == 0 )
<a name="l01276"></a>01276         <a class="code" href="traitement__variables_8c.html#aa4084b9e508b1d1fea1d09c6b6208021">modification_fichier</a> ( TRUE );
<a name="l01277"></a>01277 }
<a name="l01278"></a>01278 
<a name="l01279"></a>01279 
<a name="l01280"></a>01280 <span class="comment">/* Local Variables: */</span>
<a name="l01281"></a>01281 <span class="comment">/* c-basic-offset: 4 */</span>
<a name="l01282"></a>01282 <span class="comment">/* End: */</span>
</pre></div></div>
<hr class="footer"/><address style="text-align: right;"><small>Généré le Sat Aug 7 22:12:01 2010 pour Grisbi par&nbsp;
<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.6.3 </small></address>
</body>
</html>
