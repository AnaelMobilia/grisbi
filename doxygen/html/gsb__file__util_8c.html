<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<title>Grisbi: Référence du fichier gsb_file_util.c</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="doxygen.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<!-- Généré par Doxygen 1.6.3 -->
<div class="navigation" id="top">
  <div class="tabs">
    <ul>
      <li><a href="main.html"><span>Page&nbsp;principale</span></a></li>
      <li><a href="pages.html"><span>Pages&nbsp;associées</span></a></li>
      <li><a href="annotated.html"><span>Structures&nbsp;de&nbsp;données</span></a></li>
      <li class="current"><a href="files.html"><span>Fichiers</span></a></li>
    </ul>
  </div>
  <div class="tabs">
    <ul>
      <li><a href="files.html"><span>Liste&nbsp;des&nbsp;fichiers</span></a></li>
      <li><a href="globals.html"><span>Portée&nbsp;globale</span></a></li>
    </ul>
  </div>
</div>
<div class="contents">
<h1>Référence du fichier gsb_file_util.c</h1><code>#include &quot;<a class="el" href="include_8h_source.html">include.h</a>&quot;</code><br/>
<code>#include &lt;zlib.h&gt;</code><br/>
<code>#include &quot;<a class="el" href="gsb__file__util_8h_source.html">gsb_file_util.h</a>&quot;</code><br/>
<code>#include &quot;<a class="el" href="dialog_8h_source.html">dialog.h</a>&quot;</code><br/>
<code>#include &quot;<a class="el" href="gsb__data__account_8h_source.html">gsb_data_account.h</a>&quot;</code><br/>
<code>#include &quot;<a class="el" href="gsb__data__transaction_8h_source.html">gsb_data_transaction.h</a>&quot;</code><br/>
<code>#include &quot;<a class="el" href="utils__str_8h_source.html">utils_str.h</a>&quot;</code><br/>
<code>#include &quot;<a class="el" href="utils__files_8h_source.html">utils_files.h</a>&quot;</code><br/>
<code>#include &quot;<a class="el" href="structures_8h_source.html">structures.h</a>&quot;</code><br/>
<code>#include &quot;<a class="el" href="erreur_8h_source.html">erreur.h</a>&quot;</code><br/>

<p><a href="gsb__file__util_8c_source.html">Aller au code source de ce fichier.</a></p>
<table border="0" cellpadding="0" cellspacing="0">
<tr><td colspan="2"><h2>Fonctions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">gboolean&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="gsb__file__util_8c.html#af69c587f1e5d21b56fe1c8f53b32565a">gsb_file_util_test_overwrite</a> (const gchar *filename)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">gboolean&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="gsb__file__util_8c.html#aa976d6f0795a4f897ac1092f95ca247c">gsb_file_util_get_contents</a> (gchar *filename, gchar **file_content, gulong *length)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="gsb__file__util_8c.html#ae79b0f000a8686ec053bddcd2f0c1d35">switch_t_r</a> (void)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">gboolean&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="gsb__file__util_8c.html#a80670d5f3bf53ded5ead442f5c6d1be0">gsb_file_util_modify_lock</a> (gboolean create_swp)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="gsb__file__util_8c.html#a5860b25ee5eef286dbb07e812c66c0fd">gsb_file_util_change_permissions</a> (void)</td></tr>
<tr><td colspan="2"><h2>Variables</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">gchar *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="gsb__file__util_8c.html#ae00b9af94c75169e6ab8cf0ec25e8b89">nom_fichier_comptes</a></td></tr>
</table>
<hr/><h2>Documentation des fonctions</h2>
<a class="anchor" id="a5860b25ee5eef286dbb07e812c66c0fd"></a><!-- doxytag: member="gsb_file_util.c::gsb_file_util_change_permissions" ref="a5860b25ee5eef286dbb07e812c66c0fd" args="(void)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void gsb_file_util_change_permissions </td>
          <td>(</td>
          <td class="paramtype">void&nbsp;</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>called when loading a file, if the permissions are not set only for the user propose to change the permissions</p>
<dl><dt><b>Paramètres:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em></em>&nbsp;</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Renvoie:</b></dt><dd></dd></dl>

<p>Définition à la ligne <a class="el" href="gsb__file__util_8c_source.html#l00392">392</a> du fichier <a class="el" href="gsb__file__util_8c_source.html">gsb_file_util.c</a>.</p>

</div>
</div>
<a class="anchor" id="aa976d6f0795a4f897ac1092f95ca247c"></a><!-- doxytag: member="gsb_file_util.c::gsb_file_util_get_contents" ref="aa976d6f0795a4f897ac1092f95ca247c" args="(gchar *filename, gchar **file_content, gulong *length)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">gboolean gsb_file_util_get_contents </td>
          <td>(</td>
          <td class="paramtype">gchar *&nbsp;</td>
          <td class="paramname"> <em>filename</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">gchar **&nbsp;</td>
          <td class="paramname"> <em>file_content</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">gulong *&nbsp;</td>
          <td class="paramname"> <em>length</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>this function do the same as g_file_get_contents but can also open a compressed file with zlib</p>
<dl><dt><b>Paramètres:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>filename</em>&nbsp;</td><td>the name of file to open </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>file_content</em>&nbsp;</td><td>a gchar pointer to fill with the adress of the content of the file </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>length</em>&nbsp;</td><td>a gulong pointer to file with the length of the loaded file</td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Renvoie:</b></dt><dd>TRUE all is ok, FALSE a problem occured </dd></dl>

<p>Définition à la ligne <a class="el" href="gsb__file__util_8c_source.html#l00105">105</a> du fichier <a class="el" href="gsb__file__util_8c_source.html">gsb_file_util.c</a>.</p>

</div>
</div>
<a class="anchor" id="a80670d5f3bf53ded5ead442f5c6d1be0"></a><!-- doxytag: member="gsb_file_util.c::gsb_file_util_modify_lock" ref="a80670d5f3bf53ded5ead442f5c6d1be0" args="(gboolean create_swp)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">gboolean gsb_file_util_modify_lock </td>
          <td>(</td>
          <td class="paramtype">gboolean&nbsp;</td>
          <td class="paramname"> <em>create_swp</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>create or delete a file ".name_of_file.swp" to check if the file is opened already or not</p>
<dl><dt><b>Paramètres:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>create_swp</em>&nbsp;</td><td>if we create or delete it</td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Renvoie:</b></dt><dd>TRUE if ok </dd></dl>

<p>Définition à la ligne <a class="el" href="gsb__file__util_8c_source.html#l00278">278</a> du fichier <a class="el" href="gsb__file__util_8c_source.html">gsb_file_util.c</a>.</p>

</div>
</div>
<a class="anchor" id="af69c587f1e5d21b56fe1c8f53b32565a"></a><!-- doxytag: member="gsb_file_util.c::gsb_file_util_test_overwrite" ref="af69c587f1e5d21b56fe1c8f53b32565a" args="(const gchar *filename)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">gboolean gsb_file_util_test_overwrite </td>
          <td>(</td>
          <td class="paramtype">const gchar *&nbsp;</td>
          <td class="paramname"> <em>filename</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>check if the file exists, and if so, ask the user if he wants to overwrite it show an error message if necessary return TRUE if the saving action can continue, FALSE to stop it</p>
<dl><dt><b>Paramètres:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>filename</em>&nbsp;</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Renvoie:</b></dt><dd>TRUE ok, can continue (no file exists or user wants to overwrite), FALSE stop the action </dd></dl>

<p>Définition à la ligne <a class="el" href="gsb__file__util_8c_source.html#l00057">57</a> du fichier <a class="el" href="gsb__file__util_8c_source.html">gsb_file_util.c</a>.</p>

</div>
</div>
<a class="anchor" id="ae79b0f000a8686ec053bddcd2f0c1d35"></a><!-- doxytag: member="gsb_file_util.c::switch_t_r" ref="ae79b0f000a8686ec053bddcd2f0c1d35" args="(void)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void switch_t_r </td>
          <td>(</td>
          <td class="paramtype">void&nbsp;</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>for a grisbi file before 0.5.1, switch the R and T transactions because T appears called only for a file before 0.5.1</p>
<dl><dt><b>Paramètres:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em></em>&nbsp;</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Renvoie:</b></dt><dd></dd></dl>

<p>Définition à la ligne <a class="el" href="gsb__file__util_8c_source.html#l00232">232</a> du fichier <a class="el" href="gsb__file__util_8c_source.html">gsb_file_util.c</a>.</p>

</div>
</div>
<hr/><h2>Documentation des variables</h2>
<a class="anchor" id="ae00b9af94c75169e6ab8cf0ec25e8b89"></a><!-- doxytag: member="gsb_file_util.c::nom_fichier_comptes" ref="ae00b9af94c75169e6ab8cf0ec25e8b89" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">gchar* <a class="el" href="traitement__variables_8c.html#ae00b9af94c75169e6ab8cf0ec25e8b89">nom_fichier_comptes</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Définition à la ligne <a class="el" href="traitement__variables_8c_source.html#l00145">145</a> du fichier <a class="el" href="traitement__variables_8c_source.html">traitement_variables.c</a>.</p>

</div>
</div>
</div>
<hr class="footer"/><address style="text-align: right;"><small>Généré le Sat Aug 7 22:12:04 2010 pour Grisbi par&nbsp;
<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.6.3 </small></address>
</body>
</html>
