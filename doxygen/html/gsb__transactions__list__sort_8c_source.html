<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<title>Grisbi:  Fichier source de gsb_transactions_list_sort.c</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="doxygen.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<!-- Généré par Doxygen 1.6.3 -->
<div class="navigation" id="top">
  <div class="tabs">
    <ul>
      <li><a href="main.html"><span>Page&nbsp;principale</span></a></li>
      <li><a href="pages.html"><span>Pages&nbsp;associées</span></a></li>
      <li><a href="annotated.html"><span>Structures&nbsp;de&nbsp;données</span></a></li>
      <li class="current"><a href="files.html"><span>Fichiers</span></a></li>
    </ul>
  </div>
  <div class="tabs">
    <ul>
      <li><a href="files.html"><span>Liste&nbsp;des&nbsp;fichiers</span></a></li>
      <li><a href="globals.html"><span>Portée&nbsp;globale</span></a></li>
    </ul>
  </div>
<h1>gsb_transactions_list_sort.c</h1><a href="gsb__transactions__list__sort_8c.html">Aller à la documentation de ce fichier.</a><div class="fragment"><pre class="fragment"><a name="l00001"></a>00001 <span class="comment">/* ************************************************************************** */</span>
<a name="l00002"></a>00002 <span class="comment">/*                                                                            */</span>
<a name="l00003"></a>00003 <span class="comment">/*     Copyright (C)    2000-2008 Cédric Auger (cedric@grisbi.org)            */</span>
<a name="l00004"></a>00004 <span class="comment">/*          2003-2008 Benjamin Drieu (bdrieu@april.org)                       */</span>
<a name="l00005"></a>00005 <span class="comment">/*                      2008-2009 Pierre Biava (grisbi@pierre.biava.name)     */</span>
<a name="l00006"></a>00006 <span class="comment">/*          http://www.grisbi.org                                             */</span>
<a name="l00007"></a>00007 <span class="comment">/*                                                                            */</span>
<a name="l00008"></a>00008 <span class="comment">/*  This program is free software; you can redistribute it and/or modify      */</span>
<a name="l00009"></a>00009 <span class="comment">/*  it under the terms of the GNU General Public License as published by      */</span>
<a name="l00010"></a>00010 <span class="comment">/*  the Free Software Foundation; either version 2 of the License, or         */</span>
<a name="l00011"></a>00011 <span class="comment">/*  (at your option) any later version.                                       */</span>
<a name="l00012"></a>00012 <span class="comment">/*                                                                            */</span>
<a name="l00013"></a>00013 <span class="comment">/*  This program is distributed in the hope that it will be useful,           */</span>
<a name="l00014"></a>00014 <span class="comment">/*  but WITHOUT ANY WARRANTY; without even the implied warranty of            */</span>
<a name="l00015"></a>00015 <span class="comment">/*  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the             */</span>
<a name="l00016"></a>00016 <span class="comment">/*  GNU General Public License for more details.                              */</span>
<a name="l00017"></a>00017 <span class="comment">/*                                                                            */</span>
<a name="l00018"></a>00018 <span class="comment">/*  You should have received a copy of the GNU General Public License         */</span>
<a name="l00019"></a>00019 <span class="comment">/*  along with this program; if not, write to the Free Software               */</span>
<a name="l00020"></a>00020 <span class="comment">/*  Foundation, Inc., 59 Temple Place, Suite 330, Boston, MA  02111-1307  USA */</span>
<a name="l00021"></a>00021 <span class="comment">/*                                                                            */</span>
<a name="l00022"></a>00022 <span class="comment">/* ************************************************************************** */</span>
<a name="l00023"></a>00023 
<a name="l00030"></a>00030 <span class="preprocessor">#include &quot;<a class="code" href="include_8h.html">include.h</a>&quot;</span>
<a name="l00031"></a>00031 
<a name="l00032"></a>00032 
<a name="l00033"></a>00033 <span class="comment">/*START_INCLUDE*/</span>
<a name="l00034"></a>00034 <span class="preprocessor">#include &quot;<a class="code" href="gsb__transactions__list__sort_8h.html">gsb_transactions_list_sort.h</a>&quot;</span>
<a name="l00035"></a>00035 <span class="preprocessor">#include &quot;<a class="code" href="gsb__data__account_8h.html">gsb_data_account.h</a>&quot;</span>
<a name="l00036"></a>00036 <span class="preprocessor">#include &quot;<a class="code" href="gsb__data__archive__store_8h.html">gsb_data_archive_store.h</a>&quot;</span>
<a name="l00037"></a>00037 <span class="preprocessor">#include &quot;<a class="code" href="gsb__data__budget_8h.html">gsb_data_budget.h</a>&quot;</span>
<a name="l00038"></a>00038 <span class="preprocessor">#include &quot;<a class="code" href="gsb__data__fyear_8h.html">gsb_data_fyear.h</a>&quot;</span>
<a name="l00039"></a>00039 <span class="preprocessor">#include &quot;<a class="code" href="gsb__data__payee_8h.html">gsb_data_payee.h</a>&quot;</span>
<a name="l00040"></a>00040 <span class="preprocessor">#include &quot;<a class="code" href="gsb__data__payment_8h.html">gsb_data_payment.h</a>&quot;</span>
<a name="l00041"></a>00041 <span class="preprocessor">#include &quot;<a class="code" href="gsb__data__reconcile_8h.html">gsb_data_reconcile.h</a>&quot;</span>
<a name="l00042"></a>00042 <span class="preprocessor">#include &quot;<a class="code" href="gsb__data__transaction_8h.html">gsb_data_transaction.h</a>&quot;</span>
<a name="l00043"></a>00043 <span class="preprocessor">#include &quot;<a class="code" href="navigation_8h.html">navigation.h</a>&quot;</span>
<a name="l00044"></a>00044 <span class="preprocessor">#include &quot;<a class="code" href="gsb__real_8h.html">gsb_real.h</a>&quot;</span>
<a name="l00045"></a>00045 <span class="preprocessor">#include &quot;<a class="code" href="gsb__transactions__list_8h.html">gsb_transactions_list.h</a>&quot;</span>
<a name="l00046"></a>00046 <span class="preprocessor">#include &quot;<a class="code" href="custom__list_8h.html">custom_list.h</a>&quot;</span>
<a name="l00047"></a>00047 <span class="preprocessor">#include &quot;<a class="code" href="gsb__transactions__list_8h.html">gsb_transactions_list.h</a>&quot;</span>
<a name="l00048"></a>00048 <span class="preprocessor">#include &quot;<a class="code" href="include_8h.html">include.h</a>&quot;</span>
<a name="l00049"></a>00049 <span class="preprocessor">#include &quot;<a class="code" href="structures_8h.html">structures.h</a>&quot;</span>
<a name="l00050"></a>00050 <span class="preprocessor">#include &quot;<a class="code" href="gsb__real_8h.html">gsb_real.h</a>&quot;</span>
<a name="l00051"></a>00051 <span class="preprocessor">#include &quot;<a class="code" href="erreur_8h.html">erreur.h</a>&quot;</span>
<a name="l00052"></a>00052 <span class="comment">/*END_INCLUDE*/</span>
<a name="l00053"></a>00053 
<a name="l00054"></a>00054 <span class="comment">/*START_STATIC*/</span>
<a name="l00055"></a>00055 <span class="keyword">static</span> gint gsb_transactions_list_sort_by_amount ( gint transaction_number_1,
<a name="l00056"></a>00056                         gint transaction_number_2 );
<a name="l00057"></a>00057 <span class="keyword">static</span> gint gsb_transactions_list_sort_by_bank ( gint transaction_number_1,
<a name="l00058"></a>00058                         gint transaction_number_2 );
<a name="l00059"></a>00059 <span class="keyword">static</span> gint gsb_transactions_list_sort_by_budget ( gint transaction_number_1,
<a name="l00060"></a>00060                         gint transaction_number_2 );
<a name="l00061"></a>00061 <span class="keyword">static</span> gint gsb_transactions_list_sort_by_category ( gint transaction_number_1,
<a name="l00062"></a>00062                         gint transaction_number_2 );
<a name="l00063"></a>00063 <span class="keyword">static</span> gint gsb_transactions_list_sort_by_chq ( gint transaction_number_1,
<a name="l00064"></a>00064                         gint transaction_number_2 );
<a name="l00065"></a>00065 <span class="keyword">static</span> gint gsb_transactions_list_sort_by_credit ( gint transaction_number_1,
<a name="l00066"></a>00066                         gint transaction_number_2 );
<a name="l00067"></a>00067 <span class="keyword">static</span> gint gsb_transactions_list_sort_by_date ( gint transaction_number_1,
<a name="l00068"></a>00068                         gint transaction_number_2 );
<a name="l00069"></a>00069 <span class="keyword">static</span> gint gsb_transactions_list_sort_by_debit ( gint transaction_number_1,
<a name="l00070"></a>00070                         gint transaction_number_2 );
<a name="l00071"></a>00071 <span class="keyword">static</span> gint gsb_transactions_list_sort_by_financial_year ( gint transaction_number_1,
<a name="l00072"></a>00072                         gint transaction_number_2 );
<a name="l00073"></a>00073 <span class="keyword">static</span> gint gsb_transactions_list_sort_by_mark ( gint transaction_number_1,
<a name="l00074"></a>00074                         gint transaction_number_2 );
<a name="l00075"></a>00075 <span class="keyword">static</span> gint gsb_transactions_list_sort_by_no ( gint transaction_number_1,
<a name="l00076"></a>00076                         gint transaction_number_2 );
<a name="l00077"></a>00077 <span class="keyword">static</span> gint gsb_transactions_list_sort_by_no_sort (  gint transaction_number_1,
<a name="l00078"></a>00078                         gint transaction_number_2,
<a name="l00079"></a>00079                         gint element_number );
<a name="l00080"></a>00080 <span class="keyword">static</span> gint gsb_transactions_list_sort_by_notes ( gint transaction_number_1,
<a name="l00081"></a>00081                         gint transaction_number_2 );
<a name="l00082"></a>00082 <span class="keyword">static</span> gint gsb_transactions_list_sort_by_party ( gint transaction_number_1,
<a name="l00083"></a>00083                         gint transaction_number_2 );
<a name="l00084"></a>00084 <span class="keyword">static</span> gint gsb_transactions_list_sort_by_reconcile_nb ( gint transaction_number_1,
<a name="l00085"></a>00085                         gint transaction_number_2 );
<a name="l00086"></a>00086 <span class="keyword">static</span> gint gsb_transactions_list_sort_by_transaction_date_and_amount ( gint transaction_number_1,
<a name="l00087"></a>00087                         gint transaction_number_2 );
<a name="l00088"></a>00088 <span class="keyword">static</span> gint gsb_transactions_list_sort_by_transaction_date_and_no ( gint transaction_number_1,
<a name="l00089"></a>00089                         gint transaction_number_2 );
<a name="l00090"></a>00090 <span class="keyword">static</span> gint gsb_transactions_list_sort_by_type ( gint transaction_number_1,
<a name="l00091"></a>00091                         gint transaction_number_2 );
<a name="l00092"></a>00092 <span class="keyword">static</span> gint gsb_transactions_list_sort_by_value_date ( gint transaction_number_1,
<a name="l00093"></a>00093                         gint transaction_number_2 );
<a name="l00094"></a>00094 <span class="keyword">static</span> gint gsb_transactions_list_sort_by_voucher ( gint transaction_number_1,
<a name="l00095"></a>00095                         gint transaction_number_2 );
<a name="l00096"></a>00096 <span class="comment">/*END_STATIC*/</span>
<a name="l00097"></a>00097 
<a name="l00098"></a>00098 
<a name="l00099"></a>00099 <span class="comment">/*START_EXTERN*/</span>
<a name="l00100"></a>00100 <span class="comment">/*END_EXTERN*/</span>
<a name="l00101"></a>00101 
<a name="l00102"></a>00102 
<a name="l00113"></a><a class="code" href="gsb__transactions__list__sort_8h.html#a3b2cd9609cb89b1c6f4af53433155300">00113</a> gint <a class="code" href="gsb__transactions__list__sort_8c.html#a3b2cd9609cb89b1c6f4af53433155300">gsb_transactions_list_sort</a> (<a class="code" href="struct__CustomRecord.html">CustomRecord</a> **a,
<a name="l00114"></a>00114                         <a class="code" href="struct__CustomRecord.html">CustomRecord</a> **b,
<a name="l00115"></a>00115                         <a class="code" href="struct__CustomList.html">CustomList</a> *custom_list)
<a name="l00116"></a>00116 {
<a name="l00117"></a>00117     gint account_number;
<a name="l00118"></a>00118     gint return_value;
<a name="l00119"></a>00119     <a class="code" href="struct__CustomRecord.html">CustomRecord</a> *record_1 = NULL;
<a name="l00120"></a>00120     <a class="code" href="struct__CustomRecord.html">CustomRecord</a> *record_2 = NULL;
<a name="l00121"></a>00121 
<a name="l00122"></a>00122     account_number = <a class="code" href="navigation_8c.html#a3b668bf52ce71dcff3ea10c9db7be859">gsb_gui_navigation_get_current_account</a> ();
<a name="l00123"></a>00123     <span class="keywordflow">if</span> (account_number == -1)
<a name="l00124"></a>00124         <span class="comment">/* normally cannot happen, except come here at the opening</span>
<a name="l00125"></a>00125 <span class="comment">         * of grisbi, and must return 0 if we don&#39;t want a crash */</span>
<a name="l00126"></a>00126         <span class="keywordflow">return</span> 0;
<a name="l00127"></a>00127 
<a name="l00128"></a>00128     <span class="comment">/* i don&#39;t know why but sometimes there is a comparison between the 2 same rows... */</span>
<a name="l00129"></a>00129     <span class="keywordflow">if</span> (*a == *b)
<a name="l00130"></a>00130         <span class="keywordflow">return</span> 0;
<a name="l00131"></a>00131 
<a name="l00132"></a>00132     <span class="comment">/* first of all, check the archive */</span>
<a name="l00133"></a>00133     return_value = <a class="code" href="gsb__transactions__list__sort_8c.html#a772947a41069fbbef61f4f63c4c25c2f">gsb_transactions_list_sort_check_archive</a> ( *a, *b );
<a name="l00134"></a>00134     <span class="keywordflow">if</span> (!return_value)
<a name="l00135"></a>00135     {
<a name="l00136"></a>00136         <span class="comment">/* check the general tests (white line...) */</span>
<a name="l00137"></a>00137         <span class="comment">/* get the records */</span>
<a name="l00138"></a>00138         record_1 = *a;
<a name="l00139"></a>00139         record_2 = *b;
<a name="l00140"></a>00140         return_value = <a class="code" href="gsb__transactions__list__sort_8c.html#a40753d7cbe5a9effda9f91b5261116d3">gsb_transactions_list_sort_general_test</a> ( record_1, record_2 );
<a name="l00141"></a>00141     }
<a name="l00142"></a>00142 
<a name="l00143"></a>00143     <span class="keywordflow">if</span> (return_value)
<a name="l00144"></a>00144     {
<a name="l00145"></a>00145         <span class="comment">/* we have already a returned value, but for archive or general test,</span>
<a name="l00146"></a>00146 <span class="comment">         * the pos of the row need not to change, so must keep the return_value */</span>
<a name="l00147"></a>00147         <span class="keywordflow">return</span> return_value;
<a name="l00148"></a>00148     }
<a name="l00149"></a>00149     <span class="keywordflow">else</span>
<a name="l00150"></a>00150     {
<a name="l00151"></a>00151         <span class="comment">/* get the transaction numbers */</span>
<a name="l00152"></a>00152         gint element_number;
<a name="l00153"></a>00153         gint transaction_number_1 = <a class="code" href="gsb__data__transaction_8c.html#a99bf548513083f4a71fe019faeccbe0a">gsb_data_transaction_get_transaction_number</a> (record_1 -&gt; transaction_pointer);
<a name="l00154"></a>00154         gint transaction_number_2 = <a class="code" href="gsb__data__transaction_8c.html#a99bf548513083f4a71fe019faeccbe0a">gsb_data_transaction_get_transaction_number</a> (record_2 -&gt; transaction_pointer);
<a name="l00155"></a>00155 
<a name="l00156"></a>00156         <span class="comment">/* get the element used to sort the list */</span>
<a name="l00157"></a>00157         element_number = <a class="code" href="gsb__data__account_8c.html#a3a33d34a6980db2d4467d8f2fcb580d2">gsb_data_account_get_element_sort</a> ( account_number,
<a name="l00158"></a>00158                                                              custom_list -&gt; sort_col);
<a name="l00159"></a>00159         return_value = gsb_transactions_list_sort_by_no_sort ( transaction_number_1,
<a name="l00160"></a>00160                                                                transaction_number_2,
<a name="l00161"></a>00161                                                                element_number );
<a name="l00162"></a>00162     }
<a name="l00163"></a>00163 
<a name="l00164"></a>00164     <span class="keywordflow">if</span> (custom_list -&gt; sort_order == GTK_SORT_DESCENDING)
<a name="l00165"></a>00165         return_value = -return_value;
<a name="l00166"></a>00166     <span class="keywordflow">return</span> return_value;
<a name="l00167"></a>00167 }
<a name="l00168"></a>00168 
<a name="l00169"></a>00169 
<a name="l00180"></a><a class="code" href="gsb__transactions__list__sort_8h.html#a772947a41069fbbef61f4f63c4c25c2f">00180</a> gint <a class="code" href="gsb__transactions__list__sort_8c.html#a772947a41069fbbef61f4f63c4c25c2f">gsb_transactions_list_sort_check_archive</a> (  <a class="code" href="struct__CustomRecord.html">CustomRecord</a> *record_1,
<a name="l00181"></a>00181                         <a class="code" href="struct__CustomRecord.html">CustomRecord</a> *record_2 )
<a name="l00182"></a>00182 
<a name="l00183"></a>00183 {
<a name="l00184"></a>00184     gint return_value = 0;
<a name="l00185"></a>00185 
<a name="l00186"></a>00186     <span class="comment">/* most of the time we are not on an archive, so check now for transaction</span>
<a name="l00187"></a>00187 <span class="comment">     * to increase the speed */</span>
<a name="l00188"></a>00188     <span class="keywordflow">if</span> (record_1 -&gt; what_is_line != <a class="code" href="custom__list_8h.html#a0caea412748bef9b8222da212aaa0069">IS_ARCHIVE</a>
<a name="l00189"></a>00189         &amp;&amp;
<a name="l00190"></a>00190         record_2 -&gt; what_is_line != <a class="code" href="custom__list_8h.html#a0caea412748bef9b8222da212aaa0069">IS_ARCHIVE</a>)
<a name="l00191"></a>00191         <span class="keywordflow">return</span> 0;
<a name="l00192"></a>00192 
<a name="l00193"></a>00193     <span class="comment">/* ok, there is at least 1 archive */</span>
<a name="l00194"></a>00194     <span class="keywordflow">if</span> (record_1 -&gt; what_is_line == <a class="code" href="custom__list_8h.html#a0caea412748bef9b8222da212aaa0069">IS_ARCHIVE</a>)
<a name="l00195"></a>00195     {
<a name="l00196"></a>00196         <span class="keywordflow">if</span> (record_2 -&gt; what_is_line == <a class="code" href="custom__list_8h.html#a0caea412748bef9b8222da212aaa0069">IS_ARCHIVE</a>)
<a name="l00197"></a>00197             <span class="comment">/* the first and second line are archives, we return a comparison by number of archive</span>
<a name="l00198"></a>00198 <span class="comment">             * we can do better, by date or by financial year, but more complex because no check for now</span>
<a name="l00199"></a>00199 <span class="comment">             * that the date must be different, and problem when created by report</span>
<a name="l00200"></a>00200 <span class="comment">             * so we assume the user created the archive in the good order, if some complains about that</span>
<a name="l00201"></a>00201 <span class="comment">             * can change here later */</span>
<a name="l00202"></a>00202             return_value = <a class="code" href="gsb__data__archive__store_8c.html#aefc4123694ab2b13c39920917b045f18">gsb_data_archive_store_get_archive_number</a> (
<a name="l00203"></a>00203                         <a class="code" href="gsb__data__archive__store_8c.html#a33d414762707f17772146fca8dc8db36">gsb_data_archive_store_get_number</a> ( record_1-&gt;<a class="code" href="struct__CustomRecord.html#a302b5408b8f955ac2a62e02a6f287477">transaction_pointer</a> ) )-
<a name="l00204"></a>00204             <a class="code" href="gsb__data__archive__store_8c.html#aefc4123694ab2b13c39920917b045f18">gsb_data_archive_store_get_archive_number</a> (
<a name="l00205"></a>00205                         <a class="code" href="gsb__data__archive__store_8c.html#a33d414762707f17772146fca8dc8db36">gsb_data_archive_store_get_number</a> ( record_2-&gt;<a class="code" href="struct__CustomRecord.html#a302b5408b8f955ac2a62e02a6f287477">transaction_pointer</a> ) );
<a name="l00206"></a>00206         <span class="keywordflow">else</span>
<a name="l00207"></a>00207             <span class="comment">/* the first line is an archive and not the second, so first line before */</span>
<a name="l00208"></a>00208             return_value = -1;
<a name="l00209"></a>00209     }
<a name="l00210"></a>00210     <span class="keywordflow">else</span>
<a name="l00211"></a>00211     {
<a name="l00212"></a>00212         <span class="keywordflow">if</span> (record_2 -&gt; what_is_line == <a class="code" href="custom__list_8h.html#a0caea412748bef9b8222da212aaa0069">IS_ARCHIVE</a>)
<a name="l00213"></a>00213             <span class="comment">/* the first line is not an archive but the second one is, so second line before */</span>
<a name="l00214"></a>00214             return_value = 1;
<a name="l00215"></a>00215         <span class="keywordflow">else</span>
<a name="l00216"></a>00216             <span class="comment">/* we have 2 transactions, just return 0 here to make tests later</span>
<a name="l00217"></a>00217 <span class="comment">             * shouldn&#39;t come here */</span>
<a name="l00218"></a>00218             <span class="keywordflow">return</span> 0;
<a name="l00219"></a>00219     }
<a name="l00220"></a>00220     <span class="keywordflow">return</span> return_value;
<a name="l00221"></a>00221 }
<a name="l00222"></a>00222 
<a name="l00235"></a><a class="code" href="gsb__transactions__list__sort_8h.html#a40753d7cbe5a9effda9f91b5261116d3">00235</a> gint <a class="code" href="gsb__transactions__list__sort_8c.html#a40753d7cbe5a9effda9f91b5261116d3">gsb_transactions_list_sort_general_test</a> ( <a class="code" href="struct__CustomRecord.html">CustomRecord</a> *record_1,
<a name="l00236"></a>00236                         <a class="code" href="struct__CustomRecord.html">CustomRecord</a> *record_2 )
<a name="l00237"></a>00237 {
<a name="l00238"></a>00238     gint return_value = 0;
<a name="l00239"></a>00239 
<a name="l00240"></a>00240     <span class="comment">/* check first for the white lines, it&#39;s always set at the end */</span>
<a name="l00241"></a>00241     <span class="keywordflow">if</span> ( <a class="code" href="gsb__data__transaction_8c.html#a99bf548513083f4a71fe019faeccbe0a">gsb_data_transaction_get_transaction_number</a> (record_1 -&gt; transaction_pointer) &lt;= 0 )
<a name="l00242"></a>00242         return_value = 1;
<a name="l00243"></a>00243     <span class="keywordflow">else</span>
<a name="l00244"></a>00244     {
<a name="l00245"></a>00245         <span class="keywordflow">if</span> (<a class="code" href="gsb__data__transaction_8c.html#a99bf548513083f4a71fe019faeccbe0a">gsb_data_transaction_get_transaction_number</a> (record_2 -&gt; transaction_pointer) &lt;= 0)
<a name="l00246"></a>00246             return_value = -1;
<a name="l00247"></a>00247     }
<a name="l00248"></a>00248 
<a name="l00249"></a>00249     <span class="comment">/* check if we are on the same transaction */</span>
<a name="l00250"></a>00250     <span class="keywordflow">if</span> ( record_1 -&gt; transaction_pointer == record_2 -&gt; transaction_pointer )
<a name="l00251"></a>00251         <span class="comment">/* the 2 records belong at the same transaction,</span>
<a name="l00252"></a>00252 <span class="comment">         * we keep always the order of the lines in transaction */</span>
<a name="l00253"></a>00253         return_value = record_1-&gt;<a class="code" href="struct__CustomRecord.html#a8e3551cf21249d47290826d712fe0ade">line_in_transaction</a> - record_2-&gt;<a class="code" href="struct__CustomRecord.html#a8e3551cf21249d47290826d712fe0ade">line_in_transaction</a>;
<a name="l00254"></a>00254 
<a name="l00255"></a>00255     <span class="keywordflow">return</span> return_value;
<a name="l00256"></a>00256 }
<a name="l00257"></a>00257 
<a name="l00258"></a>00258 
<a name="l00259"></a>00259 
<a name="l00270"></a>00270 gint gsb_transactions_list_sort_by_no_sort (  gint transaction_number_1,
<a name="l00271"></a>00271                         gint transaction_number_2,
<a name="l00272"></a>00272                         gint element_number )
<a name="l00273"></a>00273 {
<a name="l00274"></a>00274     gchar* tmpstr;
<a name="l00275"></a>00275 
<a name="l00276"></a>00276     <span class="keywordflow">switch</span> (element_number)
<a name="l00277"></a>00277     {
<a name="l00278"></a>00278         <span class="keywordflow">case</span> <a class="code" href="gsb__transactions__list_8h.html#ab04a0655cd1e3bcac5e8f48c18df1a57a23886a6e4002c32ce2faadbc7caa5e5a">ELEMENT_DATE</a>:  <span class="comment">/* = 1 */</span>
<a name="l00279"></a>00279             <span class="keywordflow">return</span> ( gsb_transactions_list_sort_by_date ( transaction_number_1,
<a name="l00280"></a>00280                                                           transaction_number_2));
<a name="l00281"></a>00281             <span class="keywordflow">break</span>;
<a name="l00282"></a>00282         <span class="keywordflow">case</span> <a class="code" href="gsb__transactions__list_8h.html#ab04a0655cd1e3bcac5e8f48c18df1a57ab761a8d812187a4600c7525771f7f8e6">ELEMENT_VALUE_DATE</a>:
<a name="l00283"></a>00283             <span class="keywordflow">return</span> ( gsb_transactions_list_sort_by_value_date ( transaction_number_1,
<a name="l00284"></a>00284                                                                 transaction_number_2));
<a name="l00285"></a>00285             <span class="keywordflow">break</span>;
<a name="l00286"></a>00286         <span class="keywordflow">case</span> <a class="code" href="gsb__transactions__list_8h.html#ab04a0655cd1e3bcac5e8f48c18df1a57a2c500de74c55386754d7406fec8040ce">ELEMENT_PARTY</a>:
<a name="l00287"></a>00287             <span class="keywordflow">return</span> ( gsb_transactions_list_sort_by_party ( transaction_number_1,
<a name="l00288"></a>00288                                                            transaction_number_2));
<a name="l00289"></a>00289             <span class="keywordflow">break</span>;
<a name="l00290"></a>00290         <span class="keywordflow">case</span> <a class="code" href="gsb__transactions__list_8h.html#ab04a0655cd1e3bcac5e8f48c18df1a57a9ac9d9fa61388060ab239d177bd6eda8">ELEMENT_BUDGET</a>:
<a name="l00291"></a>00291             <span class="keywordflow">return</span> ( gsb_transactions_list_sort_by_budget ( transaction_number_1,
<a name="l00292"></a>00292                                                             transaction_number_2));
<a name="l00293"></a>00293             <span class="keywordflow">break</span>;
<a name="l00294"></a>00294         <span class="keywordflow">case</span> <a class="code" href="gsb__transactions__list_8h.html#ab04a0655cd1e3bcac5e8f48c18df1a57adb5de8e2e54fe03605af16b9eb86452e">ELEMENT_CREDIT</a>:
<a name="l00295"></a>00295             <span class="keywordflow">return</span> ( gsb_transactions_list_sort_by_credit ( transaction_number_1,
<a name="l00296"></a>00296                                                             transaction_number_2));
<a name="l00297"></a>00297             <span class="keywordflow">break</span>;
<a name="l00298"></a>00298         <span class="keywordflow">case</span> <a class="code" href="gsb__transactions__list_8h.html#ab04a0655cd1e3bcac5e8f48c18df1a57a562334a8510015ee6bd6be39ec899828">ELEMENT_DEBIT</a>:
<a name="l00299"></a>00299             <span class="keywordflow">return</span> ( gsb_transactions_list_sort_by_debit ( transaction_number_1,
<a name="l00300"></a>00300                                                            transaction_number_2));
<a name="l00301"></a>00301             <span class="keywordflow">break</span>;
<a name="l00302"></a>00302         <span class="keywordflow">case</span> <a class="code" href="gsb__transactions__list_8h.html#ab04a0655cd1e3bcac5e8f48c18df1a57a0f73340eb5af6e8a5454c1aa833339e8">ELEMENT_BALANCE</a>:
<a name="l00303"></a>00303             <span class="comment">/*      balance, normally, shouldn&#39;t be here... in case, give back the date */</span>
<a name="l00304"></a>00304             <span class="keywordflow">return</span> ( gsb_transactions_list_sort_by_date ( transaction_number_1,
<a name="l00305"></a>00305                                                           transaction_number_2));
<a name="l00306"></a>00306             <span class="keywordflow">break</span>;
<a name="l00307"></a>00307         <span class="keywordflow">case</span> <a class="code" href="gsb__transactions__list_8h.html#ab04a0655cd1e3bcac5e8f48c18df1a57ab1d48e2978669bb807a1baaa8cdea794">ELEMENT_AMOUNT</a>:
<a name="l00308"></a>00308             <span class="keywordflow">return</span> ( gsb_transactions_list_sort_by_amount ( transaction_number_1,
<a name="l00309"></a>00309                                                             transaction_number_2));
<a name="l00310"></a>00310             <span class="keywordflow">break</span>;
<a name="l00311"></a>00311         <span class="keywordflow">case</span> <a class="code" href="gsb__transactions__list_8h.html#ab04a0655cd1e3bcac5e8f48c18df1a57ab990b13349c34bf1524cab596b6c614b">ELEMENT_PAYMENT_TYPE</a>:
<a name="l00312"></a>00312             <span class="keywordflow">return</span> ( gsb_transactions_list_sort_by_type ( transaction_number_1,
<a name="l00313"></a>00313                                                           transaction_number_2));
<a name="l00314"></a>00314             <span class="keywordflow">break</span>;
<a name="l00315"></a>00315         <span class="keywordflow">case</span> <a class="code" href="gsb__transactions__list_8h.html#ab04a0655cd1e3bcac5e8f48c18df1a57af5e128aeac4005857a0cc18fd45b9ea2">ELEMENT_RECONCILE_NB</a>:
<a name="l00316"></a>00316             <span class="keywordflow">return</span> ( gsb_transactions_list_sort_by_reconcile_nb ( transaction_number_1,
<a name="l00317"></a>00317                                                                   transaction_number_2));
<a name="l00318"></a>00318             <span class="keywordflow">break</span>;
<a name="l00319"></a>00319         <span class="keywordflow">case</span> <a class="code" href="gsb__transactions__list_8h.html#ab04a0655cd1e3bcac5e8f48c18df1a57a4825ce568dc0468f2fc4c1bc5ab11ff6">ELEMENT_EXERCICE</a>:
<a name="l00320"></a>00320             <span class="keywordflow">return</span> ( gsb_transactions_list_sort_by_financial_year ( transaction_number_1,
<a name="l00321"></a>00321                                                                     transaction_number_2));
<a name="l00322"></a>00322             <span class="keywordflow">break</span>;
<a name="l00323"></a>00323         <span class="keywordflow">case</span> <a class="code" href="gsb__transactions__list_8h.html#ab04a0655cd1e3bcac5e8f48c18df1a57a14d07ec8c3f6be2c40010a64205711be">ELEMENT_CATEGORY</a>:
<a name="l00324"></a>00324             <span class="keywordflow">return</span> ( gsb_transactions_list_sort_by_category ( transaction_number_1,
<a name="l00325"></a>00325                                                               transaction_number_2));
<a name="l00326"></a>00326             <span class="keywordflow">break</span>;
<a name="l00327"></a>00327         <span class="keywordflow">case</span> <a class="code" href="gsb__transactions__list_8h.html#ab04a0655cd1e3bcac5e8f48c18df1a57a1c9bb425c66169e4464498e2d76c6f00">ELEMENT_MARK</a>:
<a name="l00328"></a>00328             <span class="keywordflow">return</span> ( gsb_transactions_list_sort_by_mark ( transaction_number_1,
<a name="l00329"></a>00329                                                           transaction_number_2));
<a name="l00330"></a>00330             <span class="keywordflow">break</span>;
<a name="l00331"></a>00331         <span class="keywordflow">case</span> <a class="code" href="gsb__transactions__list_8h.html#ab04a0655cd1e3bcac5e8f48c18df1a57aa39a67b0d3d908e1564af0b203c5d585">ELEMENT_VOUCHER</a>:
<a name="l00332"></a>00332             <span class="keywordflow">return</span> ( gsb_transactions_list_sort_by_voucher ( transaction_number_1,
<a name="l00333"></a>00333                                                              transaction_number_2));
<a name="l00334"></a>00334             <span class="keywordflow">break</span>;
<a name="l00335"></a>00335         <span class="keywordflow">case</span> <a class="code" href="gsb__transactions__list_8h.html#ab04a0655cd1e3bcac5e8f48c18df1a57a5bc876fbf3281eb4cc86a5fefdfc4487">ELEMENT_NOTES</a>:
<a name="l00336"></a>00336             <span class="keywordflow">return</span> ( gsb_transactions_list_sort_by_notes ( transaction_number_1,
<a name="l00337"></a>00337                                                            transaction_number_2));
<a name="l00338"></a>00338             <span class="keywordflow">break</span>;
<a name="l00339"></a>00339         <span class="keywordflow">case</span> <a class="code" href="gsb__transactions__list_8h.html#ab04a0655cd1e3bcac5e8f48c18df1a57aa1f58a928f37cd97e2ef66a05cb18f47">ELEMENT_BANK</a>:
<a name="l00340"></a>00340             <span class="keywordflow">return</span> ( gsb_transactions_list_sort_by_bank ( transaction_number_1,
<a name="l00341"></a>00341                                                           transaction_number_2));
<a name="l00342"></a>00342             <span class="keywordflow">break</span>;
<a name="l00343"></a>00343         <span class="keywordflow">case</span> <a class="code" href="gsb__transactions__list_8h.html#ab04a0655cd1e3bcac5e8f48c18df1a57ac81545daeefa24557d7b18826cb11fad">ELEMENT_NO</a>:
<a name="l00344"></a>00344             <span class="keywordflow">return</span> ( gsb_transactions_list_sort_by_no ( transaction_number_1,
<a name="l00345"></a>00345                                                         transaction_number_2));
<a name="l00346"></a>00346             <span class="keywordflow">break</span>;
<a name="l00347"></a>00347         <span class="keywordflow">case</span> <a class="code" href="gsb__transactions__list_8h.html#ab04a0655cd1e3bcac5e8f48c18df1a57aa2c405cbd6e9496265ce869d0fad27c0">ELEMENT_CHQ</a>:
<a name="l00348"></a>00348             <span class="keywordflow">return</span> ( gsb_transactions_list_sort_by_chq ( transaction_number_1,
<a name="l00349"></a>00349                                                          transaction_number_2));
<a name="l00350"></a>00350             <span class="keywordflow">break</span>;
<a name="l00351"></a>00351         <span class="keywordflow">default</span> :
<a name="l00352"></a>00352             tmpstr = g_strdup_printf ( _(<span class="stringliteral">&quot;ask for the sort number %d which doesn&#39;t exist... return by date&quot;</span>), element_number );
<a name="l00353"></a>00353             <a class="code" href="erreur_8h.html#a70b10c07513d0694ee36dcdcb1696949">warning_debug</a> (tmpstr);
<a name="l00354"></a>00354             g_free(tmpstr);
<a name="l00355"></a>00355             <span class="keywordflow">return</span> ( gsb_transactions_list_sort_by_date ( transaction_number_1,
<a name="l00356"></a>00356                                                           transaction_number_2));
<a name="l00357"></a>00357     }
<a name="l00358"></a>00358 }
<a name="l00359"></a>00359 
<a name="l00360"></a>00360 
<a name="l00361"></a>00361 
<a name="l00371"></a>00371 gint gsb_transactions_list_sort_by_transaction_date_and_no ( gint transaction_number_1,
<a name="l00372"></a>00372                         gint transaction_number_2 )
<a name="l00373"></a>00373 {
<a name="l00374"></a>00374     gint return_value;
<a name="l00375"></a>00375 
<a name="l00376"></a>00376     <span class="keywordflow">if</span> ( !<a class="code" href="gsb__data__transaction_8c.html#ab0b62014885bcf3e2fbfff1ae9b32080">gsb_data_transaction_get_date</a> (transaction_number_1) )
<a name="l00377"></a>00377     {
<a name="l00378"></a>00378     <span class="keywordflow">return</span> 1;
<a name="l00379"></a>00379     }
<a name="l00380"></a>00380     <span class="keywordflow">if</span> ( !<a class="code" href="gsb__data__transaction_8c.html#ab0b62014885bcf3e2fbfff1ae9b32080">gsb_data_transaction_get_date</a> (transaction_number_2) )
<a name="l00381"></a>00381     {
<a name="l00382"></a>00382     <span class="keywordflow">return</span> -1;
<a name="l00383"></a>00383     }
<a name="l00384"></a>00384 
<a name="l00385"></a>00385     <span class="comment">/* i tried to set in the transactions a value for date as a gint as yyyymmdd</span>
<a name="l00386"></a>00386 <span class="comment">     * and here only do (gint transaction_1_date) - (gint transaction_2_date)</span>
<a name="l00387"></a>00387 <span class="comment">     * to increase the speed, but change nothing (perhaps 0,05sec for 250000 rows...)</span>
<a name="l00388"></a>00388 <span class="comment">     * so let like that */</span>
<a name="l00389"></a>00389     return_value = g_date_compare ( <a class="code" href="gsb__data__transaction_8c.html#ab0b62014885bcf3e2fbfff1ae9b32080">gsb_data_transaction_get_date</a> (transaction_number_1),
<a name="l00390"></a>00390                         <a class="code" href="gsb__data__transaction_8c.html#ab0b62014885bcf3e2fbfff1ae9b32080">gsb_data_transaction_get_date</a> (transaction_number_2));
<a name="l00391"></a>00391 
<a name="l00392"></a>00392     <span class="comment">/* no difference in the dates, sort by number of transaction */</span>
<a name="l00393"></a>00393     <span class="keywordflow">if</span> ( !return_value )
<a name="l00394"></a>00394     return_value = transaction_number_1 - transaction_number_2;
<a name="l00395"></a>00395 
<a name="l00396"></a>00396     <span class="keywordflow">return</span> return_value;
<a name="l00397"></a>00397 }
<a name="l00398"></a>00398 
<a name="l00399"></a>00399 
<a name="l00407"></a>00407 gint gsb_transactions_list_sort_by_transaction_date_and_amount ( gint transaction_number_1,
<a name="l00408"></a>00408                         gint transaction_number_2 )
<a name="l00409"></a>00409 {
<a name="l00410"></a>00410     gint return_value;
<a name="l00411"></a>00411     <a class="code" href="structgsb__real.html">gsb_real</a> amount_1;
<a name="l00412"></a>00412     <a class="code" href="structgsb__real.html">gsb_real</a> amount_2;
<a name="l00413"></a>00413 
<a name="l00414"></a>00414     <span class="keywordflow">if</span> ( !<a class="code" href="gsb__data__transaction_8c.html#ab0b62014885bcf3e2fbfff1ae9b32080">gsb_data_transaction_get_date</a> (transaction_number_1) )
<a name="l00415"></a>00415     {
<a name="l00416"></a>00416         <span class="keywordflow">return</span> 1;
<a name="l00417"></a>00417     }
<a name="l00418"></a>00418     <span class="keywordflow">if</span> ( !<a class="code" href="gsb__data__transaction_8c.html#ab0b62014885bcf3e2fbfff1ae9b32080">gsb_data_transaction_get_date</a> (transaction_number_2) )
<a name="l00419"></a>00419     {
<a name="l00420"></a>00420         <span class="keywordflow">return</span> -1;
<a name="l00421"></a>00421     }
<a name="l00422"></a>00422 
<a name="l00423"></a>00423     return_value = g_date_compare ( <a class="code" href="gsb__data__transaction_8c.html#ab0b62014885bcf3e2fbfff1ae9b32080">gsb_data_transaction_get_date</a> (transaction_number_1),
<a name="l00424"></a>00424                         <a class="code" href="gsb__data__transaction_8c.html#ab0b62014885bcf3e2fbfff1ae9b32080">gsb_data_transaction_get_date</a> (transaction_number_2));
<a name="l00425"></a>00425 
<a name="l00426"></a>00426     <span class="keywordflow">if</span> ( return_value == 0 )
<a name="l00427"></a>00427     {
<a name="l00428"></a>00428         <span class="comment">/* no difference in the dates, sort by amount of transaction */</span>
<a name="l00429"></a>00429         amount_1 = <a class="code" href="gsb__data__transaction_8c.html#a632c5ba71e742b3ac063b4b3207cf032">gsb_data_transaction_get_amount</a> ( transaction_number_1 );
<a name="l00430"></a>00430         amount_2 = <a class="code" href="gsb__data__transaction_8c.html#a632c5ba71e742b3ac063b4b3207cf032">gsb_data_transaction_get_amount</a> ( transaction_number_2 );
<a name="l00431"></a>00431         return_value = amount_2.<a class="code" href="structgsb__real.html#a00c99ad79aa77fb0af5b5e08f140b3ae">mantissa</a> - amount_1.<a class="code" href="structgsb__real.html#a00c99ad79aa77fb0af5b5e08f140b3ae">mantissa</a>;
<a name="l00432"></a>00432         <span class="keywordflow">if</span> ( return_value == 0 )
<a name="l00433"></a>00433             return_value = transaction_number_1 - transaction_number_2;
<a name="l00434"></a>00434     }
<a name="l00435"></a>00435 
<a name="l00436"></a>00436     <span class="keywordflow">return</span> return_value;
<a name="l00437"></a>00437 }
<a name="l00438"></a>00438 
<a name="l00439"></a>00439 
<a name="l00450"></a>00450 gint gsb_transactions_list_sort_by_no ( gint transaction_number_1,
<a name="l00451"></a>00451                         gint transaction_number_2 )
<a name="l00452"></a>00452 {
<a name="l00453"></a>00453     <span class="keywordflow">return</span> transaction_number_1 - transaction_number_2;
<a name="l00454"></a>00454 }
<a name="l00455"></a>00455 
<a name="l00456"></a>00456 
<a name="l00457"></a>00457 
<a name="l00467"></a>00467 gint gsb_transactions_list_sort_by_date ( gint transaction_number_1,
<a name="l00468"></a>00468                         gint transaction_number_2 )
<a name="l00469"></a>00469 {
<a name="l00470"></a>00470     <span class="keywordflow">if</span> ( <a class="code" href="gsb__file__config_8c.html#ac390e947e97cef2bec2f5d59d6ec1071">conf</a>.<a class="code" href="structgsb__conf__t.html#a0c7293754ae86b8094599c04d41ecdb2">transactions_list_sort_by_date</a> == 0 )
<a name="l00471"></a>00471         <span class="keywordflow">return</span> gsb_transactions_list_sort_by_transaction_date_and_no (
<a name="l00472"></a>00472                         transaction_number_1, transaction_number_2 );
<a name="l00473"></a>00473     <span class="keywordflow">else</span>
<a name="l00474"></a>00474         <span class="keywordflow">return</span> gsb_transactions_list_sort_by_transaction_date_and_amount (
<a name="l00475"></a>00475                         transaction_number_1, transaction_number_2 );
<a name="l00476"></a>00476 }
<a name="l00477"></a>00477 
<a name="l00478"></a>00478 
<a name="l00489"></a>00489 gint gsb_transactions_list_sort_by_value_date ( gint transaction_number_1,
<a name="l00490"></a>00490                         gint transaction_number_2 )
<a name="l00491"></a>00491 {
<a name="l00492"></a>00492     gint return_value;
<a name="l00493"></a>00493     <span class="keyword">const</span> GDate *value_date_1;
<a name="l00494"></a>00494     <span class="keyword">const</span> GDate *value_date_2;
<a name="l00495"></a>00495 
<a name="l00496"></a>00496     <span class="comment">/* need to work a little more here because value date is not obligatory filled,</span>
<a name="l00497"></a>00497 <span class="comment">     * if we compare 2 transactions and 1 has no value date, set the value date before */</span>
<a name="l00498"></a>00498     value_date_1 = <a class="code" href="gsb__data__transaction_8c.html#a5851b4114a8f23b40107fba99ae2fbef">gsb_data_transaction_get_value_date</a> ( transaction_number_1 );
<a name="l00499"></a>00499     <span class="keywordflow">if</span> ( ! value_date_1 &amp;&amp; !<a class="code" href="gsb__file__config_8c.html#ac390e947e97cef2bec2f5d59d6ec1071">conf</a>.<a class="code" href="structgsb__conf__t.html#a552fafee7440e72e1c067b06b19fcf45">transactions_list_sort_by_value_date</a> )
<a name="l00500"></a>00500         value_date_1 = <a class="code" href="gsb__data__transaction_8c.html#ab0b62014885bcf3e2fbfff1ae9b32080">gsb_data_transaction_get_date</a> ( transaction_number_1 );
<a name="l00501"></a>00501 
<a name="l00502"></a>00502     value_date_2 = <a class="code" href="gsb__data__transaction_8c.html#a5851b4114a8f23b40107fba99ae2fbef">gsb_data_transaction_get_value_date</a> ( transaction_number_2 );
<a name="l00503"></a>00503     <span class="keywordflow">if</span> ( ! value_date_2 &amp;&amp; !<a class="code" href="gsb__file__config_8c.html#ac390e947e97cef2bec2f5d59d6ec1071">conf</a>.<a class="code" href="structgsb__conf__t.html#a552fafee7440e72e1c067b06b19fcf45">transactions_list_sort_by_value_date</a> )
<a name="l00504"></a>00504         value_date_2 = <a class="code" href="gsb__data__transaction_8c.html#ab0b62014885bcf3e2fbfff1ae9b32080">gsb_data_transaction_get_date</a> ( transaction_number_2 );
<a name="l00505"></a>00505 
<a name="l00506"></a>00506     <span class="keywordflow">if</span> ( value_date_1 )
<a name="l00507"></a>00507     {
<a name="l00508"></a>00508         <span class="keywordflow">if</span> (value_date_2)
<a name="l00509"></a>00509             return_value = g_date_compare ( value_date_1, value_date_2);
<a name="l00510"></a>00510         <span class="keywordflow">else</span>
<a name="l00511"></a>00511             return_value = -1;
<a name="l00512"></a>00512     }
<a name="l00513"></a>00513     <span class="keywordflow">else</span>
<a name="l00514"></a>00514     {
<a name="l00515"></a>00515         <span class="keywordflow">if</span> (value_date_2)
<a name="l00516"></a>00516             return_value = 1;
<a name="l00517"></a>00517         <span class="keywordflow">else</span>
<a name="l00518"></a>00518             return_value = 0;
<a name="l00519"></a>00519     }
<a name="l00520"></a>00520 
<a name="l00521"></a>00521     <span class="keywordflow">if</span> ( return_value )
<a name="l00522"></a>00522         <span class="keywordflow">return</span> return_value;
<a name="l00523"></a>00523     <span class="keywordflow">else</span>
<a name="l00524"></a>00524         <span class="keywordflow">return</span> gsb_transactions_list_sort_by_date (
<a name="l00525"></a>00525                         transaction_number_1, transaction_number_2 );
<a name="l00526"></a>00526 }
<a name="l00527"></a>00527 
<a name="l00528"></a>00528 
<a name="l00537"></a>00537 gint gsb_transactions_list_sort_by_party ( gint transaction_number_1,
<a name="l00538"></a>00538                         gint transaction_number_2 )
<a name="l00539"></a>00539 {
<a name="l00540"></a>00540     gint return_value;
<a name="l00541"></a>00541     gint party_number_1;
<a name="l00542"></a>00542     gint party_number_2;
<a name="l00543"></a>00543 
<a name="l00544"></a>00544     party_number_1 = <a class="code" href="gsb__data__transaction_8c.html#afa032df45afa2ad7a4be48449a7e8d15">gsb_data_transaction_get_party_number</a> ( transaction_number_1 );
<a name="l00545"></a>00545     party_number_2 = <a class="code" href="gsb__data__transaction_8c.html#afa032df45afa2ad7a4be48449a7e8d15">gsb_data_transaction_get_party_number</a> ( transaction_number_2 );
<a name="l00546"></a>00546 
<a name="l00547"></a>00547     <span class="keywordflow">if</span> (  party_number_1 == party_number_2 )
<a name="l00548"></a>00548             return_value = gsb_transactions_list_sort_by_transaction_date_and_no (
<a name="l00549"></a>00549                         transaction_number_1, transaction_number_2 );
<a name="l00550"></a>00550     <span class="keywordflow">else</span>
<a name="l00551"></a>00551     {
<a name="l00552"></a>00552         <span class="keyword">const</span> gchar *temp_1;
<a name="l00553"></a>00553         <span class="keyword">const</span> gchar *temp_2;
<a name="l00554"></a>00554 
<a name="l00555"></a>00555         temp_1 = <a class="code" href="gsb__data__payee_8c.html#adc6080b7376628d3902f5fd861deb45a">gsb_data_payee_get_name</a> ( party_number_1, TRUE );
<a name="l00556"></a>00556         <span class="keywordflow">if</span> ( temp_1 == NULL )
<a name="l00557"></a>00557             <span class="keywordflow">return</span> -1;
<a name="l00558"></a>00558 
<a name="l00559"></a>00559         temp_2 = <a class="code" href="gsb__data__payee_8c.html#adc6080b7376628d3902f5fd861deb45a">gsb_data_payee_get_name</a> ( party_number_2, TRUE );
<a name="l00560"></a>00560         <span class="keywordflow">if</span> ( temp_2 == NULL )
<a name="l00561"></a>00561             <span class="keywordflow">return</span> 1;
<a name="l00562"></a>00562 
<a name="l00563"></a>00563         <span class="comment">/* g_utf8_collate is said not very fast, must try with big big account to check</span>
<a name="l00564"></a>00564 <span class="comment">         * if it&#39;s enough, for me it&#39;s ok (cedric), eventually, change with gsb_strcasecmp */</span>
<a name="l00565"></a>00565         return_value = g_utf8_collate ( g_utf8_casefold ( temp_1 ? temp_1 : <span class="stringliteral">&quot;&quot;</span>, -1 ),
<a name="l00566"></a>00566                         g_utf8_casefold ( temp_2 ? temp_2 : <span class="stringliteral">&quot;&quot;</span>, -1 ));
<a name="l00567"></a>00567     }
<a name="l00568"></a>00568 
<a name="l00569"></a>00569     <span class="keywordflow">if</span> ( return_value )
<a name="l00570"></a>00570         <span class="keywordflow">return</span> return_value;
<a name="l00571"></a>00571     <span class="keywordflow">else</span>
<a name="l00572"></a>00572         <span class="keywordflow">return</span> gsb_transactions_list_sort_by_transaction_date_and_no (
<a name="l00573"></a>00573                         transaction_number_1, transaction_number_2);
<a name="l00574"></a>00574 }
<a name="l00575"></a>00575 
<a name="l00576"></a>00576 
<a name="l00585"></a>00585 gint gsb_transactions_list_sort_by_budget ( gint transaction_number_1,
<a name="l00586"></a>00586                         gint transaction_number_2 )
<a name="l00587"></a>00587 {
<a name="l00588"></a>00588     gint return_value;
<a name="l00589"></a>00589     gint budgetary_number_1;
<a name="l00590"></a>00590     gint budgetary_number_2;
<a name="l00591"></a>00591     gint sub_budgetary_number_1;
<a name="l00592"></a>00592     gint sub_budgetary_number_2;
<a name="l00593"></a>00593 
<a name="l00594"></a>00594     budgetary_number_1 = <a class="code" href="gsb__data__transaction_8c.html#a4d84c55dbdfa032c500f4ade0754501f">gsb_data_transaction_get_budgetary_number</a> ( transaction_number_1 );
<a name="l00595"></a>00595     budgetary_number_2 = <a class="code" href="gsb__data__transaction_8c.html#a4d84c55dbdfa032c500f4ade0754501f">gsb_data_transaction_get_budgetary_number</a> ( transaction_number_2 );
<a name="l00596"></a>00596     sub_budgetary_number_1 = <a class="code" href="gsb__data__transaction_8c.html#a44dbcf1f953a233d0038027289aa2372">gsb_data_transaction_get_sub_budgetary_number</a> ( transaction_number_1 );
<a name="l00597"></a>00597     sub_budgetary_number_2 = <a class="code" href="gsb__data__transaction_8c.html#a44dbcf1f953a233d0038027289aa2372">gsb_data_transaction_get_sub_budgetary_number</a> ( transaction_number_2 );
<a name="l00598"></a>00598 
<a name="l00599"></a>00599     <span class="keywordflow">if</span> ( budgetary_number_1 == budgetary_number_2
<a name="l00600"></a>00600          &amp;&amp;
<a name="l00601"></a>00601          sub_budgetary_number_1 == sub_budgetary_number_2 )
<a name="l00602"></a>00602             return_value = gsb_transactions_list_sort_by_transaction_date_and_no(
<a name="l00603"></a>00603                         transaction_number_1, transaction_number_2 );
<a name="l00604"></a>00604     <span class="keywordflow">else</span>
<a name="l00605"></a>00605     {
<a name="l00606"></a>00606         <span class="keyword">const</span> gchar *temp_1;
<a name="l00607"></a>00607         <span class="keyword">const</span> gchar *temp_2;
<a name="l00608"></a>00608 
<a name="l00609"></a>00609         temp_1 = <a class="code" href="gsb__data__budget_8c.html#af857141b1d34674997a047500fd76060">gsb_data_budget_get_name</a> ( budgetary_number_1,
<a name="l00610"></a>00610                             sub_budgetary_number_1,
<a name="l00611"></a>00611                             NULL );
<a name="l00612"></a>00612         <span class="keywordflow">if</span> ( temp_1 == NULL )
<a name="l00613"></a>00613             <span class="keywordflow">return</span> -1;
<a name="l00614"></a>00614 
<a name="l00615"></a>00615         temp_2 = <a class="code" href="gsb__data__budget_8c.html#af857141b1d34674997a047500fd76060">gsb_data_budget_get_name</a> ( budgetary_number_2,
<a name="l00616"></a>00616                             sub_budgetary_number_2,
<a name="l00617"></a>00617                             NULL);
<a name="l00618"></a>00618         <span class="keywordflow">if</span> ( temp_2 == NULL )
<a name="l00619"></a>00619             <span class="keywordflow">return</span> 1;
<a name="l00620"></a>00620 
<a name="l00621"></a>00621         <span class="comment">/* g_utf8_collate is said not very fast, must try with big big account to check</span>
<a name="l00622"></a>00622 <span class="comment">         * if it&#39;s enough, for me it&#39;s ok (cedric), eventually, change with gsb_strcasecmp */</span>
<a name="l00623"></a>00623         return_value = g_utf8_collate ( g_utf8_casefold ( temp_1 ? temp_1 : <span class="stringliteral">&quot;&quot;</span>, -1 ),
<a name="l00624"></a>00624                         g_utf8_casefold ( temp_2 ? temp_2 : <span class="stringliteral">&quot;&quot;</span>, -1 ) );
<a name="l00625"></a>00625     }
<a name="l00626"></a>00626 
<a name="l00627"></a>00627     <span class="keywordflow">if</span> ( return_value )
<a name="l00628"></a>00628             <span class="keywordflow">return</span> return_value;
<a name="l00629"></a>00629     <span class="keywordflow">else</span>
<a name="l00630"></a>00630             <span class="keywordflow">return</span> gsb_transactions_list_sort_by_transaction_date_and_no (
<a name="l00631"></a>00631                         transaction_number_1, transaction_number_2);
<a name="l00632"></a>00632 }
<a name="l00633"></a>00633 
<a name="l00634"></a>00634 
<a name="l00646"></a>00646 gint gsb_transactions_list_sort_by_credit ( gint transaction_number_1,
<a name="l00647"></a>00647                         gint transaction_number_2 )
<a name="l00648"></a>00648 {
<a name="l00649"></a>00649     gint return_value;
<a name="l00650"></a>00650 
<a name="l00651"></a>00651     <span class="comment">/* for the amounts, we have to check also the currency */</span>
<a name="l00652"></a>00652     return_value = <a class="code" href="gsb__real_8c.html#a9ffa1aad0087896f5a3f1e2320c97db4">gsb_real_cmp</a> ( <a class="code" href="gsb__data__transaction_8c.html#aa3739bd33106e8dbce2c0938f5f2a882">gsb_data_transaction_get_adjusted_amount</a> ( transaction_number_1, -1),
<a name="l00653"></a>00653                                   <a class="code" href="gsb__data__transaction_8c.html#aa3739bd33106e8dbce2c0938f5f2a882">gsb_data_transaction_get_adjusted_amount</a> ( transaction_number_2, -1));
<a name="l00654"></a>00654 
<a name="l00655"></a>00655     <span class="keywordflow">if</span> ( return_value )
<a name="l00656"></a>00656         <span class="keywordflow">return</span> return_value;
<a name="l00657"></a>00657     <span class="keywordflow">else</span>
<a name="l00658"></a>00658         <span class="keywordflow">return</span> gsb_transactions_list_sort_by_transaction_date_and_no(transaction_number_1, transaction_number_2);
<a name="l00659"></a>00659 }
<a name="l00660"></a>00660 
<a name="l00661"></a>00661 
<a name="l00662"></a>00662 
<a name="l00671"></a>00671 gint gsb_transactions_list_sort_by_debit ( gint transaction_number_1,
<a name="l00672"></a>00672                         gint transaction_number_2 )
<a name="l00673"></a>00673 {
<a name="l00674"></a>00674     gint return_value;
<a name="l00675"></a>00675 
<a name="l00676"></a>00676     <span class="comment">/* for the amounts, we have to check also the currency */</span>
<a name="l00677"></a>00677     return_value = <a class="code" href="gsb__real_8c.html#a9ffa1aad0087896f5a3f1e2320c97db4">gsb_real_cmp</a> ( <a class="code" href="gsb__data__transaction_8c.html#aa3739bd33106e8dbce2c0938f5f2a882">gsb_data_transaction_get_adjusted_amount</a> ( transaction_number_2, -1),
<a name="l00678"></a>00678                                   <a class="code" href="gsb__data__transaction_8c.html#aa3739bd33106e8dbce2c0938f5f2a882">gsb_data_transaction_get_adjusted_amount</a> ( transaction_number_1, -1));
<a name="l00679"></a>00679 
<a name="l00680"></a>00680     <span class="keywordflow">if</span> ( return_value )
<a name="l00681"></a>00681         <span class="keywordflow">return</span> return_value;
<a name="l00682"></a>00682     <span class="keywordflow">else</span>
<a name="l00683"></a>00683         <span class="keywordflow">return</span> gsb_transactions_list_sort_by_transaction_date_and_no(transaction_number_1, transaction_number_2);
<a name="l00684"></a>00684 }
<a name="l00685"></a>00685 
<a name="l00686"></a>00686 
<a name="l00687"></a>00687 
<a name="l00696"></a>00696 gint gsb_transactions_list_sort_by_amount ( gint transaction_number_1,
<a name="l00697"></a>00697                         gint transaction_number_2 )
<a name="l00698"></a>00698 {
<a name="l00699"></a>00699     gint return_value;
<a name="l00700"></a>00700 
<a name="l00701"></a>00701     <span class="comment">/* for the amounts, we have to check also the currency */</span>
<a name="l00702"></a>00702     return_value = <a class="code" href="gsb__real_8c.html#a9ffa1aad0087896f5a3f1e2320c97db4">gsb_real_cmp</a> ( <a class="code" href="gsb__data__transaction_8c.html#aa3739bd33106e8dbce2c0938f5f2a882">gsb_data_transaction_get_adjusted_amount</a> ( transaction_number_1, -1),
<a name="l00703"></a>00703                                   <a class="code" href="gsb__data__transaction_8c.html#aa3739bd33106e8dbce2c0938f5f2a882">gsb_data_transaction_get_adjusted_amount</a> ( transaction_number_2, -1));
<a name="l00704"></a>00704 
<a name="l00705"></a>00705     <span class="keywordflow">if</span> ( return_value )
<a name="l00706"></a>00706         <span class="keywordflow">return</span> return_value;
<a name="l00707"></a>00707     <span class="keywordflow">else</span>
<a name="l00708"></a>00708         <span class="keywordflow">return</span> gsb_transactions_list_sort_by_transaction_date_and_no(transaction_number_1, transaction_number_2);
<a name="l00709"></a>00709 }
<a name="l00710"></a>00710 
<a name="l00711"></a>00711 
<a name="l00712"></a>00712 
<a name="l00721"></a>00721 gint gsb_transactions_list_sort_by_type ( gint transaction_number_1,
<a name="l00722"></a>00722                         gint transaction_number_2 )
<a name="l00723"></a>00723 {
<a name="l00724"></a>00724     gint return_value;
<a name="l00725"></a>00725 
<a name="l00726"></a>00726     <span class="comment">/* if it&#39;s the same type, we sort by the content of the types */</span>
<a name="l00727"></a>00727 
<a name="l00728"></a>00728     <span class="keywordflow">if</span> ( <a class="code" href="gsb__data__transaction_8c.html#aa9bc2b3aba6d0a4df30e0584ab56ede0">gsb_data_transaction_get_method_of_payment_number</a> ( transaction_number_1) == <a class="code" href="gsb__data__transaction_8c.html#aa9bc2b3aba6d0a4df30e0584ab56ede0">gsb_data_transaction_get_method_of_payment_number</a> ( transaction_number_2))
<a name="l00729"></a>00729     {
<a name="l00730"></a>00730         return_value = g_utf8_collate ( g_utf8_casefold ( <a class="code" href="gsb__data__transaction_8c.html#a018a31b8a8fe99e813b4876206cf59a1">gsb_data_transaction_get_method_of_payment_content</a> ( transaction_number_1) ? <a class="code" href="gsb__data__transaction_8c.html#a018a31b8a8fe99e813b4876206cf59a1">gsb_data_transaction_get_method_of_payment_content</a> ( transaction_number_1) : <span class="stringliteral">&quot;&quot;</span>,
<a name="l00731"></a>00731                                                           -1 ),
<a name="l00732"></a>00732                                         g_utf8_casefold ( <a class="code" href="gsb__data__transaction_8c.html#a018a31b8a8fe99e813b4876206cf59a1">gsb_data_transaction_get_method_of_payment_content</a> ( transaction_number_2) ? <a class="code" href="gsb__data__transaction_8c.html#a018a31b8a8fe99e813b4876206cf59a1">gsb_data_transaction_get_method_of_payment_content</a> ( transaction_number_2) : <span class="stringliteral">&quot;&quot;</span>,
<a name="l00733"></a>00733                                                           -1 ));
<a name="l00734"></a>00734 
<a name="l00735"></a>00735         <span class="keywordflow">if</span> ( !return_value )
<a name="l00736"></a>00736             return_value = gsb_transactions_list_sort_by_transaction_date_and_no(transaction_number_1, transaction_number_2);
<a name="l00737"></a>00737     }
<a name="l00738"></a>00738     <span class="keywordflow">else</span>
<a name="l00739"></a>00739     {
<a name="l00740"></a>00740         <span class="keyword">const</span> gchar *temp_1;
<a name="l00741"></a>00741         <span class="keyword">const</span> gchar *temp_2;
<a name="l00742"></a>00742 
<a name="l00743"></a>00743         temp_1 = <a class="code" href="gsb__data__payment_8c.html#a3384c18af92833d2152faad71ccd16c4">gsb_data_payment_get_name</a> (<a class="code" href="gsb__data__transaction_8c.html#aa9bc2b3aba6d0a4df30e0584ab56ede0">gsb_data_transaction_get_method_of_payment_number</a> (transaction_number_1));
<a name="l00744"></a>00744         temp_2 = <a class="code" href="gsb__data__payment_8c.html#a3384c18af92833d2152faad71ccd16c4">gsb_data_payment_get_name</a> (<a class="code" href="gsb__data__transaction_8c.html#aa9bc2b3aba6d0a4df30e0584ab56ede0">gsb_data_transaction_get_method_of_payment_number</a> (transaction_number_2));
<a name="l00745"></a>00745 
<a name="l00746"></a>00746         <span class="comment">/* g_utf8_collate is said not very fast, must try with big big account to check</span>
<a name="l00747"></a>00747 <span class="comment">         * if it&#39;s enough, for me it&#39;s ok (cedric), eventually, change with gsb_strcasecmp */</span>
<a name="l00748"></a>00748         return_value = g_utf8_collate ( g_utf8_casefold ( temp_1 ? temp_1 : <span class="stringliteral">&quot;&quot;</span>,
<a name="l00749"></a>00749                                                           -1 ),
<a name="l00750"></a>00750                                         g_utf8_casefold ( temp_2 ? temp_2 : <span class="stringliteral">&quot;&quot;</span>,
<a name="l00751"></a>00751                                                           -1 ));
<a name="l00752"></a>00752     }
<a name="l00753"></a>00753 
<a name="l00754"></a>00754     <span class="keywordflow">if</span> ( return_value )
<a name="l00755"></a>00755         <span class="keywordflow">return</span> return_value;
<a name="l00756"></a>00756     <span class="keywordflow">else</span>
<a name="l00757"></a>00757     {
<a name="l00758"></a>00758         <span class="comment">/*      it seems that the 2 types are different no but same spell... */</span>
<a name="l00759"></a>00759 
<a name="l00760"></a>00760         return_value = g_utf8_collate ( g_utf8_casefold ( <a class="code" href="gsb__data__transaction_8c.html#a018a31b8a8fe99e813b4876206cf59a1">gsb_data_transaction_get_method_of_payment_content</a> ( transaction_number_1)? <a class="code" href="gsb__data__transaction_8c.html#a018a31b8a8fe99e813b4876206cf59a1">gsb_data_transaction_get_method_of_payment_content</a> ( transaction_number_1): <span class="stringliteral">&quot;&quot;</span>,
<a name="l00761"></a>00761                                                           -1 ),
<a name="l00762"></a>00762                                         g_utf8_casefold ( <a class="code" href="gsb__data__transaction_8c.html#a018a31b8a8fe99e813b4876206cf59a1">gsb_data_transaction_get_method_of_payment_content</a> ( transaction_number_2)? <a class="code" href="gsb__data__transaction_8c.html#a018a31b8a8fe99e813b4876206cf59a1">gsb_data_transaction_get_method_of_payment_content</a> ( transaction_number_2): <span class="stringliteral">&quot;&quot;</span>,
<a name="l00763"></a>00763                                                           -1 ));
<a name="l00764"></a>00764 
<a name="l00765"></a>00765         <span class="keywordflow">if</span> ( !return_value )
<a name="l00766"></a>00766             return_value = gsb_transactions_list_sort_by_transaction_date_and_no(transaction_number_1, transaction_number_2);
<a name="l00767"></a>00767     }
<a name="l00768"></a>00768     <span class="keywordflow">return</span> return_value;
<a name="l00769"></a>00769 }
<a name="l00770"></a>00770 
<a name="l00771"></a>00771 
<a name="l00772"></a>00772 
<a name="l00781"></a>00781 gint gsb_transactions_list_sort_by_reconcile_nb ( gint transaction_number_1,
<a name="l00782"></a>00782                         gint transaction_number_2 )
<a name="l00783"></a>00783 {
<a name="l00784"></a>00784     gint return_value;
<a name="l00785"></a>00785 
<a name="l00786"></a>00786     <span class="keywordflow">if</span> ( <a class="code" href="gsb__data__transaction_8c.html#a1f902ce2841e41d3eda536f2fdd3c32f">gsb_data_transaction_get_reconcile_number</a> ( transaction_number_1)== <a class="code" href="gsb__data__transaction_8c.html#a1f902ce2841e41d3eda536f2fdd3c32f">gsb_data_transaction_get_reconcile_number</a> ( transaction_number_2))
<a name="l00787"></a>00787         return_value = gsb_transactions_list_sort_by_transaction_date_and_no(transaction_number_1, transaction_number_2);
<a name="l00788"></a>00788     <span class="keywordflow">else</span>
<a name="l00789"></a>00789     {
<a name="l00790"></a>00790         <span class="keyword">const</span> gchar *temp_1;
<a name="l00791"></a>00791         <span class="keyword">const</span> gchar *temp_2;
<a name="l00792"></a>00792 
<a name="l00793"></a>00793         temp_1 = <a class="code" href="gsb__data__reconcile_8c.html#a0f88a3f39b7944967f373097fe9d1474">gsb_data_reconcile_get_name</a> ( <a class="code" href="gsb__data__transaction_8c.html#a1f902ce2841e41d3eda536f2fdd3c32f">gsb_data_transaction_get_reconcile_number</a> ( transaction_number_1));
<a name="l00794"></a>00794         temp_2 = <a class="code" href="gsb__data__reconcile_8c.html#a0f88a3f39b7944967f373097fe9d1474">gsb_data_reconcile_get_name</a> ( <a class="code" href="gsb__data__transaction_8c.html#a1f902ce2841e41d3eda536f2fdd3c32f">gsb_data_transaction_get_reconcile_number</a> ( transaction_number_2));
<a name="l00795"></a>00795 
<a name="l00796"></a>00796         <span class="comment">/* g_utf8_collate is said not very fast, must try with big big account to check</span>
<a name="l00797"></a>00797 <span class="comment">         * if it&#39;s enough, for me it&#39;s ok (cedric), eventually, change with gsb_strcasecmp */</span>
<a name="l00798"></a>00798         return_value = g_utf8_collate ( g_utf8_casefold ( temp_1 ? temp_1 : <span class="stringliteral">&quot;&quot;</span>,
<a name="l00799"></a>00799                                                           -1 ),
<a name="l00800"></a>00800                                         g_utf8_casefold ( temp_2 ? temp_2 : <span class="stringliteral">&quot;&quot;</span>,
<a name="l00801"></a>00801                                                           -1 ));
<a name="l00802"></a>00802     }
<a name="l00803"></a>00803 
<a name="l00804"></a>00804     <span class="keywordflow">if</span> ( return_value )
<a name="l00805"></a>00805         <span class="keywordflow">return</span> return_value;
<a name="l00806"></a>00806     <span class="keywordflow">else</span>
<a name="l00807"></a>00807         <span class="keywordflow">return</span> gsb_transactions_list_sort_by_transaction_date_and_no(transaction_number_1, transaction_number_2);
<a name="l00808"></a>00808 }
<a name="l00809"></a>00809 
<a name="l00810"></a>00810 
<a name="l00811"></a>00811 
<a name="l00820"></a>00820 gint gsb_transactions_list_sort_by_financial_year ( gint transaction_number_1,
<a name="l00821"></a>00821                         gint transaction_number_2 )
<a name="l00822"></a>00822 {
<a name="l00823"></a>00823     gint return_value;
<a name="l00824"></a>00824 
<a name="l00825"></a>00825     <span class="keywordflow">if</span> ( <a class="code" href="gsb__data__transaction_8c.html#ae8f3e659e304f02abd6c2ae7dd759203">gsb_data_transaction_get_financial_year_number</a> ( transaction_number_1)== <a class="code" href="gsb__data__transaction_8c.html#ae8f3e659e304f02abd6c2ae7dd759203">gsb_data_transaction_get_financial_year_number</a> ( transaction_number_2))
<a name="l00826"></a>00826         return_value = gsb_transactions_list_sort_by_transaction_date_and_no(transaction_number_1, transaction_number_2);
<a name="l00827"></a>00827     <span class="keywordflow">else</span>
<a name="l00828"></a>00828     {
<a name="l00829"></a>00829         GDate *date_1;
<a name="l00830"></a>00830         GDate *date_2;
<a name="l00831"></a>00831 
<a name="l00832"></a>00832         date_1 = <a class="code" href="gsb__data__fyear_8c.html#afdcd8883d9a62f1b165c1099c4476355">gsb_data_fyear_get_beginning_date</a> (<a class="code" href="gsb__data__transaction_8c.html#ae8f3e659e304f02abd6c2ae7dd759203">gsb_data_transaction_get_financial_year_number</a> ( transaction_number_1));
<a name="l00833"></a>00833         date_2 = <a class="code" href="gsb__data__fyear_8c.html#afdcd8883d9a62f1b165c1099c4476355">gsb_data_fyear_get_beginning_date</a> (<a class="code" href="gsb__data__transaction_8c.html#ae8f3e659e304f02abd6c2ae7dd759203">gsb_data_transaction_get_financial_year_number</a> ( transaction_number_2));
<a name="l00834"></a>00834 
<a name="l00835"></a>00835         <span class="keywordflow">if</span> ( date_1 )
<a name="l00836"></a>00836         {
<a name="l00837"></a>00837             <span class="keywordflow">if</span> ( date_2 )
<a name="l00838"></a>00838                 return_value = g_date_compare ( date_1,
<a name="l00839"></a>00839                                                 date_2 );
<a name="l00840"></a>00840             <span class="keywordflow">else</span>
<a name="l00841"></a>00841                 return_value = 1;
<a name="l00842"></a>00842         }
<a name="l00843"></a>00843         <span class="keywordflow">else</span>
<a name="l00844"></a>00844         {
<a name="l00845"></a>00845             <span class="keywordflow">if</span> ( date_2 )
<a name="l00846"></a>00846                 return_value = -1;
<a name="l00847"></a>00847             <span class="keywordflow">else</span>
<a name="l00848"></a>00848                 return_value = 0;
<a name="l00849"></a>00849         }
<a name="l00850"></a>00850     }
<a name="l00851"></a>00851 
<a name="l00852"></a>00852     <span class="keywordflow">if</span> ( return_value )
<a name="l00853"></a>00853         <span class="keywordflow">return</span> return_value;
<a name="l00854"></a>00854     <span class="keywordflow">else</span>
<a name="l00855"></a>00855         <span class="keywordflow">return</span> gsb_transactions_list_sort_by_transaction_date_and_no(transaction_number_1, transaction_number_2);
<a name="l00856"></a>00856 
<a name="l00857"></a>00857 }
<a name="l00858"></a>00858 
<a name="l00859"></a>00859 
<a name="l00860"></a>00860 
<a name="l00869"></a>00869 gint gsb_transactions_list_sort_by_category ( gint transaction_number_1,
<a name="l00870"></a>00870                         gint transaction_number_2 )
<a name="l00871"></a>00871 {
<a name="l00872"></a>00872     gint return_value;
<a name="l00873"></a>00873     gchar *temp_1;
<a name="l00874"></a>00874     gchar *temp_2;
<a name="l00875"></a>00875 
<a name="l00883"></a>00883     temp_1 = <a class="code" href="gsb__transactions__list_8c.html#a1144ff7dd8c9bf6a2a6eb870fc8ae2df">gsb_transactions_get_category_real_name</a> ( transaction_number_1);
<a name="l00884"></a>00884     temp_2 = <a class="code" href="gsb__transactions__list_8c.html#a1144ff7dd8c9bf6a2a6eb870fc8ae2df">gsb_transactions_get_category_real_name</a> ( transaction_number_2);
<a name="l00885"></a>00885 
<a name="l00886"></a>00886     <span class="comment">/* g_utf8_collate is said not very fast, must try with big big account to check</span>
<a name="l00887"></a>00887 <span class="comment">     * if it&#39;s enough, for me it&#39;s ok (cedric), eventually, change with gsb_strcasecmp */</span>
<a name="l00888"></a>00888     return_value = g_utf8_collate ( g_utf8_casefold ( temp_1 ? temp_1 : <span class="stringliteral">&quot;&quot;</span>,
<a name="l00889"></a>00889                                                       -1 ),
<a name="l00890"></a>00890                                     g_utf8_casefold ( temp_2 ? temp_2 : <span class="stringliteral">&quot;&quot;</span>,
<a name="l00891"></a>00891                                                       -1 ));
<a name="l00892"></a>00892 
<a name="l00893"></a>00893     g_free (temp_1);
<a name="l00894"></a>00894     g_free (temp_2);
<a name="l00895"></a>00895 
<a name="l00896"></a>00896     <span class="keywordflow">if</span> ( return_value )
<a name="l00897"></a>00897         <span class="keywordflow">return</span> return_value;
<a name="l00898"></a>00898     <span class="keywordflow">else</span>
<a name="l00899"></a>00899         <span class="keywordflow">return</span> gsb_transactions_list_sort_by_transaction_date_and_no(transaction_number_1, transaction_number_2);
<a name="l00900"></a>00900 }
<a name="l00901"></a>00901 
<a name="l00902"></a>00902 
<a name="l00911"></a>00911 gint gsb_transactions_list_sort_by_mark ( gint transaction_number_1,
<a name="l00912"></a>00912                         gint transaction_number_2 )
<a name="l00913"></a>00913 {
<a name="l00914"></a>00914     gint return_value;
<a name="l00915"></a>00915 
<a name="l00916"></a>00916     return_value = <a class="code" href="gsb__data__transaction_8c.html#a52cf9684818c3930c5c688b54f7cf393">gsb_data_transaction_get_marked_transaction</a> (
<a name="l00917"></a>00917                         transaction_number_1)-
<a name="l00918"></a>00918                         <a class="code" href="gsb__data__transaction_8c.html#a52cf9684818c3930c5c688b54f7cf393">gsb_data_transaction_get_marked_transaction</a> (
<a name="l00919"></a>00919                         transaction_number_2);
<a name="l00920"></a>00920 
<a name="l00921"></a>00921 
<a name="l00922"></a>00922     <span class="keywordflow">if</span> ( return_value )
<a name="l00923"></a>00923             <span class="keywordflow">return</span> return_value;
<a name="l00924"></a>00924     <span class="keywordflow">else</span>
<a name="l00925"></a>00925         <span class="keywordflow">return</span> - gsb_transactions_list_sort_by_transaction_date_and_no (
<a name="l00926"></a>00926                         transaction_number_1, transaction_number_2 );
<a name="l00927"></a>00927 }
<a name="l00928"></a>00928 
<a name="l00929"></a>00929 
<a name="l00930"></a>00930 
<a name="l00939"></a>00939 gint gsb_transactions_list_sort_by_voucher ( gint transaction_number_1,
<a name="l00940"></a>00940                         gint transaction_number_2 )
<a name="l00941"></a>00941 {
<a name="l00942"></a>00942     gint return_value;
<a name="l00943"></a>00943     <span class="keyword">const</span> gchar *temp_1;
<a name="l00944"></a>00944     <span class="keyword">const</span> gchar *temp_2;
<a name="l00945"></a>00945 
<a name="l00946"></a>00946     temp_1 = <a class="code" href="gsb__data__transaction_8c.html#ad9886b09c3afc57a5c551896046a849a">gsb_data_transaction_get_voucher</a> ( transaction_number_1);
<a name="l00947"></a>00947     temp_2 = <a class="code" href="gsb__data__transaction_8c.html#ad9886b09c3afc57a5c551896046a849a">gsb_data_transaction_get_voucher</a> ( transaction_number_2);
<a name="l00948"></a>00948 
<a name="l00949"></a>00949     <span class="comment">/* g_utf8_collate is said not very fast, must try with big big account to check</span>
<a name="l00950"></a>00950 <span class="comment">     * if it&#39;s enough, for me it&#39;s ok (cedric), eventually, change with gsb_strcasecmp */</span>
<a name="l00951"></a>00951     return_value = g_utf8_collate ( g_utf8_casefold ( temp_1 ? temp_1 : <span class="stringliteral">&quot;&quot;</span>,
<a name="l00952"></a>00952                                                       -1 ),
<a name="l00953"></a>00953                                     g_utf8_casefold ( temp_2 ? temp_2 : <span class="stringliteral">&quot;&quot;</span>,
<a name="l00954"></a>00954                                                       -1 ));
<a name="l00955"></a>00955 
<a name="l00956"></a>00956     <span class="keywordflow">if</span> ( return_value )
<a name="l00957"></a>00957         <span class="keywordflow">return</span> return_value;
<a name="l00958"></a>00958     <span class="keywordflow">else</span>
<a name="l00959"></a>00959         <span class="keywordflow">return</span> gsb_transactions_list_sort_by_transaction_date_and_no(transaction_number_1, transaction_number_2);
<a name="l00960"></a>00960 }
<a name="l00961"></a>00961 
<a name="l00962"></a>00962 
<a name="l00971"></a>00971 gint gsb_transactions_list_sort_by_notes ( gint transaction_number_1,
<a name="l00972"></a>00972                         gint transaction_number_2 )
<a name="l00973"></a>00973 {
<a name="l00974"></a>00974     gint return_value;
<a name="l00975"></a>00975     <span class="keyword">const</span> gchar *temp_1;
<a name="l00976"></a>00976     <span class="keyword">const</span> gchar *temp_2;
<a name="l00977"></a>00977 
<a name="l00978"></a>00978     temp_1 = <a class="code" href="gsb__data__transaction_8c.html#ad73b393673217f5b9cc295c74e030550">gsb_data_transaction_get_notes</a> ( transaction_number_1);
<a name="l00979"></a>00979     temp_2 = <a class="code" href="gsb__data__transaction_8c.html#ad73b393673217f5b9cc295c74e030550">gsb_data_transaction_get_notes</a> ( transaction_number_2);
<a name="l00980"></a>00980 
<a name="l00981"></a>00981     <span class="comment">/* g_utf8_collate is said not very fast, must try with big big account to check</span>
<a name="l00982"></a>00982 <span class="comment">     * if it&#39;s enough, for me it&#39;s ok (cedric), eventually, change with gsb_strcasecmp */</span>
<a name="l00983"></a>00983     return_value = g_utf8_collate ( g_utf8_casefold ( temp_1 ? temp_1 : <span class="stringliteral">&quot;&quot;</span>,
<a name="l00984"></a>00984                                                       -1 ),
<a name="l00985"></a>00985                                     g_utf8_casefold ( temp_2 ? temp_2 : <span class="stringliteral">&quot;&quot;</span>,
<a name="l00986"></a>00986                                                       -1 ));
<a name="l00987"></a>00987 
<a name="l00988"></a>00988     <span class="keywordflow">if</span> ( return_value )
<a name="l00989"></a>00989         <span class="keywordflow">return</span> return_value;
<a name="l00990"></a>00990     <span class="keywordflow">else</span>
<a name="l00991"></a>00991         <span class="keywordflow">return</span> gsb_transactions_list_sort_by_transaction_date_and_no(transaction_number_1, transaction_number_2);
<a name="l00992"></a>00992 }
<a name="l00993"></a>00993 
<a name="l00994"></a>00994 
<a name="l00995"></a>00995 
<a name="l01004"></a>01004 gint gsb_transactions_list_sort_by_bank ( gint transaction_number_1,
<a name="l01005"></a>01005                         gint transaction_number_2 )
<a name="l01006"></a>01006 {
<a name="l01007"></a>01007     gint return_value;
<a name="l01008"></a>01008     <span class="keyword">const</span> gchar *temp_1;
<a name="l01009"></a>01009     <span class="keyword">const</span> gchar *temp_2;
<a name="l01010"></a>01010 
<a name="l01011"></a>01011     temp_1 = <a class="code" href="gsb__data__transaction_8c.html#a8ef7712f47278152551c3d9454ecf36a">gsb_data_transaction_get_bank_references</a> ( transaction_number_1);
<a name="l01012"></a>01012     temp_2 = <a class="code" href="gsb__data__transaction_8c.html#a8ef7712f47278152551c3d9454ecf36a">gsb_data_transaction_get_bank_references</a> ( transaction_number_2);
<a name="l01013"></a>01013 
<a name="l01014"></a>01014     <span class="comment">/* g_utf8_collate is said not very fast, must try with big big account to check</span>
<a name="l01015"></a>01015 <span class="comment">     * if it&#39;s enough, for me it&#39;s ok (cedric), eventually, change with gsb_strcasecmp */</span>
<a name="l01016"></a>01016     return_value = g_utf8_collate ( g_utf8_casefold ( temp_1 ? temp_1 : <span class="stringliteral">&quot;&quot;</span>,
<a name="l01017"></a>01017                                                       -1 ),
<a name="l01018"></a>01018                                     g_utf8_casefold ( temp_2 ? temp_2 : <span class="stringliteral">&quot;&quot;</span>,
<a name="l01019"></a>01019                                                       -1 ));
<a name="l01020"></a>01020 
<a name="l01021"></a>01021     <span class="keywordflow">if</span> ( return_value )
<a name="l01022"></a>01022         <span class="keywordflow">return</span> return_value;
<a name="l01023"></a>01023     <span class="keywordflow">else</span>
<a name="l01024"></a>01024         <span class="keywordflow">return</span> gsb_transactions_list_sort_by_transaction_date_and_no(transaction_number_1, transaction_number_2);
<a name="l01025"></a>01025 }
<a name="l01026"></a>01026 
<a name="l01027"></a>01027 
<a name="l01028"></a>01028 
<a name="l01037"></a>01037 gint gsb_transactions_list_sort_by_chq ( gint transaction_number_1,
<a name="l01038"></a>01038                         gint transaction_number_2 )
<a name="l01039"></a>01039 {
<a name="l01040"></a>01040     gint return_value;
<a name="l01041"></a>01041     <span class="keyword">const</span> gchar *temp_1;
<a name="l01042"></a>01042     <span class="keyword">const</span> gchar *temp_2;
<a name="l01043"></a>01043 
<a name="l01044"></a>01044     temp_1 = <a class="code" href="gsb__data__transaction_8c.html#a018a31b8a8fe99e813b4876206cf59a1">gsb_data_transaction_get_method_of_payment_content</a> ( transaction_number_1);
<a name="l01045"></a>01045     temp_2 = <a class="code" href="gsb__data__transaction_8c.html#a018a31b8a8fe99e813b4876206cf59a1">gsb_data_transaction_get_method_of_payment_content</a> ( transaction_number_2);
<a name="l01046"></a>01046 
<a name="l01047"></a>01047     <span class="comment">/* g_utf8_collate is said not very fast, must try with big big account to check</span>
<a name="l01048"></a>01048 <span class="comment">     * if it&#39;s enough, for me it&#39;s ok (cedric), eventually, change with gsb_strcasecmp */</span>
<a name="l01049"></a>01049     return_value = g_utf8_collate ( g_utf8_casefold ( temp_1 ? temp_1 : <span class="stringliteral">&quot;&quot;</span>,
<a name="l01050"></a>01050                                                       -1 ),
<a name="l01051"></a>01051                                     g_utf8_casefold ( temp_2 ? temp_2 : <span class="stringliteral">&quot;&quot;</span>,
<a name="l01052"></a>01052                                                       -1 ));
<a name="l01053"></a>01053 
<a name="l01054"></a>01054     <span class="keywordflow">if</span> ( return_value )
<a name="l01055"></a>01055         <span class="keywordflow">return</span> return_value;
<a name="l01056"></a>01056     <span class="keywordflow">else</span>
<a name="l01057"></a>01057         <span class="keywordflow">return</span> gsb_transactions_list_sort_by_transaction_date_and_no(transaction_number_1, transaction_number_2);
<a name="l01058"></a>01058 }
<a name="l01059"></a>01059 
<a name="l01060"></a>01060 
<a name="l01061"></a>01061 
<a name="l01062"></a>01062 
<a name="l01063"></a>01063 
<a name="l01064"></a>01064 <span class="comment">/* Local Variables: */</span>
<a name="l01065"></a>01065 <span class="comment">/* c-basic-offset: 4 */</span>
<a name="l01066"></a>01066 <span class="comment">/* End: */</span>
</pre></div></div>
<hr class="footer"/><address style="text-align: right;"><small>Généré le Sat Aug 7 22:12:03 2010 pour Grisbi par&nbsp;
<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.6.3 </small></address>
</body>
</html>
