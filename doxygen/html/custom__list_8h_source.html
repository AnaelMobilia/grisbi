<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<title>Grisbi:  Fichier source de custom_list.h</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="doxygen.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<!-- Généré par Doxygen 1.6.3 -->
<div class="navigation" id="top">
  <div class="tabs">
    <ul>
      <li><a href="main.html"><span>Page&nbsp;principale</span></a></li>
      <li><a href="pages.html"><span>Pages&nbsp;associées</span></a></li>
      <li><a href="annotated.html"><span>Structures&nbsp;de&nbsp;données</span></a></li>
      <li class="current"><a href="files.html"><span>Fichiers</span></a></li>
    </ul>
  </div>
  <div class="tabs">
    <ul>
      <li><a href="files.html"><span>Liste&nbsp;des&nbsp;fichiers</span></a></li>
      <li><a href="globals.html"><span>Portée&nbsp;globale</span></a></li>
    </ul>
  </div>
<h1>custom_list.h</h1><a href="custom__list_8h.html">Aller à la documentation de ce fichier.</a><div class="fragment"><pre class="fragment"><a name="l00001"></a>00001 <span class="preprocessor">#ifndef _CUSTOM_LIST_H</span>
<a name="l00002"></a>00002 <span class="preprocessor"></span><span class="preprocessor">#define _CUSTOM_LIST_H (1)</span>
<a name="l00003"></a>00003 <span class="preprocessor"></span>
<a name="l00004"></a><a class="code" href="custom__list_8h.html#acf7860ec805007982ac2173ae5075384">00004</a> <span class="preprocessor">#define CUSTOM_TYPE_LIST            (custom_list_get_type ())</span>
<a name="l00005"></a><a class="code" href="custom__list_8h.html#a593f79cbaa113cc9bf06ca84901e100f">00005</a> <span class="preprocessor"></span><span class="preprocessor">#define CUSTOM_LIST(obj)            (G_TYPE_CHECK_INSTANCE_CAST ((obj), CUSTOM_TYPE_LIST, CustomList))</span>
<a name="l00006"></a><a class="code" href="custom__list_8h.html#a063dc052cfd76fad0e8fd5fd68ec60ff">00006</a> <span class="preprocessor"></span><span class="preprocessor">#define CUSTOM_LIST_CLASS(klass)    (G_TYPE_CHECK_CLASS_CAST ((klass),  CUSTOM_TYPE_LIST, CustomListClass))</span>
<a name="l00007"></a><a class="code" href="custom__list_8h.html#a3a20caec4b867838cad01cece656424a">00007</a> <span class="preprocessor"></span><span class="preprocessor">#define CUSTOM_IS_LIST(obj)         (G_TYPE_CHECK_INSTANCE_TYPE ((obj), CUSTOM_TYPE_LIST))</span>
<a name="l00008"></a><a class="code" href="custom__list_8h.html#ad7a201e2a9ceb72db2963c2667f22e67">00008</a> <span class="preprocessor"></span><span class="preprocessor">#define CUSTOM_IS_LIST_CLASS(klass) (G_TYPE_CHECK_CLASS_TYPE ((klass),  CUSTOM_TYPE_LIST))</span>
<a name="l00009"></a><a class="code" href="custom__list_8h.html#ac18b30ae5927be9dc50b8d880e58ca92">00009</a> <span class="preprocessor"></span><span class="preprocessor">#define CUSTOM_LIST_GET_CLASS(obj)  (G_TYPE_INSTANCE_GET_CLASS ((obj),  CUSTOM_TYPE_LIST, CustomListClass))</span>
<a name="l00010"></a>00010 <span class="preprocessor"></span>
<a name="l00011"></a>00011 <span class="comment">/* The data columns that we export via the tree model interface */</span>
<a name="l00012"></a>00012 <span class="keyword">enum</span>
<a name="l00013"></a>00013 {
<a name="l00014"></a>00014     <span class="comment">/* for the 6 first col, this can be changed by user,</span>
<a name="l00015"></a>00015 <span class="comment">     * so juste name col_x, and comment the by default */</span>
<a name="l00016"></a><a class="code" href="custom__list_8h.html#a06fc87d81c62e9abb8790b6e5713c55ba814f49c3fc531956c7d01f9da8d4a960">00016</a>     <a class="code" href="custom__list_8h.html#a06fc87d81c62e9abb8790b6e5713c55ba814f49c3fc531956c7d01f9da8d4a960">CUSTOM_MODEL_COL_0</a> = 0,     <span class="comment">/* by default, check */</span>
<a name="l00017"></a><a class="code" href="custom__list_8h.html#a06fc87d81c62e9abb8790b6e5713c55ba733e087cf0a4f20063e866e5caef9947">00017</a>     <a class="code" href="custom__list_8h.html#a06fc87d81c62e9abb8790b6e5713c55ba733e087cf0a4f20063e866e5caef9947">CUSTOM_MODEL_COL_1</a>,         <span class="comment">/* by default, date */</span>
<a name="l00018"></a><a class="code" href="custom__list_8h.html#a06fc87d81c62e9abb8790b6e5713c55ba88b547dd8c2ed9955f2fc15ffaddf77b">00018</a>     <a class="code" href="custom__list_8h.html#a06fc87d81c62e9abb8790b6e5713c55ba88b547dd8c2ed9955f2fc15ffaddf77b">CUSTOM_MODEL_COL_2</a>,         <span class="comment">/* by default, payee */</span>
<a name="l00019"></a><a class="code" href="custom__list_8h.html#a06fc87d81c62e9abb8790b6e5713c55bafb1cab466e2ec74739e45fb3063656ba">00019</a>     <a class="code" href="custom__list_8h.html#a06fc87d81c62e9abb8790b6e5713c55bafb1cab466e2ec74739e45fb3063656ba">CUSTOM_MODEL_COL_3</a>,         <span class="comment">/* by default, P/R */</span>
<a name="l00020"></a><a class="code" href="custom__list_8h.html#a06fc87d81c62e9abb8790b6e5713c55bae24d6b83c76a2a80e03b75b511c337f2">00020</a>     <a class="code" href="custom__list_8h.html#a06fc87d81c62e9abb8790b6e5713c55bae24d6b83c76a2a80e03b75b511c337f2">CUSTOM_MODEL_COL_4</a>,         <span class="comment">/* by default, debit */</span>
<a name="l00021"></a><a class="code" href="custom__list_8h.html#a06fc87d81c62e9abb8790b6e5713c55ba61fe3dfa1de31f02d354b1b061d25b03">00021</a>     <a class="code" href="custom__list_8h.html#a06fc87d81c62e9abb8790b6e5713c55ba61fe3dfa1de31f02d354b1b061d25b03">CUSTOM_MODEL_COL_5</a>,         <span class="comment">/* by default, credit */</span>
<a name="l00022"></a><a class="code" href="custom__list_8h.html#a06fc87d81c62e9abb8790b6e5713c55ba1bcafb22d3b7f38cc03ffd6d67eecd79">00022</a>     <a class="code" href="custom__list_8h.html#a06fc87d81c62e9abb8790b6e5713c55ba1bcafb22d3b7f38cc03ffd6d67eecd79">CUSTOM_MODEL_COL_6</a>,         <span class="comment">/* by default, balance */</span>
<a name="l00023"></a>00023 
<a name="l00024"></a><a class="code" href="custom__list_8h.html#a06fc87d81c62e9abb8790b6e5713c55baaeb0154012fa2239dd4a640838a0b926">00024</a>     <a class="code" href="custom__list_8h.html#a06fc87d81c62e9abb8790b6e5713c55baaeb0154012fa2239dd4a640838a0b926">CUSTOM_MODEL_BACKGROUND</a>,                    <span class="comment">/*&lt; color of the background (a GdkColor) */</span>
<a name="l00025"></a><a class="code" href="custom__list_8h.html#a06fc87d81c62e9abb8790b6e5713c55ba7d0d9c896b69815c5ccfc2965d5d96be">00025</a>     <a class="code" href="custom__list_8h.html#a06fc87d81c62e9abb8790b6e5713c55ba7d0d9c896b69815c5ccfc2965d5d96be">CUSTOM_MODEL_SAVE_BACKGROUND</a>,               <span class="comment">/*&lt; when selection, save of the normal color of background (a GdkColor) */</span>
<a name="l00026"></a><a class="code" href="custom__list_8h.html#a06fc87d81c62e9abb8790b6e5713c55bacdd498414fddfaf9ccf2fc84cf3f06f8">00026</a>     <a class="code" href="custom__list_8h.html#a06fc87d81c62e9abb8790b6e5713c55bacdd498414fddfaf9ccf2fc84cf3f06f8">CUSTOM_MODEL_AMOUNT_COLOR</a>,                  <span class="comment">/*&lt; color of the amount (a string like &quot;red&quot; or NULL)*/</span>
<a name="l00027"></a><a class="code" href="custom__list_8h.html#a06fc87d81c62e9abb8790b6e5713c55ba6e2495ec36c3196595fd39b300480eb6">00027</a>     <a class="code" href="custom__list_8h.html#a06fc87d81c62e9abb8790b6e5713c55ba6e2495ec36c3196595fd39b300480eb6">CUSTOM_MODEL_TEXT_COLOR</a>,                    <span class="comment">/*&lt; color of the text */</span>
<a name="l00028"></a><a class="code" href="custom__list_8h.html#a06fc87d81c62e9abb8790b6e5713c55ba3e7ba59a4063e09dc7bbffdc48a353f6">00028</a>     <a class="code" href="custom__list_8h.html#a06fc87d81c62e9abb8790b6e5713c55ba3e7ba59a4063e09dc7bbffdc48a353f6">CUSTOM_MODEL_TRANSACTION_ADDRESS</a>,           <span class="comment">/* pointer to the transaction structure */</span>
<a name="l00029"></a><a class="code" href="custom__list_8h.html#a06fc87d81c62e9abb8790b6e5713c55ba0e1303b078e3aed4993a79f04757049d">00029</a>     <a class="code" href="custom__list_8h.html#a06fc87d81c62e9abb8790b6e5713c55ba0e1303b078e3aed4993a79f04757049d">CUSTOM_MODEL_WHAT_IS_LINE</a>,                  <span class="comment">/*&lt; on what the address point to ? IS_TRANSACTION, IS_ARCHIVE (see below) */</span>
<a name="l00030"></a><a class="code" href="custom__list_8h.html#a06fc87d81c62e9abb8790b6e5713c55ba8d29d48666a4bca641ba8b0b65502703">00030</a>     <a class="code" href="custom__list_8h.html#a06fc87d81c62e9abb8790b6e5713c55ba8d29d48666a4bca641ba8b0b65502703">CUSTOM_MODEL_FONT</a>,                          <span class="comment">/*&lt; PangoFontDescription if used */</span>
<a name="l00031"></a><a class="code" href="custom__list_8h.html#a06fc87d81c62e9abb8790b6e5713c55bafd59f664816369fe6dedc31ef6e38779">00031</a>     <a class="code" href="custom__list_8h.html#a06fc87d81c62e9abb8790b6e5713c55bafd59f664816369fe6dedc31ef6e38779">CUSTOM_MODEL_TRANSACTION_LINE</a>,              <span class="comment">/*&lt; the line in the transaction (0, 1, 2 or 3) */</span>
<a name="l00032"></a><a class="code" href="custom__list_8h.html#a06fc87d81c62e9abb8790b6e5713c55ba2f791b4d1252fe72890c25436197d01c">00032</a>     <a class="code" href="custom__list_8h.html#a06fc87d81c62e9abb8790b6e5713c55ba2f791b4d1252fe72890c25436197d01c">CUSTOM_MODEL_VISIBLE</a>,                       <span class="comment">/*&lt; whether that transaction is visible or not */</span>
<a name="l00033"></a><a class="code" href="custom__list_8h.html#a06fc87d81c62e9abb8790b6e5713c55ba854287c59bb8bd04d517380095eae44b">00033</a>     <a class="code" href="custom__list_8h.html#a06fc87d81c62e9abb8790b6e5713c55ba854287c59bb8bd04d517380095eae44b">CUSTOM_MODEL_CHECKBOX_VISIBLE</a>,              <span class="comment">/*&lt; whether the checkbox is visible or not */</span>
<a name="l00034"></a><a class="code" href="custom__list_8h.html#a06fc87d81c62e9abb8790b6e5713c55ba26126a837f2bc53047c59d56d1e1853d">00034</a>     <a class="code" href="custom__list_8h.html#a06fc87d81c62e9abb8790b6e5713c55ba26126a837f2bc53047c59d56d1e1853d">CUSTOM_MODEL_CHECKBOX_VISIBLE_RECONCILE</a>,    <span class="comment">/*&lt; whether the checkbox is visible or not during reconciliation */</span>
<a name="l00035"></a><a class="code" href="custom__list_8h.html#a06fc87d81c62e9abb8790b6e5713c55bac7a27e484ff94d8f9b4a2d42d24b2360">00035</a>     <a class="code" href="custom__list_8h.html#a06fc87d81c62e9abb8790b6e5713c55bac7a27e484ff94d8f9b4a2d42d24b2360">CUSTOM_MODEL_CHECKBOX_ACTIVE</a>,               <span class="comment">/*&lt; whether the checkbox is active or not */</span>
<a name="l00036"></a>00036 
<a name="l00037"></a><a class="code" href="custom__list_8h.html#a06fc87d81c62e9abb8790b6e5713c55ba21364a6be11dce64147f8b64315a02c8">00037</a>     <a class="code" href="custom__list_8h.html#a06fc87d81c62e9abb8790b6e5713c55ba21364a6be11dce64147f8b64315a02c8">CUSTOM_MODEL_N_COLUMNS</a>,
<a name="l00038"></a>00038 };
<a name="l00039"></a>00039 
<a name="l00040"></a>00040 <span class="comment">/* number of visible columns */</span>
<a name="l00041"></a><a class="code" href="custom__list_8h.html#a94bc00a237b4803e1096242436b77bcf">00041</a> <span class="preprocessor">#define CUSTOM_MODEL_VISIBLE_COLUMNS    7</span>
<a name="l00042"></a>00042 <span class="preprocessor"></span>
<a name="l00043"></a>00043 <span class="comment">/* definition of the number of max rows for a line, for now limit to 4 */</span>
<a name="l00044"></a><a class="code" href="custom__list_8h.html#a738de041650943c6854c2fa523b2e2e5">00044</a> <span class="preprocessor">#define TRANSACTION_LIST_ROWS_NB 4</span>
<a name="l00045"></a>00045 <span class="preprocessor"></span>
<a name="l00046"></a>00046 <span class="comment">/* possible values to CUSTOM_MODEL_WHAT_IS_LINE */</span>
<a name="l00047"></a><a class="code" href="custom__list_8h.html#a6845cc455dccec2a61535b0faa09414d">00047</a> <span class="preprocessor">#define IS_TRANSACTION 0</span>
<a name="l00048"></a><a class="code" href="custom__list_8h.html#a0caea412748bef9b8222da212aaa0069">00048</a> <span class="preprocessor"></span><span class="preprocessor">#define IS_ARCHIVE 1</span>
<a name="l00049"></a>00049 <span class="preprocessor"></span>
<a name="l00050"></a>00050 
<a name="l00051"></a><a class="code" href="custom__list_8h.html#a7a58d939ac57dbe87b707a8c89d4400b">00051</a> <span class="keyword">typedef</span> <span class="keyword">struct </span><a class="code" href="struct__CustomRecord.html">_CustomRecord</a>     <a class="code" href="struct__CustomRecord.html">CustomRecord</a>;
<a name="l00052"></a><a class="code" href="custom__list_8h.html#a8dfc5fdcc111d2377407cb0f0152b28d">00052</a> <span class="keyword">typedef</span> <span class="keyword">struct </span><a class="code" href="struct__CustomList.html">_CustomList</a>       <a class="code" href="struct__CustomList.html">CustomList</a>;
<a name="l00053"></a><a class="code" href="custom__list_8h.html#a38c44de5f526966a9e94913114c7c74f">00053</a> <span class="keyword">typedef</span> <span class="keyword">struct </span><a class="code" href="struct__CustomListClass.html">_CustomListClass</a>  <a class="code" href="struct__CustomListClass.html">CustomListClass</a>;
<a name="l00054"></a>00054 
<a name="l00055"></a>00055 <span class="comment">/* number of visibles columns */</span>
<a name="l00056"></a><a class="code" href="custom__list_8h.html#a5120df6c303afc3c01e77218f39b80b5">00056</a> <span class="preprocessor">#define CUSTOM_MODEL_N_VISIBLES_COLUMN 7</span>
<a name="l00057"></a>00057 <span class="preprocessor"></span>
<a name="l00058"></a>00058 <span class="comment">/* CustomRecord: this structure represents a row */</span>
<a name="l00059"></a><a class="code" href="struct__CustomRecord.html">00059</a> <span class="keyword">struct </span><a class="code" href="struct__CustomRecord.html">_CustomRecord</a>
<a name="l00060"></a>00060 {
<a name="l00061"></a>00061     <span class="comment">/* first the 7 visibles columns */</span>
<a name="l00062"></a><a class="code" href="struct__CustomRecord.html#a0d64de6657df72561164b3317bbdc2f4">00062</a>     gchar *<a class="code" href="struct__CustomRecord.html#a0d64de6657df72561164b3317bbdc2f4">visible_col</a>[7];
<a name="l00063"></a>00063 
<a name="l00064"></a><a class="code" href="struct__CustomRecord.html#a3b4f01fa0ed972c3446215cbe3fbdf56">00064</a>     GdkColor *<a class="code" href="struct__CustomRecord.html#a3b4f01fa0ed972c3446215cbe3fbdf56">row_bg</a>;                   <span class="comment">/* bg color */</span>
<a name="l00065"></a><a class="code" href="struct__CustomRecord.html#a7f10052deea3d5ebec35f030673e8253">00065</a>     GdkColor *<a class="code" href="struct__CustomRecord.html#a7f10052deea3d5ebec35f030673e8253">row_bg_save</a>;              <span class="comment">/* save bg */</span>
<a name="l00066"></a><a class="code" href="struct__CustomRecord.html#a66af8b318031a32f0cec97a5f2701dfb">00066</a>     gchar *<a class="code" href="struct__CustomRecord.html#a66af8b318031a32f0cec97a5f2701dfb">amount_color</a>;                <span class="comment">/* amout color */</span>
<a name="l00067"></a><a class="code" href="struct__CustomRecord.html#a491bd83af15a416e2336ca3bcc93b69d">00067</a>     GdkColor *<a class="code" href="struct__CustomRecord.html#a491bd83af15a416e2336ca3bcc93b69d">text_color</a>;               <span class="comment">/* color of the text (to highlight the splitted transactions not finished */</span>
<a name="l00068"></a>00068 
<a name="l00069"></a><a class="code" href="struct__CustomRecord.html#a302b5408b8f955ac2a62e02a6f287477">00069</a>     gpointer <a class="code" href="struct__CustomRecord.html#a302b5408b8f955ac2a62e02a6f287477">transaction_pointer</a>;       <span class="comment">/* transaction struct address */</span>
<a name="l00070"></a><a class="code" href="struct__CustomRecord.html#ada475877058ff4ab0c8602d6464168e7">00070</a>     gint <a class="code" href="struct__CustomRecord.html#ada475877058ff4ab0c8602d6464168e7">what_is_line</a>;                  <span class="comment">/* IS_TRANSACTION /IS_ARCHIVE */</span>
<a name="l00071"></a><a class="code" href="struct__CustomRecord.html#a2eaa7f95e03924522ad36bed9c9f8be5">00071</a>     gchar *<a class="code" href="struct__CustomRecord.html#a2eaa7f95e03924522ad36bed9c9f8be5">font</a>;                        <span class="comment">/* font */</span>
<a name="l00072"></a><a class="code" href="struct__CustomRecord.html#a8e3551cf21249d47290826d712fe0ade">00072</a>     gint <a class="code" href="struct__CustomRecord.html#a8e3551cf21249d47290826d712fe0ade">line_in_transaction</a>;           <span class="comment">/* line in transaction (0,1, 2 or 3) */</span>
<a name="l00073"></a><a class="code" href="struct__CustomRecord.html#a4a6cb1bab82180988050a4a4fffac318">00073</a>     gboolean <a class="code" href="struct__CustomRecord.html#a4a6cb1bab82180988050a4a4fffac318">line_visible</a>;              <span class="comment">/* is line visible (TRUE/FALSE, this value shouldn&#39;t be changed by gsb_list_model_set */</span>
<a name="l00074"></a><a class="code" href="struct__CustomRecord.html#a3f3cc89b6cd038db091b0d5fed5e28d3">00074</a>     gboolean <a class="code" href="struct__CustomRecord.html#a3f3cc89b6cd038db091b0d5fed5e28d3">checkbox_visible</a>;          <span class="comment">/* checkbox visible */</span>
<a name="l00075"></a><a class="code" href="struct__CustomRecord.html#ad15d63daf2ab88634558151d15e5017c">00075</a>     gboolean <a class="code" href="struct__CustomRecord.html#ad15d63daf2ab88634558151d15e5017c">checkbox_visible_reconcile</a>;        <span class="comment">/* checkbox visible during reconcile */</span>
<a name="l00076"></a><a class="code" href="struct__CustomRecord.html#a681f7dfdab3c9727bfe2e651671f370a">00076</a>     gboolean <a class="code" href="struct__CustomRecord.html#a681f7dfdab3c9727bfe2e651671f370a">checkbox_active</a>;           <span class="comment">/* checkbox active */</span>
<a name="l00077"></a>00077 
<a name="l00078"></a>00078     <span class="comment">/* admin stuff used by the custom list model */</span>
<a name="l00079"></a>00079 
<a name="l00080"></a>00080     <span class="comment">/* this array contains the adress of the records of the transaction</span>
<a name="l00081"></a>00081 <span class="comment">     * in the order of the lines</span>
<a name="l00082"></a>00082 <span class="comment">     * so it contains itself, and the 3 (for now) others</span>
<a name="l00083"></a>00083 <span class="comment">     * this is used to increase the speed of filling the list at the opening */</span>
<a name="l00084"></a><a class="code" href="struct__CustomRecord.html#a40d1d60d6e8dc159a54d6b0b46411b3e">00084</a>     <a class="code" href="struct__CustomRecord.html">CustomRecord</a> *<a class="code" href="struct__CustomRecord.html#a40d1d60d6e8dc159a54d6b0b46411b3e">transaction_records</a>[<a class="code" href="custom__list_8h.html#a738de041650943c6854c2fa523b2e2e5">TRANSACTION_LIST_ROWS_NB</a>];
<a name="l00085"></a>00085 
<a name="l00086"></a>00086     <span class="comment">/* pos in the array of the mother,</span>
<a name="l00087"></a>00087 <span class="comment">     * so pos within the &#39;rows&#39; array of the model for mother,</span>
<a name="l00088"></a>00088 <span class="comment">     * or pos within the &#39;children_rows&#39; array of the mother for a child */</span>
<a name="l00089"></a>00089     <span class="comment">/* position in the list, and in the filtered list</span>
<a name="l00090"></a>00090 <span class="comment">     * for a child, pos = filtered_pos */</span>
<a name="l00091"></a><a class="code" href="struct__CustomRecord.html#a9828c1e98b005c504aaa3715f92b02a8">00091</a>     guint <a class="code" href="struct__CustomRecord.html#a9828c1e98b005c504aaa3715f92b02a8">pos</a>;
<a name="l00092"></a><a class="code" href="struct__CustomRecord.html#a19ee376d753e226f8e3586b3cda43d3c">00092</a>     guint <a class="code" href="struct__CustomRecord.html#a19ee376d753e226f8e3586b3cda43d3c">filtered_pos</a>;         <span class="comment">/* -1 if the record is not visible */</span>
<a name="l00093"></a>00093 
<a name="l00094"></a>00094     <span class="comment">/* number of children, 0 when no child,</span>
<a name="l00095"></a>00095 <span class="comment">     * increase for each child added */</span>
<a name="l00096"></a><a class="code" href="struct__CustomRecord.html#a5cea8fd9bfeb5ff33fadf7f9546274ad">00096</a>     guint <a class="code" href="struct__CustomRecord.html#a5cea8fd9bfeb5ff33fadf7f9546274ad">number_of_children</a>;
<a name="l00097"></a>00097 
<a name="l00098"></a>00098     <span class="comment">/* array of pointers to the structure of the chidren */</span>
<a name="l00099"></a><a class="code" href="struct__CustomRecord.html#a506c3e4c886c288e96779983b07f0b25">00099</a>     <a class="code" href="struct__CustomRecord.html">CustomRecord</a>        **<a class="code" href="struct__CustomRecord.html#a506c3e4c886c288e96779983b07f0b25">children_rows</a>;
<a name="l00100"></a>00100 
<a name="l00101"></a>00101     <span class="comment">/* a transaction is 4 lines, if there are some children, the 4 lines</span>
<a name="l00102"></a>00102 <span class="comment">     * have children_rows and number_of_children filled, but has_expander</span>
<a name="l00103"></a>00103 <span class="comment">     * will be TRUE or FALSE to set what row will have the expender in the</span>
<a name="l00104"></a>00104 <span class="comment">     * tree view, depending of the visibles number of row in the account.</span>
<a name="l00105"></a>00105 <span class="comment">     * this is changed when the list is filtered</span>
<a name="l00106"></a>00106 <span class="comment">     * only 1 row of the 4 can be a TREE, mother_row is changed according</span>
<a name="l00107"></a>00107 <span class="comment">     * the last visible row */</span>
<a name="l00108"></a><a class="code" href="struct__CustomRecord.html#a01f034ff9327573d1163bc7b6ec6b02f">00108</a>     gboolean <a class="code" href="struct__CustomRecord.html#a01f034ff9327573d1163bc7b6ec6b02f">has_expander</a>;
<a name="l00109"></a>00109 
<a name="l00110"></a>00110     <span class="comment">/* pointer to the mother if anum_rows child, NULL for a mother */</span>
<a name="l00111"></a><a class="code" href="struct__CustomRecord.html#a012f6b7a2669e2a8c3d81b40bb707555">00111</a>     <a class="code" href="struct__CustomRecord.html">CustomRecord</a>        *<a class="code" href="struct__CustomRecord.html#a012f6b7a2669e2a8c3d81b40bb707555">mother_row</a>;
<a name="l00112"></a>00112 };
<a name="l00113"></a>00113 
<a name="l00114"></a>00114 
<a name="l00115"></a>00115 
<a name="l00119"></a><a class="code" href="struct__CustomList.html">00119</a> <span class="keyword">struct </span><a class="code" href="struct__CustomList.html">_CustomList</a>
<a name="l00120"></a>00120 {
<a name="l00121"></a><a class="code" href="struct__CustomList.html#a11f37d3c034a8681a24fef97ceabb8dd">00121</a>     GObject     <a class="code" href="struct__CustomList.html#a11f37d3c034a8681a24fef97ceabb8dd">parent</a>;                 <span class="comment">/* this MUST be the first member */</span>
<a name="l00122"></a>00122 
<a name="l00123"></a>00123     <span class="comment">/* we keep here ONLY the mothers row,</span>
<a name="l00124"></a>00124 <span class="comment">     * the children and number of children are saved directly into their mother</span>
<a name="l00125"></a>00125 <span class="comment">     * this increase a lot the speed of the list */</span>
<a name="l00126"></a><a class="code" href="struct__CustomList.html#a767f2c2cec183c1d11dabb991c21382d">00126</a>     guint               <a class="code" href="struct__CustomList.html#a767f2c2cec183c1d11dabb991c21382d">num_rows</a>;               <span class="comment">/* number of mother rows that we have   */</span>
<a name="l00127"></a><a class="code" href="struct__CustomList.html#a29febef0c197ed8b57888a0a4a95951e">00127</a>     <a class="code" href="struct__CustomRecord.html">CustomRecord</a>        **<a class="code" href="struct__CustomList.html#a29febef0c197ed8b57888a0a4a95951e">rows</a>;                 <span class="comment">/* a dynamically allocated array of pointers to</span>
<a name="l00128"></a>00128 <span class="comment">                                                 *   the CustomRecord structure for each mother row    */</span>
<a name="l00129"></a>00129 
<a name="l00130"></a>00130     <span class="comment">/* this is the same as before but we keep here only</span>
<a name="l00131"></a>00131 <span class="comment">     * the visible transactions and the are sorted</span>
<a name="l00132"></a>00132 <span class="comment">     * visibles_rows has the same size in memory as rows, so the end cannot be reached</span>
<a name="l00133"></a>00133 <span class="comment">     * num_visibles_rows is the number of visible rows */</span>
<a name="l00134"></a><a class="code" href="struct__CustomList.html#ab641f57c7760917443a80627b6e6b35f">00134</a>     guint               <a class="code" href="struct__CustomList.html#ab641f57c7760917443a80627b6e6b35f">num_visibles_rows</a>;
<a name="l00135"></a><a class="code" href="struct__CustomList.html#a32b88e9bd528795509229555a505a8a9">00135</a>     <a class="code" href="struct__CustomRecord.html">CustomRecord</a>        **<a class="code" href="struct__CustomList.html#a32b88e9bd528795509229555a505a8a9">visibles_rows</a>;
<a name="l00136"></a>00136 
<a name="l00137"></a>00137     <span class="comment">/* to avoid to tell all the time the account to the model functions */</span>
<a name="l00138"></a><a class="code" href="struct__CustomList.html#a4ff1c9958c853437c0340ab66e25f9cb">00138</a>     gint                <a class="code" href="struct__CustomList.html#a4ff1c9958c853437c0340ab66e25f9cb">nb_rows_by_transaction</a>; <span class="comment">/* contains 1, 2, 3 or 4 */</span>
<a name="l00139"></a>00139 
<a name="l00140"></a>00140     <span class="comment">/* the first row of the current selection */</span>
<a name="l00141"></a><a class="code" href="struct__CustomList.html#a399bf9b47ca21e8813843dad66db6d51">00141</a>     <a class="code" href="struct__CustomRecord.html">CustomRecord</a>        *<a class="code" href="struct__CustomList.html#a399bf9b47ca21e8813843dad66db6d51">selected_row</a>;
<a name="l00142"></a>00142 
<a name="l00143"></a>00143     <span class="comment">/* These two fields are not absolutely necessary, but they    */</span>
<a name="l00144"></a>00144     <span class="comment">/*   speed things up a bit in our get_value implementation    */</span>
<a name="l00145"></a><a class="code" href="struct__CustomList.html#a3af8fef589d45c0274032570bea7b26e">00145</a>     gint                <a class="code" href="struct__CustomList.html#a3af8fef589d45c0274032570bea7b26e">n_columns</a>;
<a name="l00146"></a><a class="code" href="struct__CustomList.html#a1310baccfe226bbb1c96ddeb0957aeef">00146</a>     GType               <a class="code" href="struct__CustomList.html#a1310baccfe226bbb1c96ddeb0957aeef">column_types</a>[<a class="code" href="custom__list_8h.html#a06fc87d81c62e9abb8790b6e5713c55ba21364a6be11dce64147f8b64315a02c8">CUSTOM_MODEL_N_COLUMNS</a>];
<a name="l00147"></a>00147 
<a name="l00148"></a>00148     <span class="comment">/* sort variables */</span>
<a name="l00149"></a><a class="code" href="struct__CustomList.html#a043a204c10d9b9ad0411c75f9ccc1aca">00149</a>     gint                <a class="code" href="struct__CustomList.html#a043a204c10d9b9ad0411c75f9ccc1aca">sort_col</a>;
<a name="l00150"></a><a class="code" href="struct__CustomList.html#a9ef8c81501687072d17d5713c1ff0476">00150</a>     GtkSortType         <a class="code" href="struct__CustomList.html#a9ef8c81501687072d17d5713c1ff0476">sort_order</a>;             <span class="comment">/* GTK_SORT_ASCENDING / GTK_SORT_DESCENDING */</span>
<a name="l00151"></a><a class="code" href="struct__CustomList.html#a35b7a20830bfc3d9386338209569a72b">00151</a>     gboolean            <a class="code" href="struct__CustomList.html#a35b7a20830bfc3d9386338209569a72b">user_sort_reconcile</a>;    <span class="comment">/* TRUE when the sorting function is the user defined for reconciliation */</span>
<a name="l00152"></a>00152 
<a name="l00153"></a><a class="code" href="struct__CustomList.html#ad55c29483a410971d02c114ce4616fbe">00153</a>     gint                <a class="code" href="struct__CustomList.html#ad55c29483a410971d02c114ce4616fbe">stamp</a>;                  <span class="comment">/* Random integer to check whether an iter belongs to our model */</span>
<a name="l00154"></a>00154 };
<a name="l00155"></a>00155 
<a name="l00156"></a>00156 
<a name="l00157"></a>00157 
<a name="l00158"></a>00158 <span class="comment">/* CustomListClass: more boilerplate GObject stuff */</span>
<a name="l00159"></a><a class="code" href="struct__CustomListClass.html">00159</a> <span class="keyword">struct </span><a class="code" href="struct__CustomListClass.html">_CustomListClass</a>
<a name="l00160"></a>00160 {
<a name="l00161"></a><a class="code" href="struct__CustomListClass.html#a9067eafbe6649ba626032b65f5d34997">00161</a>   GObjectClass <a class="code" href="struct__CustomListClass.html#a9067eafbe6649ba626032b65f5d34997">parent_class</a>;
<a name="l00162"></a>00162 };
<a name="l00163"></a>00163 
<a name="l00164"></a>00164 
<a name="l00165"></a>00165 <span class="comment">/* START_INCLUDE_H */</span>
<a name="l00166"></a>00166 <span class="comment">/* END_INCLUDE_H */</span>
<a name="l00167"></a>00167 
<a name="l00168"></a>00168 <span class="comment">/* START_DECLARATION */</span>
<a name="l00169"></a>00169 <span class="keyword">extern</span> GType <a class="code" href="custom__list_8c.html#adeb9a6aec026a0fbbe6a22a1c7c13ece">custom_list_get_type</a> (<span class="keywordtype">void</span>);
<a name="l00170"></a>00170 <a class="code" href="struct__CustomList.html">CustomList</a> *<a class="code" href="custom__list_8c.html#af2283d90d622138e25ad463bfd0c8557">custom_list_new</a> (<span class="keywordtype">void</span>);
<a name="l00171"></a>00171 <span class="keywordtype">void</span> <a class="code" href="custom__list_8c.html#a328dd87cc6168f5d518078168fe046c3">custom_list_set_value</a> (GtkTreeModel *tree_model,
<a name="l00172"></a>00172                             GtkTreeIter  *iter,
<a name="l00173"></a>00173                             gint          column,
<a name="l00174"></a>00174                             GValue       *value);
<a name="l00175"></a>00175 <span class="comment">/* END_DECLARATION */</span>
<a name="l00176"></a>00176 <span class="preprocessor">#endif</span>
</pre></div></div>
<hr class="footer"/><address style="text-align: right;"><small>Généré le Sat Aug 7 22:12:00 2010 pour Grisbi par&nbsp;
<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.6.3 </small></address>
</body>
</html>
