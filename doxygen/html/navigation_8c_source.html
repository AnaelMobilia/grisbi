<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<title>Grisbi:  Fichier source de navigation.c</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="doxygen.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<!-- Généré par Doxygen 1.6.3 -->
<div class="navigation" id="top">
  <div class="tabs">
    <ul>
      <li><a href="main.html"><span>Page&nbsp;principale</span></a></li>
      <li><a href="pages.html"><span>Pages&nbsp;associées</span></a></li>
      <li><a href="annotated.html"><span>Structures&nbsp;de&nbsp;données</span></a></li>
      <li class="current"><a href="files.html"><span>Fichiers</span></a></li>
    </ul>
  </div>
  <div class="tabs">
    <ul>
      <li><a href="files.html"><span>Liste&nbsp;des&nbsp;fichiers</span></a></li>
      <li><a href="globals.html"><span>Portée&nbsp;globale</span></a></li>
    </ul>
  </div>
<h1>navigation.c</h1><a href="navigation_8c.html">Aller à la documentation de ce fichier.</a><div class="fragment"><pre class="fragment"><a name="l00001"></a>00001 <span class="comment">/* ************************************************************************** */</span>
<a name="l00002"></a>00002 <span class="comment">/*                                                                            */</span>
<a name="l00003"></a>00003 <span class="comment">/*     Copyright (C)    2000-2008 Cédric Auger (cedric@grisbi.org)            */</span>
<a name="l00004"></a>00004 <span class="comment">/*          2003-2008 Benjamin Drieu (bdrieu@april.org)                       */</span>
<a name="l00005"></a>00005 <span class="comment">/*          http://www.grisbi.org                                             */</span>
<a name="l00006"></a>00006 <span class="comment">/*                                                                            */</span>
<a name="l00007"></a>00007 <span class="comment">/*  This program is free software; you can redistribute it and/or modify      */</span>
<a name="l00008"></a>00008 <span class="comment">/*  it under the terms of the GNU General Public License as published by      */</span>
<a name="l00009"></a>00009 <span class="comment">/*  the Free Software Foundation; either version 2 of the License, or         */</span>
<a name="l00010"></a>00010 <span class="comment">/*  (at your option) any later version.                                       */</span>
<a name="l00011"></a>00011 <span class="comment">/*                                                                            */</span>
<a name="l00012"></a>00012 <span class="comment">/*  This program is distributed in the hope that it will be useful,           */</span>
<a name="l00013"></a>00013 <span class="comment">/*  but WITHOUT ANY WARRANTY; without even the implied warranty of            */</span>
<a name="l00014"></a>00014 <span class="comment">/*  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the             */</span>
<a name="l00015"></a>00015 <span class="comment">/*  GNU General Public License for more details.                              */</span>
<a name="l00016"></a>00016 <span class="comment">/*                                                                            */</span>
<a name="l00017"></a>00017 <span class="comment">/*  You should have received a copy of the GNU General Public License         */</span>
<a name="l00018"></a>00018 <span class="comment">/*  along with this program; if not, write to the Free Software               */</span>
<a name="l00019"></a>00019 <span class="comment">/*  Foundation, Inc., 59 Temple Place, Suite 330, Boston, MA  02111-1307  USA */</span>
<a name="l00020"></a>00020 <span class="comment">/*                                                                            */</span>
<a name="l00021"></a>00021 <span class="comment">/* ************************************************************************** */</span>
<a name="l00022"></a>00022 
<a name="l00023"></a>00023 
<a name="l00024"></a>00024 <span class="preprocessor">#include &quot;<a class="code" href="include_8h.html">include.h</a>&quot;</span>
<a name="l00025"></a>00025 
<a name="l00026"></a>00026 <span class="comment">/*START_INCLUDE*/</span>
<a name="l00027"></a>00027 <span class="preprocessor">#include &quot;<a class="code" href="navigation_8h.html">navigation.h</a>&quot;</span>
<a name="l00028"></a>00028 <span class="preprocessor">#include &quot;<a class="code" href="bet__data_8h.html">bet_data.h</a>&quot;</span>
<a name="l00029"></a>00029 <span class="preprocessor">#include &quot;<a class="code" href="gsb__account__property_8h.html">gsb_account_property.h</a>&quot;</span>
<a name="l00030"></a>00030 <span class="preprocessor">#include &quot;<a class="code" href="gsb__calendar_8h.html">gsb_calendar.h</a>&quot;</span>
<a name="l00031"></a>00031 <span class="preprocessor">#include &quot;<a class="code" href="gsb__data__account_8h.html">gsb_data_account.h</a>&quot;</span>
<a name="l00032"></a>00032 <span class="preprocessor">#include &quot;<a class="code" href="gsb__data__import__rule_8h.html">gsb_data_import_rule.h</a>&quot;</span>
<a name="l00033"></a>00033 <span class="preprocessor">#include &quot;<a class="code" href="gsb__data__reconcile_8h.html">gsb_data_reconcile.h</a>&quot;</span>
<a name="l00034"></a>00034 <span class="preprocessor">#include &quot;<a class="code" href="gsb__data__report_8h.html">gsb_data_report.h</a>&quot;</span>
<a name="l00035"></a>00035 <span class="preprocessor">#include &quot;<a class="code" href="utils__dates_8h.html">utils_dates.h</a>&quot;</span>
<a name="l00036"></a>00036 <span class="preprocessor">#include &quot;<a class="code" href="gsb__file_8h.html">gsb_file.h</a>&quot;</span>
<a name="l00037"></a>00037 <span class="preprocessor">#include &quot;<a class="code" href="gsb__form_8h.html">gsb_form.h</a>&quot;</span>
<a name="l00038"></a>00038 <span class="preprocessor">#include &quot;<a class="code" href="gsb__form__scheduler_8h.html">gsb_form_scheduler.h</a>&quot;</span>
<a name="l00039"></a>00039 <span class="preprocessor">#include &quot;<a class="code" href="fenetre__principale_8h.html">fenetre_principale.h</a>&quot;</span>
<a name="l00040"></a>00040 <span class="preprocessor">#include &quot;<a class="code" href="bet__finance__ui_8h.html">bet_finance_ui.h</a>&quot;</span>
<a name="l00041"></a>00041 <span class="preprocessor">#include &quot;<a class="code" href="menu_8h.html">menu.h</a>&quot;</span>
<a name="l00042"></a>00042 <span class="preprocessor">#include &quot;<a class="code" href="etats__onglet_8h.html">etats_onglet.h</a>&quot;</span>
<a name="l00043"></a>00043 <span class="preprocessor">#include &quot;<a class="code" href="accueil_8h.html">accueil.h</a>&quot;</span>
<a name="l00044"></a>00044 <span class="preprocessor">#include &quot;<a class="code" href="gsb__real_8h.html">gsb_real.h</a>&quot;</span>
<a name="l00045"></a>00045 <span class="preprocessor">#include &quot;<a class="code" href="gsb__reconcile_8h.html">gsb_reconcile.h</a>&quot;</span>
<a name="l00046"></a>00046 <span class="preprocessor">#include &quot;<a class="code" href="gsb__scheduler__list_8h.html">gsb_scheduler_list.h</a>&quot;</span>
<a name="l00047"></a>00047 <span class="preprocessor">#include &quot;<a class="code" href="gsb__transactions__list_8h.html">gsb_transactions_list.h</a>&quot;</span>
<a name="l00048"></a>00048 <span class="preprocessor">#include &quot;<a class="code" href="main_8h.html">main.h</a>&quot;</span>
<a name="l00049"></a>00049 <span class="preprocessor">#include &quot;<a class="code" href="traitement__variables_8h.html">traitement_variables.h</a>&quot;</span>
<a name="l00050"></a>00050 <span class="preprocessor">#include &quot;<a class="code" href="utils__str_8h.html">utils_str.h</a>&quot;</span>
<a name="l00051"></a>00051 <span class="preprocessor">#include &quot;<a class="code" href="tiers__onglet_8h.html">tiers_onglet.h</a>&quot;</span>
<a name="l00052"></a>00052 <span class="preprocessor">#include &quot;<a class="code" href="categories__onglet_8h.html">categories_onglet.h</a>&quot;</span>
<a name="l00053"></a>00053 <span class="preprocessor">#include &quot;<a class="code" href="imputation__budgetaire_8h.html">imputation_budgetaire.h</a>&quot;</span>
<a name="l00054"></a>00054 <span class="preprocessor">#include &quot;<a class="code" href="transaction__list__select_8h.html">transaction_list_select.h</a>&quot;</span>
<a name="l00055"></a>00055 <span class="preprocessor">#include &quot;<a class="code" href="transaction__list__sort_8h.html">transaction_list_sort.h</a>&quot;</span>
<a name="l00056"></a>00056 <span class="preprocessor">#include &quot;<a class="code" href="utils__str_8h.html">utils_str.h</a>&quot;</span>
<a name="l00057"></a>00057 <span class="preprocessor">#include &quot;<a class="code" href="fenetre__principale_8h.html">fenetre_principale.h</a>&quot;</span>
<a name="l00058"></a>00058 <span class="preprocessor">#include &quot;<a class="code" href="include_8h.html">include.h</a>&quot;</span>
<a name="l00059"></a>00059 <span class="preprocessor">#include &quot;<a class="code" href="erreur_8h.html">erreur.h</a>&quot;</span>
<a name="l00060"></a>00060 <span class="preprocessor">#include &quot;<a class="code" href="structures_8h.html">structures.h</a>&quot;</span>
<a name="l00061"></a>00061 <span class="comment">/*END_INCLUDE*/</span>
<a name="l00062"></a>00062 
<a name="l00063"></a>00063 <span class="comment">/*START_STATIC*/</span>
<a name="l00064"></a>00064 <span class="keyword">static</span> <span class="keywordtype">void</span> create_report_list ( GtkTreeModel * model, GtkTreeIter * reports_iter );
<a name="l00065"></a>00065 <span class="keyword">static</span> gboolean gsb_gui_navigation_check_key_press ( GtkWidget *tree_view,
<a name="l00066"></a>00066                         GdkEventKey *ev,
<a name="l00067"></a>00067                         GtkTreeModel *model );
<a name="l00068"></a>00068 <span class="keyword">static</span> gboolean gsb_gui_navigation_remove_account_iterator ( GtkTreeModel * tree_model, 
<a name="l00069"></a>00069                         GtkTreePath *path, 
<a name="l00070"></a>00070                         GtkTreeIter *iter, 
<a name="l00071"></a>00071                         gpointer data );
<a name="l00072"></a>00072 <span class="keyword">static</span> gboolean gsb_gui_navigation_remove_report_iterator ( GtkTreeModel * tree_model, 
<a name="l00073"></a>00073                         GtkTreePath *path, 
<a name="l00074"></a>00074                         GtkTreeIter *iter, 
<a name="l00075"></a>00075                         gpointer data );
<a name="l00076"></a>00076 <span class="keyword">static</span> gboolean gsb_gui_navigation_select_line ( GtkTreeSelection *selection,
<a name="l00077"></a>00077                         GtkTreeModel *model );
<a name="l00078"></a>00078 <span class="keyword">static</span> <span class="keywordtype">void</span> gsb_gui_navigation_set_selection_branch ( GtkTreeSelection * selection, 
<a name="l00079"></a>00079                                             GtkTreeIter * iter, gint page, 
<a name="l00080"></a>00080                                             gint account_number, gpointer report );
<a name="l00081"></a>00081 <span class="keyword">static</span> <span class="keywordtype">void</span> gsb_gui_navigation_update_account_iter ( GtkTreeModel * model, 
<a name="l00082"></a>00082                         GtkTreeIter * account_iter,
<a name="l00083"></a>00083                         gint account_number );
<a name="l00084"></a>00084 <span class="keyword">static</span> gboolean gsb_gui_navigation_update_account_iterator ( GtkTreeModel * tree_model, 
<a name="l00085"></a>00085                         GtkTreePath *path, 
<a name="l00086"></a>00086                         GtkTreeIter *iter, 
<a name="l00087"></a>00087                         gpointer data );
<a name="l00088"></a>00088 <span class="keyword">static</span> <span class="keywordtype">void</span> gsb_gui_navigation_update_report_iter ( GtkTreeModel * model, 
<a name="l00089"></a>00089                         GtkTreeIter * report_iter,
<a name="l00090"></a>00090                         gint report_number );
<a name="l00091"></a>00091 <span class="keyword">static</span> gboolean gsb_gui_navigation_update_report_iterator ( GtkTreeModel * tree_model, 
<a name="l00092"></a>00092                         GtkTreePath *path, 
<a name="l00093"></a>00093                         GtkTreeIter *iter, 
<a name="l00094"></a>00094                         gpointer data );
<a name="l00095"></a>00095 <span class="keyword">static</span> gboolean navigation_sort_column ( GtkTreeModel * model, 
<a name="l00096"></a>00096                         GtkTreeIter * a, GtkTreeIter * b, 
<a name="l00097"></a>00097                         gpointer user_data );
<a name="l00098"></a>00098 <span class="keyword">static</span> gboolean navigation_tree_drag_data_get ( GtkTreeDragSource * drag_source, GtkTreePath * path,
<a name="l00099"></a>00099                         GtkSelectionData * selection_data );
<a name="l00100"></a>00100 <span class="comment">/*END_STATIC*/</span>
<a name="l00101"></a>00101 
<a name="l00102"></a>00102 
<a name="l00103"></a>00103 <span class="comment">/*START_EXTERN*/</span>
<a name="l00104"></a>00104 <span class="keyword">extern</span> GtkWidget *<a class="code" href="bet__config_8c.html#ad5443d986a9ab5d64dd84c5346c4b87c">account_page</a>;
<a name="l00105"></a>00105 <span class="keyword">extern</span> gchar *<a class="code" href="affichage_8c.html#a2b411f03999259d3ba57ceb09d126c6d">initial_holder_title</a>;
<a name="l00106"></a>00106 <span class="keyword">extern</span> GtkWidget *<a class="code" href="gsb__form_8c.html#a1d4fbf807088a54821529a81f72bdd07">label_last_statement</a>;
<a name="l00107"></a>00107 <span class="keyword">extern</span> GtkWidget *<a class="code" href="barre__outils_8c.html#ae624b78f586a9e3f5d60e6f2e2866819">menu_import_rules</a>;
<a name="l00108"></a>00108 <span class="keyword">extern</span> gint <a class="code" href="accueil_8c.html#a018917e8dacfd8fbe4e94d0f99a59c08">mise_a_jour_liste_comptes_accueil</a>;
<a name="l00109"></a>00109 <span class="keyword">extern</span> GtkWidget *<a class="code" href="bet__config_8c.html#a8924516aa4170f932308e93cf93a785b">notebook_general</a>;
<a name="l00110"></a>00110 <span class="keyword">extern</span> gchar *<a class="code" href="accueil_8c.html#a787cc81cf2ad728775b73d723713980b">titre_fichier</a>;
<a name="l00111"></a>00111 <span class="comment">/*END_EXTERN*/</span>
<a name="l00112"></a>00112 
<a name="l00113"></a>00113 
<a name="l00115"></a><a class="code" href="traitement__variables_8c.html#a1cd17e8b2fd91a191f8d5d6a7e5f6979">00115</a> GtkWidget * <a class="code" href="etats__config_8c.html#a1cd17e8b2fd91a191f8d5d6a7e5f6979">navigation_tree_view</a> = NULL;
<a name="l00116"></a>00116 
<a name="l00118"></a><a class="code" href="navigation_8c.html#af25f8dd6dec7eb5cb22b4a710e686d29">00118</a> GtkTreeModel * <a class="code" href="menu_8c.html#af25f8dd6dec7eb5cb22b4a710e686d29">navigation_model</a> = NULL;
<a name="l00119"></a>00119 
<a name="l00121"></a>00121 <span class="keyword">static</span> GtkWidget * scheduler_calendar = NULL;
<a name="l00122"></a>00122 
<a name="l00124"></a><a class="code" href="navigation_8c.html#a0356c8380fe78fe23dc212255df45e4b">00124</a> GtkWidget * <a class="code" href="gsb__reconcile_8c.html#a0356c8380fe78fe23dc212255df45e4b">reconcile_panel</a>;
<a name="l00125"></a>00125 
<a name="l00126"></a>00126 <span class="comment">/* contains the number of the last account</span>
<a name="l00127"></a>00127 <span class="comment"> * when switching between 2 accounts</span>
<a name="l00128"></a>00128 <span class="comment"> * at the end of the switch, contains the current account number */</span>
<a name="l00129"></a>00129 <span class="keyword">static</span> gint buffer_last_account = -1;
<a name="l00130"></a>00130 
<a name="l00131"></a>00131 
<a name="l00138"></a><a class="code" href="navigation_8h.html#a9213ab9c2e1f3d5d558517a5bac09a5b">00138</a> GtkWidget * <a class="code" href="navigation_8c.html#a9213ab9c2e1f3d5d558517a5bac09a5b">create_navigation_pane</a> ( <span class="keywordtype">void</span> )
<a name="l00139"></a>00139 {
<a name="l00140"></a>00140     GtkWidget * sw, *vbox;
<a name="l00141"></a>00141     GdkPixbuf * pixbuf;
<a name="l00142"></a>00142     GtkTreeIter iter, account_iter, reports_iter;
<a name="l00143"></a>00143     GtkCellRenderer * renderer;
<a name="l00144"></a>00144     GtkTreeDragDestIface * navigation_dst_iface;
<a name="l00145"></a>00145     GtkTreeDragSourceIface * navigation_src_iface;
<a name="l00146"></a>00146     GtkTreeViewColumn * column;
<a name="l00147"></a>00147         gchar* tmpstr;
<a name="l00148"></a>00148     <span class="keyword">static</span> GtkTargetEntry row_targets[] = {
<a name="l00149"></a>00149         { <span class="stringliteral">&quot;GTK_TREE_MODEL_ROW&quot;</span>, GTK_TARGET_SAME_WIDGET, 0 }
<a name="l00150"></a>00150     };
<a name="l00151"></a>00151 
<a name="l00152"></a>00152     vbox = gtk_vbox_new ( FALSE, 6 );
<a name="l00153"></a>00153 
<a name="l00154"></a>00154     sw = gtk_scrolled_window_new (NULL, NULL);
<a name="l00155"></a>00155     gtk_scrolled_window_set_shadow_type (GTK_SCROLLED_WINDOW (sw), GTK_SHADOW_ETCHED_IN);
<a name="l00156"></a>00156     gtk_scrolled_window_set_policy (GTK_SCROLLED_WINDOW (sw), GTK_POLICY_NEVER,
<a name="l00157"></a>00157                                     GTK_POLICY_AUTOMATIC);
<a name="l00158"></a>00158 
<a name="l00159"></a>00159     <span class="comment">/* Create the view */</span>
<a name="l00160"></a>00160     <a class="code" href="etats__config_8c.html#a1cd17e8b2fd91a191f8d5d6a7e5f6979">navigation_tree_view</a> = gtk_tree_view_new ();
<a name="l00161"></a>00161     gtk_tree_view_set_headers_visible ( GTK_TREE_VIEW(<a class="code" href="etats__config_8c.html#a1cd17e8b2fd91a191f8d5d6a7e5f6979">navigation_tree_view</a>), FALSE );
<a name="l00162"></a>00162     gtk_container_add ( GTK_CONTAINER(sw), <a class="code" href="etats__config_8c.html#a1cd17e8b2fd91a191f8d5d6a7e5f6979">navigation_tree_view</a> );
<a name="l00163"></a>00163 
<a name="l00164"></a>00164     <a class="code" href="menu_8c.html#af25f8dd6dec7eb5cb22b4a710e686d29">navigation_model</a> = GTK_TREE_MODEL (gtk_tree_store_new ( <a class="code" href="navigation_8h.html#a3f7cf16a5e5b276a8744f42496c2c441a21f3e1b489040eee5546d29c810275b4">NAVIGATION_TOTAL</a>, 
<a name="l00165"></a>00165                                                             GDK_TYPE_PIXBUF,
<a name="l00166"></a>00166                                                             G_TYPE_BOOLEAN, G_TYPE_STRING, 
<a name="l00167"></a>00167                                                             G_TYPE_INT, G_TYPE_INT, 
<a name="l00168"></a>00168                                                             G_TYPE_INT, G_TYPE_INT,
<a name="l00169"></a>00169                                                             G_TYPE_INT ));
<a name="l00170"></a>00170 
<a name="l00171"></a>00171     gtk_tree_sortable_set_sort_column_id ( GTK_TREE_SORTABLE(<a class="code" href="menu_8c.html#af25f8dd6dec7eb5cb22b4a710e686d29">navigation_model</a>),
<a name="l00172"></a>00172                                            <a class="code" href="navigation_8h.html#a3f7cf16a5e5b276a8744f42496c2c441ae2dcc16f7124d46c4bbd17a3f2162158">NAVIGATION_PAGE</a>, GTK_SORT_ASCENDING );
<a name="l00173"></a>00173     gtk_tree_sortable_set_sort_func ( GTK_TREE_SORTABLE(<a class="code" href="menu_8c.html#af25f8dd6dec7eb5cb22b4a710e686d29">navigation_model</a>), 
<a name="l00174"></a>00174                                       <a class="code" href="navigation_8h.html#a3f7cf16a5e5b276a8744f42496c2c441ae2dcc16f7124d46c4bbd17a3f2162158">NAVIGATION_PAGE</a>, navigation_sort_column,
<a name="l00175"></a>00175                                       NULL, NULL );
<a name="l00176"></a>00176 
<a name="l00177"></a>00177     <span class="comment">/* Enable drag &amp; drop */</span>
<a name="l00178"></a>00178     gtk_tree_view_enable_model_drag_source ( GTK_TREE_VIEW(<a class="code" href="etats__config_8c.html#a1cd17e8b2fd91a191f8d5d6a7e5f6979">navigation_tree_view</a>),
<a name="l00179"></a>00179                                              GDK_BUTTON1_MASK, row_targets, 1,
<a name="l00180"></a>00180                                              GDK_ACTION_MOVE | GDK_ACTION_COPY );
<a name="l00181"></a>00181     gtk_tree_view_enable_model_drag_dest ( GTK_TREE_VIEW(<a class="code" href="etats__config_8c.html#a1cd17e8b2fd91a191f8d5d6a7e5f6979">navigation_tree_view</a>), row_targets,
<a name="l00182"></a>00182                                            1, GDK_ACTION_MOVE | GDK_ACTION_COPY );
<a name="l00183"></a>00183     gtk_tree_view_set_reorderable ( GTK_TREE_VIEW(<a class="code" href="etats__config_8c.html#a1cd17e8b2fd91a191f8d5d6a7e5f6979">navigation_tree_view</a>), TRUE );
<a name="l00184"></a>00184     gtk_tree_selection_set_mode ( gtk_tree_view_get_selection ( GTK_TREE_VIEW(<a class="code" href="etats__config_8c.html#a1cd17e8b2fd91a191f8d5d6a7e5f6979">navigation_tree_view</a>)),
<a name="l00185"></a>00185                                   GTK_SELECTION_SINGLE );
<a name="l00186"></a>00186     gtk_tree_view_set_model ( GTK_TREE_VIEW(<a class="code" href="etats__config_8c.html#a1cd17e8b2fd91a191f8d5d6a7e5f6979">navigation_tree_view</a>), 
<a name="l00187"></a>00187                               GTK_TREE_MODEL(<a class="code" href="menu_8c.html#af25f8dd6dec7eb5cb22b4a710e686d29">navigation_model</a>) );
<a name="l00188"></a>00188 
<a name="l00189"></a>00189     <span class="comment">/* Handle drag &amp; drop */</span>
<a name="l00190"></a>00190     navigation_dst_iface = GTK_TREE_DRAG_DEST_GET_IFACE (<a class="code" href="menu_8c.html#af25f8dd6dec7eb5cb22b4a710e686d29">navigation_model</a>);
<a name="l00191"></a>00191     <span class="keywordflow">if</span> ( navigation_dst_iface )
<a name="l00192"></a>00192     {
<a name="l00193"></a>00193         navigation_dst_iface -&gt; drag_data_received = &amp;<a class="code" href="navigation_8c.html#a788a6af93e112548ce10da6c6c6cb9b6">navigation_drag_data_received</a>;
<a name="l00194"></a>00194         navigation_dst_iface -&gt; row_drop_possible = &amp;<a class="code" href="navigation_8c.html#adf246197990d5637d92d86667f1441fa">navigation_row_drop_possible</a>;
<a name="l00195"></a>00195     }
<a name="l00196"></a>00196 
<a name="l00197"></a>00197     navigation_src_iface = GTK_TREE_DRAG_SOURCE_GET_IFACE (<a class="code" href="menu_8c.html#af25f8dd6dec7eb5cb22b4a710e686d29">navigation_model</a>);
<a name="l00198"></a>00198     <span class="keywordflow">if</span> ( navigation_src_iface )
<a name="l00199"></a>00199     {
<a name="l00200"></a>00200         gtk_selection_add_target (<a class="code" href="etats__config_8c.html#a1cd17e8b2fd91a191f8d5d6a7e5f6979">navigation_tree_view</a>,
<a name="l00201"></a>00201                                   GDK_SELECTION_PRIMARY,
<a name="l00202"></a>00202                                   GDK_SELECTION_TYPE_ATOM,
<a name="l00203"></a>00203                                   1);
<a name="l00204"></a>00204         navigation_src_iface -&gt; drag_data_get = &amp;navigation_tree_drag_data_get;
<a name="l00205"></a>00205     }
<a name="l00206"></a>00206 
<a name="l00207"></a>00207     <span class="comment">/* check the keyboard before all, if we need to move other things that the navigation</span>
<a name="l00208"></a>00208 <span class="comment">     * tree view (for example, up and down on transactions list) */</span>
<a name="l00209"></a>00209     g_signal_connect ( <a class="code" href="etats__config_8c.html#a1cd17e8b2fd91a191f8d5d6a7e5f6979">navigation_tree_view</a>,
<a name="l00210"></a>00210                        <span class="stringliteral">&quot;key-press-event&quot;</span>, 
<a name="l00211"></a>00211                        G_CALLBACK (gsb_gui_navigation_check_key_press),
<a name="l00212"></a>00212                        <a class="code" href="menu_8c.html#af25f8dd6dec7eb5cb22b4a710e686d29">navigation_model</a>  );
<a name="l00213"></a>00213 
<a name="l00214"></a>00214     g_signal_connect_after (gtk_tree_view_get_selection (GTK_TREE_VIEW (<a class="code" href="etats__config_8c.html#a1cd17e8b2fd91a191f8d5d6a7e5f6979">navigation_tree_view</a>)), 
<a name="l00215"></a>00215                             <span class="stringliteral">&quot;changed&quot;</span>, 
<a name="l00216"></a>00216                             G_CALLBACK (gsb_gui_navigation_select_line),
<a name="l00217"></a>00217                             <a class="code" href="menu_8c.html#af25f8dd6dec7eb5cb22b4a710e686d29">navigation_model</a> );
<a name="l00218"></a>00218 
<a name="l00219"></a>00219     <span class="comment">/* Create column */</span>
<a name="l00220"></a>00220     column = gtk_tree_view_column_new ( );
<a name="l00221"></a>00221 
<a name="l00222"></a>00222     <span class="comment">/* Pixbuf renderer. */</span>
<a name="l00223"></a>00223     renderer = gtk_cell_renderer_pixbuf_new ();
<a name="l00224"></a>00224     gtk_tree_view_column_pack_start(GTK_TREE_VIEW_COLUMN(column), renderer, FALSE);
<a name="l00225"></a>00225     gtk_tree_view_column_add_attribute(GTK_TREE_VIEW_COLUMN(column), renderer, 
<a name="l00226"></a>00226                                        <span class="stringliteral">&quot;pixbuf&quot;</span>, <a class="code" href="navigation_8h.html#a3f7cf16a5e5b276a8744f42496c2c441ad2ccbb4a909304104e586cd3f5366a83">NAVIGATION_PIX</a>);
<a name="l00227"></a>00227     gtk_tree_view_column_add_attribute(GTK_TREE_VIEW_COLUMN(column), renderer, 
<a name="l00228"></a>00228                                        <span class="stringliteral">&quot;visible&quot;</span>, <a class="code" href="navigation_8h.html#a3f7cf16a5e5b276a8744f42496c2c441a9f4d8db6fde7f70ebc1386d471efbc88">NAVIGATION_PIX_VISIBLE</a>);
<a name="l00229"></a>00229     gtk_tree_view_column_set_expand ( column, FALSE );
<a name="l00230"></a>00230 
<a name="l00231"></a>00231     <span class="comment">/* Text renderer. */</span>
<a name="l00232"></a>00232     renderer = gtk_cell_renderer_text_new();
<a name="l00233"></a>00233     renderer -&gt; xpad = 6;
<a name="l00234"></a>00234     gtk_tree_view_column_pack_start(GTK_TREE_VIEW_COLUMN(column), renderer, TRUE);
<a name="l00235"></a>00235     gtk_tree_view_column_add_attribute(GTK_TREE_VIEW_COLUMN(column), renderer, 
<a name="l00236"></a>00236                                        <span class="stringliteral">&quot;text&quot;</span>, <a class="code" href="navigation_8h.html#a3f7cf16a5e5b276a8744f42496c2c441ae11b86b21ebda4d507e3e4723e32e600">NAVIGATION_TEXT</a>);
<a name="l00237"></a>00237     gtk_tree_view_column_add_attribute(GTK_TREE_VIEW_COLUMN(column), renderer, 
<a name="l00238"></a>00238                                        <span class="stringliteral">&quot;weight&quot;</span>, <a class="code" href="navigation_8h.html#a3f7cf16a5e5b276a8744f42496c2c441aef948e00303ccc97165983f994a9be1f">NAVIGATION_FONT</a>);
<a name="l00239"></a>00239     gtk_tree_view_column_add_attribute(GTK_TREE_VIEW_COLUMN(column), renderer, 
<a name="l00240"></a>00240                                        <span class="stringliteral">&quot;sensitive&quot;</span>, <a class="code" href="navigation_8h.html#a3f7cf16a5e5b276a8744f42496c2c441a1be64db2d46a60171ef2e51bf02712cc">NAVIGATION_SENSITIVE</a>);
<a name="l00241"></a>00241 
<a name="l00242"></a>00242     gtk_tree_view_append_column ( GTK_TREE_VIEW ( <a class="code" href="etats__config_8c.html#a1cd17e8b2fd91a191f8d5d6a7e5f6979">navigation_tree_view</a> ), 
<a name="l00243"></a>00243                                   GTK_TREE_VIEW_COLUMN ( column ) );
<a name="l00244"></a>00244     <span class="comment">/* Account list */</span>
<a name="l00245"></a>00245     tmpstr = g_build_filename ( PIXMAPS_DIR, <span class="stringliteral">&quot;ac_home.png&quot;</span>, NULL );
<a name="l00246"></a>00246     pixbuf = gdk_pixbuf_new_from_file ( tmpstr , NULL );
<a name="l00247"></a>00247     g_free ( tmpstr );
<a name="l00248"></a>00248     gtk_tree_store_append(GTK_TREE_STORE(<a class="code" href="menu_8c.html#af25f8dd6dec7eb5cb22b4a710e686d29">navigation_model</a>), &amp;account_iter, NULL);
<a name="l00249"></a>00249     gtk_tree_store_set(GTK_TREE_STORE(<a class="code" href="menu_8c.html#af25f8dd6dec7eb5cb22b4a710e686d29">navigation_model</a>), &amp;account_iter, 
<a name="l00250"></a>00250                        <a class="code" href="navigation_8h.html#a3f7cf16a5e5b276a8744f42496c2c441ad2ccbb4a909304104e586cd3f5366a83">NAVIGATION_PIX</a>, pixbuf,
<a name="l00251"></a>00251                        <a class="code" href="navigation_8h.html#a3f7cf16a5e5b276a8744f42496c2c441ae11b86b21ebda4d507e3e4723e32e600">NAVIGATION_TEXT</a>, _(<span class="stringliteral">&quot;Accounts&quot;</span>), 
<a name="l00252"></a>00252                        <a class="code" href="navigation_8h.html#a3f7cf16a5e5b276a8744f42496c2c441a9f4d8db6fde7f70ebc1386d471efbc88">NAVIGATION_PIX_VISIBLE</a>, TRUE, 
<a name="l00253"></a>00253                        <a class="code" href="navigation_8h.html#a3f7cf16a5e5b276a8744f42496c2c441aef948e00303ccc97165983f994a9be1f">NAVIGATION_FONT</a>, 800,
<a name="l00254"></a>00254                        <a class="code" href="navigation_8h.html#a3f7cf16a5e5b276a8744f42496c2c441ae2dcc16f7124d46c4bbd17a3f2162158">NAVIGATION_PAGE</a>, <a class="code" href="fenetre__principale_8h.html#a1667fdc1081851887c24c98c97d51767a014aa768e2bd5b6ec3653f5d92499817">GSB_HOME_PAGE</a>,
<a name="l00255"></a>00255                        <a class="code" href="navigation_8h.html#a3f7cf16a5e5b276a8744f42496c2c441a2bd700dd869e4529a09479b8e3a96cc6">NAVIGATION_ACCOUNT</a>, -1,
<a name="l00256"></a>00256                        <a class="code" href="navigation_8h.html#a3f7cf16a5e5b276a8744f42496c2c441ad1379924ed0ede2912107c9394a0ec0e">NAVIGATION_REPORT</a>, -1,
<a name="l00257"></a>00257                        <a class="code" href="navigation_8h.html#a3f7cf16a5e5b276a8744f42496c2c441a1be64db2d46a60171ef2e51bf02712cc">NAVIGATION_SENSITIVE</a>, 1,
<a name="l00258"></a>00258                        -1);
<a name="l00259"></a>00259     <a class="code" href="navigation_8c.html#a40d9073dbe6df6658ce1c5c45118cd22">create_account_list</a> ( GTK_TREE_MODEL(<a class="code" href="menu_8c.html#af25f8dd6dec7eb5cb22b4a710e686d29">navigation_model</a>) );
<a name="l00260"></a>00260 
<a name="l00261"></a>00261     <span class="comment">/* Scheduler */</span>
<a name="l00262"></a>00262     tmpstr = g_build_filename( PIXMAPS_DIR, <span class="stringliteral">&quot;scheduler.png&quot;</span>, NULL );
<a name="l00263"></a>00263     pixbuf = gdk_pixbuf_new_from_file ( tmpstr , NULL );
<a name="l00264"></a>00264     g_free ( tmpstr );
<a name="l00265"></a>00265     gtk_tree_store_append(GTK_TREE_STORE(<a class="code" href="menu_8c.html#af25f8dd6dec7eb5cb22b4a710e686d29">navigation_model</a>), &amp;iter, NULL);
<a name="l00266"></a>00266     gtk_tree_store_set(GTK_TREE_STORE(<a class="code" href="menu_8c.html#af25f8dd6dec7eb5cb22b4a710e686d29">navigation_model</a>), &amp;iter, 
<a name="l00267"></a>00267                        <a class="code" href="navigation_8h.html#a3f7cf16a5e5b276a8744f42496c2c441ad2ccbb4a909304104e586cd3f5366a83">NAVIGATION_PIX</a>, pixbuf,
<a name="l00268"></a>00268                        <a class="code" href="navigation_8h.html#a3f7cf16a5e5b276a8744f42496c2c441ae11b86b21ebda4d507e3e4723e32e600">NAVIGATION_TEXT</a>, _(<span class="stringliteral">&quot;Scheduler&quot;</span>), 
<a name="l00269"></a>00269                        <a class="code" href="navigation_8h.html#a3f7cf16a5e5b276a8744f42496c2c441a9f4d8db6fde7f70ebc1386d471efbc88">NAVIGATION_PIX_VISIBLE</a>, TRUE, 
<a name="l00270"></a>00270                        <a class="code" href="navigation_8h.html#a3f7cf16a5e5b276a8744f42496c2c441aef948e00303ccc97165983f994a9be1f">NAVIGATION_FONT</a>, 800,
<a name="l00271"></a>00271                        <a class="code" href="navigation_8h.html#a3f7cf16a5e5b276a8744f42496c2c441ae2dcc16f7124d46c4bbd17a3f2162158">NAVIGATION_PAGE</a>, <a class="code" href="fenetre__principale_8h.html#a1667fdc1081851887c24c98c97d51767abcbf0d210d0e459dd61aeb38b8a94a34">GSB_SCHEDULER_PAGE</a>,
<a name="l00272"></a>00272                        <a class="code" href="navigation_8h.html#a3f7cf16a5e5b276a8744f42496c2c441a2bd700dd869e4529a09479b8e3a96cc6">NAVIGATION_ACCOUNT</a>, -1,
<a name="l00273"></a>00273                        <a class="code" href="navigation_8h.html#a3f7cf16a5e5b276a8744f42496c2c441ad1379924ed0ede2912107c9394a0ec0e">NAVIGATION_REPORT</a>, -1,
<a name="l00274"></a>00274                        <a class="code" href="navigation_8h.html#a3f7cf16a5e5b276a8744f42496c2c441a1be64db2d46a60171ef2e51bf02712cc">NAVIGATION_SENSITIVE</a>, 1,
<a name="l00275"></a>00275                        -1 );
<a name="l00276"></a>00276 
<a name="l00277"></a>00277     <span class="comment">/* Payees */</span>
<a name="l00278"></a>00278     tmpstr =  g_build_filename( PIXMAPS_DIR, <span class="stringliteral">&quot;payees.png&quot;</span>, NULL );
<a name="l00279"></a>00279     pixbuf = gdk_pixbuf_new_from_file ( tmpstr , NULL );
<a name="l00280"></a>00280     g_free ( tmpstr );
<a name="l00281"></a>00281     gtk_tree_store_append(GTK_TREE_STORE(<a class="code" href="menu_8c.html#af25f8dd6dec7eb5cb22b4a710e686d29">navigation_model</a>), &amp;iter, NULL);
<a name="l00282"></a>00282     gtk_tree_store_set(GTK_TREE_STORE(<a class="code" href="menu_8c.html#af25f8dd6dec7eb5cb22b4a710e686d29">navigation_model</a>), &amp;iter, 
<a name="l00283"></a>00283                        <a class="code" href="navigation_8h.html#a3f7cf16a5e5b276a8744f42496c2c441ad2ccbb4a909304104e586cd3f5366a83">NAVIGATION_PIX</a>, pixbuf,
<a name="l00284"></a>00284                        <a class="code" href="navigation_8h.html#a3f7cf16a5e5b276a8744f42496c2c441ae11b86b21ebda4d507e3e4723e32e600">NAVIGATION_TEXT</a>, _(<span class="stringliteral">&quot;Payees&quot;</span>), 
<a name="l00285"></a>00285                        <a class="code" href="navigation_8h.html#a3f7cf16a5e5b276a8744f42496c2c441a9f4d8db6fde7f70ebc1386d471efbc88">NAVIGATION_PIX_VISIBLE</a>, TRUE, 
<a name="l00286"></a>00286                        <a class="code" href="navigation_8h.html#a3f7cf16a5e5b276a8744f42496c2c441aef948e00303ccc97165983f994a9be1f">NAVIGATION_FONT</a>, 800,
<a name="l00287"></a>00287                        <a class="code" href="navigation_8h.html#a3f7cf16a5e5b276a8744f42496c2c441ae2dcc16f7124d46c4bbd17a3f2162158">NAVIGATION_PAGE</a>, <a class="code" href="fenetre__principale_8h.html#a1667fdc1081851887c24c98c97d51767a6dc88978e0efdce656c83f10ff02354d">GSB_PAYEES_PAGE</a>,
<a name="l00288"></a>00288                        <a class="code" href="navigation_8h.html#a3f7cf16a5e5b276a8744f42496c2c441a2bd700dd869e4529a09479b8e3a96cc6">NAVIGATION_ACCOUNT</a>, -1,
<a name="l00289"></a>00289                        <a class="code" href="navigation_8h.html#a3f7cf16a5e5b276a8744f42496c2c441ad1379924ed0ede2912107c9394a0ec0e">NAVIGATION_REPORT</a>, -1,
<a name="l00290"></a>00290                        <a class="code" href="navigation_8h.html#a3f7cf16a5e5b276a8744f42496c2c441a1be64db2d46a60171ef2e51bf02712cc">NAVIGATION_SENSITIVE</a>, 1,
<a name="l00291"></a>00291                        -1 );
<a name="l00292"></a>00292 
<a name="l00293"></a>00293     <span class="comment">/* Credits simulator */</span>
<a name="l00294"></a>00294     tmpstr = g_build_filename( PIXMAPS_DIR, <span class="stringliteral">&quot;ac_liability.png&quot;</span>, NULL );
<a name="l00295"></a>00295     pixbuf = gdk_pixbuf_new_from_file ( tmpstr , NULL );
<a name="l00296"></a>00296     g_free ( tmpstr );
<a name="l00297"></a>00297     gtk_tree_store_append(GTK_TREE_STORE(<a class="code" href="menu_8c.html#af25f8dd6dec7eb5cb22b4a710e686d29">navigation_model</a>), &amp;iter, NULL);
<a name="l00298"></a>00298     gtk_tree_store_set(GTK_TREE_STORE(<a class="code" href="menu_8c.html#af25f8dd6dec7eb5cb22b4a710e686d29">navigation_model</a>), &amp;iter, 
<a name="l00299"></a>00299                        <a class="code" href="navigation_8h.html#a3f7cf16a5e5b276a8744f42496c2c441ad2ccbb4a909304104e586cd3f5366a83">NAVIGATION_PIX</a>, pixbuf,
<a name="l00300"></a>00300                        <a class="code" href="navigation_8h.html#a3f7cf16a5e5b276a8744f42496c2c441ae11b86b21ebda4d507e3e4723e32e600">NAVIGATION_TEXT</a>, _(<span class="stringliteral">&quot;Credits simulator&quot;</span>), 
<a name="l00301"></a>00301                        <a class="code" href="navigation_8h.html#a3f7cf16a5e5b276a8744f42496c2c441a9f4d8db6fde7f70ebc1386d471efbc88">NAVIGATION_PIX_VISIBLE</a>, TRUE, 
<a name="l00302"></a>00302                        <a class="code" href="navigation_8h.html#a3f7cf16a5e5b276a8744f42496c2c441aef948e00303ccc97165983f994a9be1f">NAVIGATION_FONT</a>, 800,
<a name="l00303"></a>00303                        <a class="code" href="navigation_8h.html#a3f7cf16a5e5b276a8744f42496c2c441ae2dcc16f7124d46c4bbd17a3f2162158">NAVIGATION_PAGE</a>, <a class="code" href="fenetre__principale_8h.html#a1667fdc1081851887c24c98c97d51767adcd7b89fa96cd8c96461d50946a1b82b">GSB_GENERAL_FINANCIAL_PAGE</a>,
<a name="l00304"></a>00304                        <a class="code" href="navigation_8h.html#a3f7cf16a5e5b276a8744f42496c2c441a2bd700dd869e4529a09479b8e3a96cc6">NAVIGATION_ACCOUNT</a>, -1,
<a name="l00305"></a>00305                        <a class="code" href="navigation_8h.html#a3f7cf16a5e5b276a8744f42496c2c441ad1379924ed0ede2912107c9394a0ec0e">NAVIGATION_REPORT</a>, -1,
<a name="l00306"></a>00306                        <a class="code" href="navigation_8h.html#a3f7cf16a5e5b276a8744f42496c2c441a1be64db2d46a60171ef2e51bf02712cc">NAVIGATION_SENSITIVE</a>, 1,
<a name="l00307"></a>00307                        -1 );
<a name="l00308"></a>00308 
<a name="l00309"></a>00309     <span class="comment">/* Categories */</span>
<a name="l00310"></a>00310     tmpstr = g_build_filename( PIXMAPS_DIR, <span class="stringliteral">&quot;categories.png&quot;</span>, NULL );
<a name="l00311"></a>00311     pixbuf = gdk_pixbuf_new_from_file ( tmpstr , NULL );
<a name="l00312"></a>00312     g_free ( tmpstr );
<a name="l00313"></a>00313     gtk_tree_store_append(GTK_TREE_STORE(<a class="code" href="menu_8c.html#af25f8dd6dec7eb5cb22b4a710e686d29">navigation_model</a>), &amp;iter, NULL);
<a name="l00314"></a>00314     gtk_tree_store_set(GTK_TREE_STORE(<a class="code" href="menu_8c.html#af25f8dd6dec7eb5cb22b4a710e686d29">navigation_model</a>), &amp;iter, 
<a name="l00315"></a>00315                        <a class="code" href="navigation_8h.html#a3f7cf16a5e5b276a8744f42496c2c441ad2ccbb4a909304104e586cd3f5366a83">NAVIGATION_PIX</a>, pixbuf,
<a name="l00316"></a>00316                        <a class="code" href="navigation_8h.html#a3f7cf16a5e5b276a8744f42496c2c441ae11b86b21ebda4d507e3e4723e32e600">NAVIGATION_TEXT</a>, _(<span class="stringliteral">&quot;Categories&quot;</span>), 
<a name="l00317"></a>00317                        <a class="code" href="navigation_8h.html#a3f7cf16a5e5b276a8744f42496c2c441a9f4d8db6fde7f70ebc1386d471efbc88">NAVIGATION_PIX_VISIBLE</a>, TRUE, 
<a name="l00318"></a>00318                        <a class="code" href="navigation_8h.html#a3f7cf16a5e5b276a8744f42496c2c441aef948e00303ccc97165983f994a9be1f">NAVIGATION_FONT</a>, 800,
<a name="l00319"></a>00319                        <a class="code" href="navigation_8h.html#a3f7cf16a5e5b276a8744f42496c2c441ae2dcc16f7124d46c4bbd17a3f2162158">NAVIGATION_PAGE</a>, <a class="code" href="fenetre__principale_8h.html#a1667fdc1081851887c24c98c97d51767aff0a64cd360ddbad895f5aa65a6ac476">GSB_CATEGORIES_PAGE</a>,
<a name="l00320"></a>00320                        <a class="code" href="navigation_8h.html#a3f7cf16a5e5b276a8744f42496c2c441a2bd700dd869e4529a09479b8e3a96cc6">NAVIGATION_ACCOUNT</a>, -1,
<a name="l00321"></a>00321                        <a class="code" href="navigation_8h.html#a3f7cf16a5e5b276a8744f42496c2c441ad1379924ed0ede2912107c9394a0ec0e">NAVIGATION_REPORT</a>, -1,
<a name="l00322"></a>00322                        <a class="code" href="navigation_8h.html#a3f7cf16a5e5b276a8744f42496c2c441a1be64db2d46a60171ef2e51bf02712cc">NAVIGATION_SENSITIVE</a>, 1,
<a name="l00323"></a>00323                        -1 );
<a name="l00324"></a>00324 
<a name="l00325"></a>00325     <span class="comment">/* Budgetary lines */</span>
<a name="l00326"></a>00326     tmpstr = g_build_filename( PIXMAPS_DIR, <span class="stringliteral">&quot;budgetary_lines.png&quot;</span>, NULL );
<a name="l00327"></a>00327     pixbuf = gdk_pixbuf_new_from_file ( tmpstr , NULL );
<a name="l00328"></a>00328     g_free ( tmpstr );
<a name="l00329"></a>00329     gtk_tree_store_append(GTK_TREE_STORE(<a class="code" href="menu_8c.html#af25f8dd6dec7eb5cb22b4a710e686d29">navigation_model</a>), &amp;iter, NULL);
<a name="l00330"></a>00330     gtk_tree_store_set(GTK_TREE_STORE(<a class="code" href="menu_8c.html#af25f8dd6dec7eb5cb22b4a710e686d29">navigation_model</a>), &amp;iter, 
<a name="l00331"></a>00331                        <a class="code" href="navigation_8h.html#a3f7cf16a5e5b276a8744f42496c2c441ad2ccbb4a909304104e586cd3f5366a83">NAVIGATION_PIX</a>, pixbuf,
<a name="l00332"></a>00332                        <a class="code" href="navigation_8h.html#a3f7cf16a5e5b276a8744f42496c2c441ae11b86b21ebda4d507e3e4723e32e600">NAVIGATION_TEXT</a>, _(<span class="stringliteral">&quot;Budgetary lines&quot;</span>), 
<a name="l00333"></a>00333                        <a class="code" href="navigation_8h.html#a3f7cf16a5e5b276a8744f42496c2c441a9f4d8db6fde7f70ebc1386d471efbc88">NAVIGATION_PIX_VISIBLE</a>, TRUE, 
<a name="l00334"></a>00334                        <a class="code" href="navigation_8h.html#a3f7cf16a5e5b276a8744f42496c2c441aef948e00303ccc97165983f994a9be1f">NAVIGATION_FONT</a>, 800,
<a name="l00335"></a>00335                        <a class="code" href="navigation_8h.html#a3f7cf16a5e5b276a8744f42496c2c441ae2dcc16f7124d46c4bbd17a3f2162158">NAVIGATION_PAGE</a>, <a class="code" href="fenetre__principale_8h.html#a1667fdc1081851887c24c98c97d51767a7697bb5eef5749ac8e9f5c0103f00b98">GSB_BUDGETARY_LINES_PAGE</a>,
<a name="l00336"></a>00336                        <a class="code" href="navigation_8h.html#a3f7cf16a5e5b276a8744f42496c2c441a2bd700dd869e4529a09479b8e3a96cc6">NAVIGATION_ACCOUNT</a>, -1,
<a name="l00337"></a>00337                        <a class="code" href="navigation_8h.html#a3f7cf16a5e5b276a8744f42496c2c441ad1379924ed0ede2912107c9394a0ec0e">NAVIGATION_REPORT</a>, -1,
<a name="l00338"></a>00338                        <a class="code" href="navigation_8h.html#a3f7cf16a5e5b276a8744f42496c2c441a1be64db2d46a60171ef2e51bf02712cc">NAVIGATION_SENSITIVE</a>, 1,
<a name="l00339"></a>00339                        -1 );
<a name="l00340"></a>00340 
<a name="l00341"></a>00341     <span class="comment">/* Reports */</span>
<a name="l00342"></a>00342     tmpstr = g_build_filename( PIXMAPS_DIR, <span class="stringliteral">&quot;reports.png&quot;</span>, NULL );
<a name="l00343"></a>00343     pixbuf = gdk_pixbuf_new_from_file ( tmpstr , NULL );
<a name="l00344"></a>00344     g_free ( tmpstr );
<a name="l00345"></a>00345     gtk_tree_store_append(GTK_TREE_STORE(<a class="code" href="menu_8c.html#af25f8dd6dec7eb5cb22b4a710e686d29">navigation_model</a>), &amp;reports_iter, NULL);
<a name="l00346"></a>00346     gtk_tree_store_set(GTK_TREE_STORE(<a class="code" href="menu_8c.html#af25f8dd6dec7eb5cb22b4a710e686d29">navigation_model</a>), &amp;reports_iter, 
<a name="l00347"></a>00347                        <a class="code" href="navigation_8h.html#a3f7cf16a5e5b276a8744f42496c2c441ad2ccbb4a909304104e586cd3f5366a83">NAVIGATION_PIX</a>, pixbuf,
<a name="l00348"></a>00348                        <a class="code" href="navigation_8h.html#a3f7cf16a5e5b276a8744f42496c2c441ae11b86b21ebda4d507e3e4723e32e600">NAVIGATION_TEXT</a>, _(<span class="stringliteral">&quot;Reports&quot;</span>), 
<a name="l00349"></a>00349                        <a class="code" href="navigation_8h.html#a3f7cf16a5e5b276a8744f42496c2c441a9f4d8db6fde7f70ebc1386d471efbc88">NAVIGATION_PIX_VISIBLE</a>, TRUE, 
<a name="l00350"></a>00350                        <a class="code" href="navigation_8h.html#a3f7cf16a5e5b276a8744f42496c2c441aef948e00303ccc97165983f994a9be1f">NAVIGATION_FONT</a>, 800,
<a name="l00351"></a>00351                        <a class="code" href="navigation_8h.html#a3f7cf16a5e5b276a8744f42496c2c441ae2dcc16f7124d46c4bbd17a3f2162158">NAVIGATION_PAGE</a>, <a class="code" href="fenetre__principale_8h.html#a1667fdc1081851887c24c98c97d51767a45e7a3ecc5d1c0d580104fd50516fdb9">GSB_REPORTS_PAGE</a>,
<a name="l00352"></a>00352                        <a class="code" href="navigation_8h.html#a3f7cf16a5e5b276a8744f42496c2c441a2bd700dd869e4529a09479b8e3a96cc6">NAVIGATION_ACCOUNT</a>, -1,
<a name="l00353"></a>00353                        <a class="code" href="navigation_8h.html#a3f7cf16a5e5b276a8744f42496c2c441ad1379924ed0ede2912107c9394a0ec0e">NAVIGATION_REPORT</a>, -1,
<a name="l00354"></a>00354                        <a class="code" href="navigation_8h.html#a3f7cf16a5e5b276a8744f42496c2c441a1be64db2d46a60171ef2e51bf02712cc">NAVIGATION_SENSITIVE</a>, 1,
<a name="l00355"></a>00355                        -1 );
<a name="l00356"></a>00356     create_report_list ( GTK_TREE_MODEL(<a class="code" href="menu_8c.html#af25f8dd6dec7eb5cb22b4a710e686d29">navigation_model</a>), &amp;reports_iter );
<a name="l00357"></a>00357 
<a name="l00358"></a>00358     <span class="comment">/* Finish tree. */</span>
<a name="l00359"></a>00359     <span class="comment">/* gtk_tree_view_expand_all ( GTK_TREE_VIEW(navigation_tree_view) ); */</span>
<a name="l00360"></a>00360     gtk_box_pack_start ( GTK_BOX(vbox), sw, TRUE, TRUE, 0 );
<a name="l00361"></a>00361 
<a name="l00362"></a>00362     <span class="comment">/* Create calendar (hidden for now). */</span>
<a name="l00363"></a>00363     scheduler_calendar = <a class="code" href="gsb__calendar_8c.html#aec6d02bd75e77dbd63dbb3b1120fdf6b">gsb_calendar_new</a> ();
<a name="l00364"></a>00364     gtk_box_pack_end ( GTK_BOX(vbox), scheduler_calendar, FALSE, FALSE, 0 );
<a name="l00365"></a>00365 
<a name="l00366"></a>00366     <span class="comment">/* Create reconcile stuff (hidden for now). */</span>
<a name="l00367"></a>00367     <a class="code" href="gsb__reconcile_8c.html#a0356c8380fe78fe23dc212255df45e4b">reconcile_panel</a> = <a class="code" href="gsb__reconcile_8c.html#a0a935736f287cf69e6339d44fd1e2260">gsb_reconcile_create_box</a> ();
<a name="l00368"></a>00368     gtk_box_pack_end ( GTK_BOX(vbox), <a class="code" href="gsb__reconcile_8c.html#a0356c8380fe78fe23dc212255df45e4b">reconcile_panel</a>, FALSE, FALSE, 0 );
<a name="l00369"></a>00369 
<a name="l00370"></a>00370     gtk_widget_show_all ( vbox );
<a name="l00371"></a>00371     gtk_widget_hide_all ( scheduler_calendar );
<a name="l00372"></a>00372     gtk_widget_hide_all ( <a class="code" href="gsb__reconcile_8c.html#a0356c8380fe78fe23dc212255df45e4b">reconcile_panel</a> );
<a name="l00373"></a>00373 
<a name="l00374"></a>00374     <span class="keywordflow">return</span> vbox;
<a name="l00375"></a>00375 }
<a name="l00376"></a>00376 
<a name="l00377"></a>00377 
<a name="l00378"></a>00378 
<a name="l00388"></a><a class="code" href="navigation_8h.html#a06fa2882a164439e56e780c2127cd22c">00388</a> gint <a class="code" href="navigation_8c.html#a06fa2882a164439e56e780c2127cd22c">gsb_gui_navigation_get_current_page</a> ( <span class="keywordtype">void</span> )
<a name="l00389"></a>00389 {
<a name="l00390"></a>00390     GtkTreeSelection *selection;
<a name="l00391"></a>00391     GtkTreeIter iter;
<a name="l00392"></a>00392     gint page;
<a name="l00393"></a>00393 
<a name="l00394"></a>00394     <span class="keywordflow">if</span> (!<a class="code" href="etats__config_8c.html#a1cd17e8b2fd91a191f8d5d6a7e5f6979">navigation_tree_view</a>)
<a name="l00395"></a>00395         <span class="keywordflow">return</span> -1;
<a name="l00396"></a>00396 
<a name="l00397"></a>00397     selection = gtk_tree_view_get_selection (GTK_TREE_VIEW (<a class="code" href="etats__config_8c.html#a1cd17e8b2fd91a191f8d5d6a7e5f6979">navigation_tree_view</a>));
<a name="l00398"></a>00398 
<a name="l00399"></a>00399     <span class="keywordflow">if</span> (!gtk_tree_selection_get_selected (selection, NULL, &amp;iter))
<a name="l00400"></a>00400         <span class="keywordflow">return</span> <a class="code" href="fenetre__principale_8h.html#a1667fdc1081851887c24c98c97d51767a014aa768e2bd5b6ec3653f5d92499817">GSB_HOME_PAGE</a>;
<a name="l00401"></a>00401 
<a name="l00402"></a>00402     gtk_tree_model_get ( GTK_TREE_MODEL (<a class="code" href="menu_8c.html#af25f8dd6dec7eb5cb22b4a710e686d29">navigation_model</a>),
<a name="l00403"></a>00403                          &amp;iter,
<a name="l00404"></a>00404                          <a class="code" href="navigation_8h.html#a3f7cf16a5e5b276a8744f42496c2c441ae2dcc16f7124d46c4bbd17a3f2162158">NAVIGATION_PAGE</a>, &amp;page,
<a name="l00405"></a>00405                          -1);
<a name="l00406"></a>00406     <span class="keywordflow">return</span> page;
<a name="l00407"></a>00407 }
<a name="l00408"></a>00408 
<a name="l00409"></a>00409 
<a name="l00410"></a>00410 
<a name="l00421"></a><a class="code" href="navigation_8h.html#a3b668bf52ce71dcff3ea10c9db7be859">00421</a> gint <a class="code" href="navigation_8c.html#a3b668bf52ce71dcff3ea10c9db7be859">gsb_gui_navigation_get_current_account</a> ( <span class="keywordtype">void</span> )
<a name="l00422"></a>00422 {
<a name="l00423"></a>00423     GtkTreeSelection *selection;
<a name="l00424"></a>00424     GtkTreeIter iter;
<a name="l00425"></a>00425     gint page;
<a name="l00426"></a>00426 
<a name="l00427"></a>00427     <span class="keywordflow">if</span> ( !<a class="code" href="etats__config_8c.html#a1cd17e8b2fd91a191f8d5d6a7e5f6979">navigation_tree_view</a> )
<a name="l00428"></a>00428         <span class="keywordflow">return</span> -1;
<a name="l00429"></a>00429 
<a name="l00430"></a>00430     selection = gtk_tree_view_get_selection (GTK_TREE_VIEW (<a class="code" href="etats__config_8c.html#a1cd17e8b2fd91a191f8d5d6a7e5f6979">navigation_tree_view</a>));
<a name="l00431"></a>00431 
<a name="l00432"></a>00432     <span class="keywordflow">if</span> (! gtk_tree_selection_get_selected (selection, NULL, &amp;iter))
<a name="l00433"></a>00433         <span class="keywordflow">return</span> -1;
<a name="l00434"></a>00434 
<a name="l00435"></a>00435     gtk_tree_model_get ( GTK_TREE_MODEL (<a class="code" href="menu_8c.html#af25f8dd6dec7eb5cb22b4a710e686d29">navigation_model</a>),
<a name="l00436"></a>00436                          &amp;iter,
<a name="l00437"></a>00437                          <a class="code" href="navigation_8h.html#a3f7cf16a5e5b276a8744f42496c2c441ae2dcc16f7124d46c4bbd17a3f2162158">NAVIGATION_PAGE</a>, &amp;page,
<a name="l00438"></a>00438                          -1);
<a name="l00439"></a>00439     
<a name="l00440"></a>00440     <span class="keywordflow">if</span> ( page == <a class="code" href="fenetre__principale_8h.html#a1667fdc1081851887c24c98c97d51767aa0842b1ab75cc108643f94f240f11905">GSB_ACCOUNT_PAGE</a> )
<a name="l00441"></a>00441     {
<a name="l00442"></a>00442         gint account_number;
<a name="l00443"></a>00443         gtk_tree_model_get (GTK_TREE_MODEL(<a class="code" href="menu_8c.html#af25f8dd6dec7eb5cb22b4a710e686d29">navigation_model</a>), &amp;iter, <a class="code" href="navigation_8h.html#a3f7cf16a5e5b276a8744f42496c2c441a2bd700dd869e4529a09479b8e3a96cc6">NAVIGATION_ACCOUNT</a>, &amp;account_number, -1);
<a name="l00444"></a>00444 
<a name="l00445"></a>00445         <span class="keywordflow">return</span> account_number;
<a name="l00446"></a>00446     }
<a name="l00447"></a>00447     <span class="keywordflow">return</span> -1;
<a name="l00448"></a>00448 }
<a name="l00449"></a>00449 
<a name="l00450"></a>00450 
<a name="l00451"></a>00451 <span class="comment">/*</span>
<a name="l00452"></a>00452 <span class="comment"> * return the content of buffer_last_account</span>
<a name="l00453"></a>00453 <span class="comment"> * used while changing an account, as long as the work</span>
<a name="l00454"></a>00454 <span class="comment"> * is not finished, that variable contains the last account number</span>
<a name="l00455"></a>00455 <span class="comment"> *</span>
<a name="l00456"></a>00456 <span class="comment"> * \param</span>
<a name="l00457"></a>00457 <span class="comment"> *</span>
<a name="l00458"></a>00458 <span class="comment"> * \return the last account number (become the current account number once the</span>
<a name="l00459"></a>00459 <span class="comment"> *              switch is finished...)</span>
<a name="l00460"></a>00460 <span class="comment"> * </span>
<a name="l00461"></a>00461 <span class="comment"> * */</span>
<a name="l00462"></a><a class="code" href="navigation_8h.html#ad804dac7f03dd7f66ba7e0d43aa84165">00462</a> gint <a class="code" href="navigation_8c.html#ad804dac7f03dd7f66ba7e0d43aa84165">gsb_gui_navigation_get_last_account</a> ( <span class="keywordtype">void</span> )
<a name="l00463"></a>00463 {
<a name="l00464"></a>00464     <span class="keywordflow">return</span> buffer_last_account;
<a name="l00465"></a>00465 }
<a name="l00466"></a>00466 
<a name="l00467"></a>00467 
<a name="l00475"></a><a class="code" href="navigation_8h.html#aef700722a199569003341a41144ee004">00475</a> gint <a class="code" href="navigation_8c.html#aef700722a199569003341a41144ee004">gsb_gui_navigation_get_current_report</a> ( <span class="keywordtype">void</span> )
<a name="l00476"></a>00476 {
<a name="l00477"></a>00477     GtkTreeSelection *selection;
<a name="l00478"></a>00478     GtkTreeIter iter;
<a name="l00479"></a>00479     gint page;
<a name="l00480"></a>00480 
<a name="l00481"></a>00481     <span class="keywordflow">if</span> ( ! <a class="code" href="etats__config_8c.html#a1cd17e8b2fd91a191f8d5d6a7e5f6979">navigation_tree_view</a> )
<a name="l00482"></a>00482     {
<a name="l00483"></a>00483         <span class="keywordflow">return</span> 0;
<a name="l00484"></a>00484     }
<a name="l00485"></a>00485 
<a name="l00486"></a>00486     selection = gtk_tree_view_get_selection (GTK_TREE_VIEW (<a class="code" href="etats__config_8c.html#a1cd17e8b2fd91a191f8d5d6a7e5f6979">navigation_tree_view</a>));
<a name="l00487"></a>00487 
<a name="l00488"></a>00488     <span class="keywordflow">if</span> (! gtk_tree_selection_get_selected (selection, NULL, &amp;iter))
<a name="l00489"></a>00489         <span class="keywordflow">return</span> 0;
<a name="l00490"></a>00490 
<a name="l00491"></a>00491     gtk_tree_model_get ( GTK_TREE_MODEL (<a class="code" href="menu_8c.html#af25f8dd6dec7eb5cb22b4a710e686d29">navigation_model</a>),
<a name="l00492"></a>00492                          &amp;iter,
<a name="l00493"></a>00493                          <a class="code" href="navigation_8h.html#a3f7cf16a5e5b276a8744f42496c2c441ae2dcc16f7124d46c4bbd17a3f2162158">NAVIGATION_PAGE</a>, &amp;page,
<a name="l00494"></a>00494                          -1);
<a name="l00495"></a>00495     
<a name="l00496"></a>00496     <span class="keywordflow">if</span> ( page == <a class="code" href="fenetre__principale_8h.html#a1667fdc1081851887c24c98c97d51767a45e7a3ecc5d1c0d580104fd50516fdb9">GSB_REPORTS_PAGE</a>)
<a name="l00497"></a>00497     {
<a name="l00498"></a>00498         gint report_number;
<a name="l00499"></a>00499         gtk_tree_model_get (GTK_TREE_MODEL(<a class="code" href="menu_8c.html#af25f8dd6dec7eb5cb22b4a710e686d29">navigation_model</a>), &amp;iter, <a class="code" href="navigation_8h.html#a3f7cf16a5e5b276a8744f42496c2c441ad1379924ed0ede2912107c9394a0ec0e">NAVIGATION_REPORT</a>, &amp;report_number, -1);
<a name="l00500"></a>00500 
<a name="l00501"></a>00501         <span class="keywordflow">return</span> report_number;
<a name="l00502"></a>00502     }
<a name="l00503"></a>00503 
<a name="l00504"></a>00504     <span class="keywordflow">return</span> -1;
<a name="l00505"></a>00505 }
<a name="l00506"></a>00506 
<a name="l00507"></a>00507 
<a name="l00508"></a>00508 
<a name="l00509"></a>00509 
<a name="l00516"></a><a class="code" href="navigation_8h.html#a40d9073dbe6df6658ce1c5c45118cd22">00516</a> <span class="keywordtype">void</span> <a class="code" href="navigation_8c.html#a40d9073dbe6df6658ce1c5c45118cd22">create_account_list</a> ( GtkTreeModel * model )
<a name="l00517"></a>00517 {
<a name="l00518"></a>00518     GSList *list_tmp;
<a name="l00519"></a>00519     GtkTreeIter parent, child;
<a name="l00520"></a>00520     GtkTreePath * path;
<a name="l00521"></a>00521 
<a name="l00522"></a>00522     gtk_tree_model_get_iter_first ( GTK_TREE_MODEL(<a class="code" href="menu_8c.html#af25f8dd6dec7eb5cb22b4a710e686d29">navigation_model</a>), &amp;parent );
<a name="l00523"></a>00523 
<a name="l00524"></a>00524     <span class="comment">/* Remove childs if any. */</span>
<a name="l00525"></a>00525     <span class="keywordflow">while</span> ( gtk_tree_model_iter_children ( model, &amp;child, &amp;parent ) )
<a name="l00526"></a>00526     {
<a name="l00527"></a>00527         gtk_tree_store_remove ( GTK_TREE_STORE(model), &amp;child );
<a name="l00528"></a>00528     }
<a name="l00529"></a>00529 
<a name="l00530"></a>00530     <span class="comment">/* Fill in with accounts. */</span>
<a name="l00531"></a>00531     list_tmp = <a class="code" href="gsb__data__account_8c.html#aaf4d25733c7ea5a0ca263c0ab79e6212">gsb_data_account_get_list_accounts</a> ();
<a name="l00532"></a>00532     <span class="keywordflow">while</span> ( list_tmp )
<a name="l00533"></a>00533     {
<a name="l00534"></a>00534         gint i = <a class="code" href="gsb__data__account_8c.html#ad61190b4638c2be7b7ce320470f1cb5a">gsb_data_account_get_no_account</a> ( list_tmp -&gt; data );
<a name="l00535"></a>00535 
<a name="l00536"></a>00536         <span class="keywordflow">if</span> ( <a class="code" href="parametres_8c.html#ab2a744f5d2124688473d13979420e911">etat</a>.<a class="code" href="structgsb__etat__t.html#a2bc8b82e44468eaed090b64ef81956f1">show_closed_accounts</a> || 
<a name="l00537"></a>00537              ! <a class="code" href="gsb__data__account_8c.html#a7d4574a01587e19f2c0ed06c6328cb41">gsb_data_account_get_closed_account</a> ( i ) )
<a name="l00538"></a>00538         {
<a name="l00539"></a>00539             <a class="code" href="navigation_8c.html#acc4cb91805c595677dcc822498171ece">gsb_gui_navigation_add_account</a> ( i, FALSE );
<a name="l00540"></a>00540         }
<a name="l00541"></a>00541 
<a name="l00542"></a>00542         list_tmp = list_tmp -&gt; next;
<a name="l00543"></a>00543     }
<a name="l00544"></a>00544 
<a name="l00545"></a>00545     <span class="comment">/* Expand stuff */</span>
<a name="l00546"></a>00546     path = gtk_tree_model_get_path ( GTK_TREE_MODEL(<a class="code" href="menu_8c.html#af25f8dd6dec7eb5cb22b4a710e686d29">navigation_model</a>), &amp;parent );
<a name="l00547"></a>00547     gtk_tree_view_expand_to_path ( GTK_TREE_VIEW(<a class="code" href="etats__config_8c.html#a1cd17e8b2fd91a191f8d5d6a7e5f6979">navigation_tree_view</a>), path );
<a name="l00548"></a>00548     gtk_tree_path_free ( path );
<a name="l00549"></a>00549 }
<a name="l00550"></a>00550 
<a name="l00551"></a>00551 
<a name="l00552"></a>00552 
<a name="l00559"></a>00559 <span class="keywordtype">void</span> create_report_list ( GtkTreeModel * model, GtkTreeIter * reports_iter )
<a name="l00560"></a>00560 {
<a name="l00561"></a>00561     GSList *tmp_list;
<a name="l00562"></a>00562     GtkTreeIter iter;
<a name="l00563"></a>00563 
<a name="l00564"></a>00564     <span class="comment">/* Fill in with reports */</span>
<a name="l00565"></a>00565     
<a name="l00566"></a>00566     tmp_list = <a class="code" href="gsb__data__report_8c.html#a7a55a8189e9f34c587309954e2acbfb7">gsb_data_report_get_report_list</a> ();
<a name="l00567"></a>00567 
<a name="l00568"></a>00568     <span class="keywordflow">while</span> ( tmp_list )
<a name="l00569"></a>00569     {
<a name="l00570"></a>00570         gint report_number;
<a name="l00571"></a>00571 
<a name="l00572"></a>00572         report_number = <a class="code" href="gsb__data__report_8c.html#ac2414893a361047cb656ac7a26247907">gsb_data_report_get_report_number</a> (tmp_list -&gt; data);
<a name="l00573"></a>00573 
<a name="l00574"></a>00574         gtk_tree_store_append(GTK_TREE_STORE(model), &amp;iter, reports_iter);
<a name="l00575"></a>00575         gtk_tree_store_set(GTK_TREE_STORE(model), &amp;iter, 
<a name="l00576"></a>00576                            <a class="code" href="navigation_8h.html#a3f7cf16a5e5b276a8744f42496c2c441a9f4d8db6fde7f70ebc1386d471efbc88">NAVIGATION_PIX_VISIBLE</a>, FALSE, 
<a name="l00577"></a>00577                            <a class="code" href="navigation_8h.html#a3f7cf16a5e5b276a8744f42496c2c441ae11b86b21ebda4d507e3e4723e32e600">NAVIGATION_TEXT</a>, <a class="code" href="gsb__data__report_8c.html#ace8a87d303afdf89ef8f3a901987db83">gsb_data_report_get_report_name</a> (report_number),
<a name="l00578"></a>00578                            <a class="code" href="navigation_8h.html#a3f7cf16a5e5b276a8744f42496c2c441aef948e00303ccc97165983f994a9be1f">NAVIGATION_FONT</a>, 400,
<a name="l00579"></a>00579                            <a class="code" href="navigation_8h.html#a3f7cf16a5e5b276a8744f42496c2c441ae2dcc16f7124d46c4bbd17a3f2162158">NAVIGATION_PAGE</a>, <a class="code" href="fenetre__principale_8h.html#a1667fdc1081851887c24c98c97d51767a45e7a3ecc5d1c0d580104fd50516fdb9">GSB_REPORTS_PAGE</a>,
<a name="l00580"></a>00580                            <a class="code" href="navigation_8h.html#a3f7cf16a5e5b276a8744f42496c2c441a2bd700dd869e4529a09479b8e3a96cc6">NAVIGATION_ACCOUNT</a>, -1,
<a name="l00581"></a>00581                            <a class="code" href="navigation_8h.html#a3f7cf16a5e5b276a8744f42496c2c441a1be64db2d46a60171ef2e51bf02712cc">NAVIGATION_SENSITIVE</a>, 1,
<a name="l00582"></a>00582                            <a class="code" href="navigation_8h.html#a3f7cf16a5e5b276a8744f42496c2c441ad1379924ed0ede2912107c9394a0ec0e">NAVIGATION_REPORT</a>, report_number,
<a name="l00583"></a>00583                            -1 );
<a name="l00584"></a>00584         
<a name="l00585"></a>00585         tmp_list = tmp_list -&gt; next;
<a name="l00586"></a>00586     }
<a name="l00587"></a>00587 }
<a name="l00588"></a>00588 
<a name="l00589"></a>00589 
<a name="l00590"></a>00590 
<a name="l00591"></a>00591 
<a name="l00597"></a>00597 gboolean navigation_sort_column ( GtkTreeModel * model, 
<a name="l00598"></a>00598                         GtkTreeIter * a, GtkTreeIter * b, 
<a name="l00599"></a>00599                         gpointer user_data )
<a name="l00600"></a>00600 {
<a name="l00601"></a>00601     gint page_a, page_b, account_a, account_b, report_a, report_b;
<a name="l00602"></a>00602 
<a name="l00603"></a>00603     <span class="keywordflow">if</span> ( ! model )
<a name="l00604"></a>00604         <span class="keywordflow">return</span> FALSE;
<a name="l00605"></a>00605 
<a name="l00606"></a>00606     gtk_tree_model_get ( model, a, 
<a name="l00607"></a>00607                          <a class="code" href="navigation_8h.html#a3f7cf16a5e5b276a8744f42496c2c441ae2dcc16f7124d46c4bbd17a3f2162158">NAVIGATION_PAGE</a>, &amp;page_a,
<a name="l00608"></a>00608                          <a class="code" href="navigation_8h.html#a3f7cf16a5e5b276a8744f42496c2c441a2bd700dd869e4529a09479b8e3a96cc6">NAVIGATION_ACCOUNT</a>, &amp;account_a,
<a name="l00609"></a>00609                          <a class="code" href="navigation_8h.html#a3f7cf16a5e5b276a8744f42496c2c441ad1379924ed0ede2912107c9394a0ec0e">NAVIGATION_REPORT</a>, &amp;report_a,
<a name="l00610"></a>00610                          -1 );
<a name="l00611"></a>00611 
<a name="l00612"></a>00612     gtk_tree_model_get ( model, b, 
<a name="l00613"></a>00613                          <a class="code" href="navigation_8h.html#a3f7cf16a5e5b276a8744f42496c2c441ae2dcc16f7124d46c4bbd17a3f2162158">NAVIGATION_PAGE</a>, &amp;page_b,
<a name="l00614"></a>00614                          <a class="code" href="navigation_8h.html#a3f7cf16a5e5b276a8744f42496c2c441a2bd700dd869e4529a09479b8e3a96cc6">NAVIGATION_ACCOUNT</a>, &amp;account_b,
<a name="l00615"></a>00615                          <a class="code" href="navigation_8h.html#a3f7cf16a5e5b276a8744f42496c2c441ad1379924ed0ede2912107c9394a0ec0e">NAVIGATION_REPORT</a>, &amp;report_b,
<a name="l00616"></a>00616                          -1 );
<a name="l00617"></a>00617 
<a name="l00618"></a>00618     <span class="keywordflow">if</span> ( page_a == <a class="code" href="fenetre__principale_8h.html#a1667fdc1081851887c24c98c97d51767aa0842b1ab75cc108643f94f240f11905">GSB_ACCOUNT_PAGE</a> &amp;&amp; page_b == <a class="code" href="fenetre__principale_8h.html#a1667fdc1081851887c24c98c97d51767aa0842b1ab75cc108643f94f240f11905">GSB_ACCOUNT_PAGE</a> )
<a name="l00619"></a>00619     {
<a name="l00620"></a>00620         <span class="keywordflow">return</span> <a class="code" href="gsb__data__account_8c.html#a2b5b8b346c956ef75d642ad5aa124fc7">gsb_data_account_compare_position</a> (account_a, account_b);
<a name="l00621"></a>00621     }
<a name="l00622"></a>00622     <span class="keywordflow">else</span> <span class="keywordflow">if</span> ( page_a == <a class="code" href="fenetre__principale_8h.html#a1667fdc1081851887c24c98c97d51767a45e7a3ecc5d1c0d580104fd50516fdb9">GSB_REPORTS_PAGE</a> &amp;&amp; page_b == <a class="code" href="fenetre__principale_8h.html#a1667fdc1081851887c24c98c97d51767a45e7a3ecc5d1c0d580104fd50516fdb9">GSB_REPORTS_PAGE</a> )
<a name="l00623"></a>00623     {
<a name="l00624"></a>00624         <span class="keywordflow">return</span> <a class="code" href="gsb__data__report_8c.html#abda2daaf9f14fc7414cca3095ea38b54">gsb_data_report_compare_position</a> (report_a, report_b);
<a name="l00625"></a>00625     }
<a name="l00626"></a>00626     <span class="keywordflow">else</span>
<a name="l00627"></a>00627     {
<a name="l00628"></a>00628         <span class="keywordflow">if</span> ( page_a == page_b )
<a name="l00629"></a>00629         {
<a name="l00630"></a>00630             <span class="keywordflow">return</span> 0;
<a name="l00631"></a>00631         }
<a name="l00632"></a>00632         <span class="keywordflow">if</span> ( page_a &lt; page_b )
<a name="l00633"></a>00633         {
<a name="l00634"></a>00634             <span class="keywordflow">return</span> -1;
<a name="l00635"></a>00635         }
<a name="l00636"></a>00636         <span class="keywordflow">return</span> 1;
<a name="l00637"></a>00637     }
<a name="l00638"></a>00638 }
<a name="l00639"></a>00639 
<a name="l00640"></a>00640 
<a name="l00641"></a>00641 
<a name="l00642"></a>00642 
<a name="l00643"></a>00643 
<a name="l00656"></a>00656 <span class="keyword">static</span> gboolean gsb_gui_navigation_update_account_iterator ( GtkTreeModel * tree_model, 
<a name="l00657"></a>00657                         GtkTreePath *path, 
<a name="l00658"></a>00658                         GtkTreeIter *iter, 
<a name="l00659"></a>00659                         gpointer data )
<a name="l00660"></a>00660 {
<a name="l00661"></a>00661     gint account_number;
<a name="l00662"></a>00662 
<a name="l00663"></a>00663     gtk_tree_model_get ( GTK_TREE_MODEL ( tree_model ), iter,
<a name="l00664"></a>00664                          <a class="code" href="navigation_8h.html#a3f7cf16a5e5b276a8744f42496c2c441a2bd700dd869e4529a09479b8e3a96cc6">NAVIGATION_ACCOUNT</a>, &amp;account_number, 
<a name="l00665"></a>00665                          -1 );
<a name="l00666"></a>00666 
<a name="l00667"></a>00667     <span class="keywordflow">if</span> ( account_number == GPOINTER_TO_INT ( data ) )
<a name="l00668"></a>00668     {
<a name="l00669"></a>00669         gsb_gui_navigation_update_account_iter ( tree_model, iter, GPOINTER_TO_INT(data) );
<a name="l00670"></a>00670         <span class="keywordflow">return</span> TRUE;
<a name="l00671"></a>00671     }
<a name="l00672"></a>00672 
<a name="l00673"></a>00673     <span class="keywordflow">return</span> FALSE;
<a name="l00674"></a>00674 }
<a name="l00675"></a>00675 
<a name="l00676"></a>00676 
<a name="l00677"></a>00677 
<a name="l00690"></a>00690 <span class="keyword">static</span> gboolean gsb_gui_navigation_update_report_iterator ( GtkTreeModel * tree_model, 
<a name="l00691"></a>00691                         GtkTreePath *path, 
<a name="l00692"></a>00692                         GtkTreeIter *iter, 
<a name="l00693"></a>00693                         gpointer data )
<a name="l00694"></a>00694 {
<a name="l00695"></a>00695     gint report_nb;
<a name="l00696"></a>00696 
<a name="l00697"></a>00697     gtk_tree_model_get ( GTK_TREE_MODEL ( tree_model ), iter,
<a name="l00698"></a>00698                          <a class="code" href="navigation_8h.html#a3f7cf16a5e5b276a8744f42496c2c441ad1379924ed0ede2912107c9394a0ec0e">NAVIGATION_REPORT</a>, &amp;report_nb, 
<a name="l00699"></a>00699                          -1 );
<a name="l00700"></a>00700 
<a name="l00701"></a>00701     <span class="keywordflow">if</span> ( report_nb == GPOINTER_TO_INT ( data ) )
<a name="l00702"></a>00702     {
<a name="l00703"></a>00703         gsb_gui_navigation_update_report_iter ( tree_model, iter, GPOINTER_TO_INT ( data ));
<a name="l00704"></a>00704         <span class="keywordflow">return</span> TRUE;
<a name="l00705"></a>00705     }
<a name="l00706"></a>00706 
<a name="l00707"></a>00707     <span class="keywordflow">return</span> FALSE;
<a name="l00708"></a>00708 }
<a name="l00709"></a>00709 
<a name="l00710"></a>00710 
<a name="l00711"></a>00711 
<a name="l00717"></a><a class="code" href="navigation_8h.html#adbca6d230d0584e10054913fbce3caf1">00717</a> <span class="keywordtype">void</span> <a class="code" href="navigation_8c.html#adbca6d230d0584e10054913fbce3caf1">gsb_gui_navigation_update_report</a> ( gint report_number ) 
<a name="l00718"></a>00718 {
<a name="l00719"></a>00719     gtk_tree_model_foreach ( GTK_TREE_MODEL(<a class="code" href="menu_8c.html#af25f8dd6dec7eb5cb22b4a710e686d29">navigation_model</a>),
<a name="l00720"></a>00720                              (GtkTreeModelForeachFunc) gsb_gui_navigation_update_report_iterator,
<a name="l00721"></a>00721                              GINT_TO_POINTER ( report_number ) );
<a name="l00722"></a>00722 }
<a name="l00723"></a>00723 
<a name="l00724"></a>00724 
<a name="l00725"></a>00725 
<a name="l00733"></a>00733 <span class="keywordtype">void</span> gsb_gui_navigation_update_report_iter ( GtkTreeModel * model, 
<a name="l00734"></a>00734                         GtkTreeIter * report_iter,
<a name="l00735"></a>00735                         gint report_number )
<a name="l00736"></a>00736 {
<a name="l00737"></a>00737     gtk_tree_store_set(GTK_TREE_STORE(model), report_iter, 
<a name="l00738"></a>00738                        <a class="code" href="navigation_8h.html#a3f7cf16a5e5b276a8744f42496c2c441ae11b86b21ebda4d507e3e4723e32e600">NAVIGATION_TEXT</a>, <a class="code" href="gsb__data__report_8c.html#ace8a87d303afdf89ef8f3a901987db83">gsb_data_report_get_report_name</a> (report_number), 
<a name="l00739"></a>00739                        <a class="code" href="navigation_8h.html#a3f7cf16a5e5b276a8744f42496c2c441ae2dcc16f7124d46c4bbd17a3f2162158">NAVIGATION_PAGE</a>, <a class="code" href="fenetre__principale_8h.html#a1667fdc1081851887c24c98c97d51767a45e7a3ecc5d1c0d580104fd50516fdb9">GSB_REPORTS_PAGE</a>,
<a name="l00740"></a>00740                        <a class="code" href="navigation_8h.html#a3f7cf16a5e5b276a8744f42496c2c441ad1379924ed0ede2912107c9394a0ec0e">NAVIGATION_REPORT</a>, report_number,
<a name="l00741"></a>00741                        <a class="code" href="navigation_8h.html#a3f7cf16a5e5b276a8744f42496c2c441a2bd700dd869e4529a09479b8e3a96cc6">NAVIGATION_ACCOUNT</a>, -1,
<a name="l00742"></a>00742                        <a class="code" href="navigation_8h.html#a3f7cf16a5e5b276a8744f42496c2c441a1be64db2d46a60171ef2e51bf02712cc">NAVIGATION_SENSITIVE</a>, 1,
<a name="l00743"></a>00743                        -1 );
<a name="l00744"></a>00744 }
<a name="l00745"></a>00745 
<a name="l00746"></a>00746 
<a name="l00747"></a>00747 
<a name="l00760"></a>00760 <span class="keyword">static</span> gboolean gsb_gui_navigation_remove_report_iterator ( GtkTreeModel * tree_model, 
<a name="l00761"></a>00761                         GtkTreePath *path, 
<a name="l00762"></a>00762                         GtkTreeIter *iter, 
<a name="l00763"></a>00763                         gpointer data )
<a name="l00764"></a>00764 {
<a name="l00765"></a>00765     gint report;
<a name="l00766"></a>00766 
<a name="l00767"></a>00767     gtk_tree_model_get ( GTK_TREE_MODEL ( tree_model ), iter,
<a name="l00768"></a>00768                          <a class="code" href="navigation_8h.html#a3f7cf16a5e5b276a8744f42496c2c441ad1379924ed0ede2912107c9394a0ec0e">NAVIGATION_REPORT</a>, &amp;report, 
<a name="l00769"></a>00769                          -1 );
<a name="l00770"></a>00770 
<a name="l00771"></a>00771     <span class="keywordflow">if</span> ( report == GPOINTER_TO_INT (data))
<a name="l00772"></a>00772     {
<a name="l00773"></a>00773         gtk_tree_store_remove ( GTK_TREE_STORE(tree_model), iter );
<a name="l00774"></a>00774         <span class="keywordflow">return</span> TRUE;
<a name="l00775"></a>00775     }
<a name="l00776"></a>00776 
<a name="l00777"></a>00777     <span class="keywordflow">return</span> FALSE;
<a name="l00778"></a>00778 }
<a name="l00779"></a>00779 
<a name="l00780"></a>00780 
<a name="l00781"></a>00781 
<a name="l00787"></a><a class="code" href="navigation_8h.html#a6c19e82e10a0dd98a3a20290a3a873ec">00787</a> <span class="keywordtype">void</span> <a class="code" href="navigation_8c.html#a6c19e82e10a0dd98a3a20290a3a873ec">gsb_gui_navigation_add_report</a> ( gint report_number )
<a name="l00788"></a>00788 {
<a name="l00789"></a>00789     GtkTreeIter parent, iter;
<a name="l00790"></a>00790     GtkTreeSelection * selection;
<a name="l00791"></a>00791     GtkTreePath * path;
<a name="l00792"></a>00792 
<a name="l00793"></a>00793     path = gtk_tree_path_new ();
<a name="l00794"></a>00794     gtk_tree_path_prepend_index ( path, <a class="code" href="fenetre__principale_8h.html#a1667fdc1081851887c24c98c97d51767a45e7a3ecc5d1c0d580104fd50516fdb9">GSB_REPORTS_PAGE</a> - 1 );
<a name="l00795"></a>00795     gtk_tree_model_get_iter ( GTK_TREE_MODEL(<a class="code" href="menu_8c.html#af25f8dd6dec7eb5cb22b4a710e686d29">navigation_model</a>), &amp;parent, path );
<a name="l00796"></a>00796     gtk_tree_store_append ( GTK_TREE_STORE(<a class="code" href="menu_8c.html#af25f8dd6dec7eb5cb22b4a710e686d29">navigation_model</a>), &amp;iter, &amp;parent );
<a name="l00797"></a>00797     gtk_tree_view_expand_to_path ( GTK_TREE_VIEW(<a class="code" href="etats__config_8c.html#a1cd17e8b2fd91a191f8d5d6a7e5f6979">navigation_tree_view</a>), path );
<a name="l00798"></a>00798 
<a name="l00799"></a>00799     gsb_gui_navigation_update_report_iter ( GTK_TREE_MODEL(<a class="code" href="menu_8c.html#af25f8dd6dec7eb5cb22b4a710e686d29">navigation_model</a>), &amp;iter, 
<a name="l00800"></a>00800                                             report_number );    
<a name="l00801"></a>00801 
<a name="l00802"></a>00802     selection = gtk_tree_view_get_selection ( GTK_TREE_VIEW(<a class="code" href="etats__config_8c.html#a1cd17e8b2fd91a191f8d5d6a7e5f6979">navigation_tree_view</a>) );
<a name="l00803"></a>00803     gtk_tree_selection_select_iter ( selection, &amp;iter );
<a name="l00804"></a>00804 }
<a name="l00805"></a>00805 
<a name="l00806"></a>00806 
<a name="l00807"></a>00807 
<a name="l00813"></a><a class="code" href="navigation_8h.html#a8a6328e785b95ea6e2ee4163e6c71edc">00813</a> <span class="keywordtype">void</span> <a class="code" href="navigation_8c.html#a8a6328e785b95ea6e2ee4163e6c71edc">gsb_gui_navigation_remove_report</a> ( gint report_number )
<a name="l00814"></a>00814 {
<a name="l00815"></a>00815     gtk_tree_model_foreach ( GTK_TREE_MODEL(<a class="code" href="menu_8c.html#af25f8dd6dec7eb5cb22b4a710e686d29">navigation_model</a>), 
<a name="l00816"></a>00816                              (GtkTreeModelForeachFunc) gsb_gui_navigation_remove_report_iterator, 
<a name="l00817"></a>00817                              GINT_TO_POINTER ( report_number ) );
<a name="l00818"></a>00818 }
<a name="l00819"></a>00819 
<a name="l00820"></a>00820 
<a name="l00821"></a>00821 
<a name="l00827"></a><a class="code" href="navigation_8h.html#adcd317bee4b886a4eafb93112f65042e">00827</a> <span class="keywordtype">void</span> <a class="code" href="navigation_8c.html#adcd317bee4b886a4eafb93112f65042e">gsb_gui_navigation_update_account</a> ( gint account_number )
<a name="l00828"></a>00828 {
<a name="l00829"></a>00829     gtk_tree_model_foreach ( GTK_TREE_MODEL(<a class="code" href="menu_8c.html#af25f8dd6dec7eb5cb22b4a710e686d29">navigation_model</a>), 
<a name="l00830"></a>00830                              (GtkTreeModelForeachFunc) gsb_gui_navigation_update_account_iterator, 
<a name="l00831"></a>00831                              GINT_TO_POINTER ( account_number ) );
<a name="l00832"></a>00832 }
<a name="l00833"></a>00833 
<a name="l00834"></a>00834 
<a name="l00835"></a>00835 
<a name="l00843"></a>00843 <span class="keywordtype">void</span> gsb_gui_navigation_update_account_iter ( GtkTreeModel * model, 
<a name="l00844"></a>00844                         GtkTreeIter * account_iter,
<a name="l00845"></a>00845                         gint account_number )
<a name="l00846"></a>00846 {
<a name="l00847"></a>00847     GdkPixbuf * pixbuf = NULL;
<a name="l00848"></a>00848 
<a name="l00849"></a>00849     pixbuf = <a class="code" href="gsb__data__account_8c.html#aaa0221671e5695b63f6803d76128eee4">gsb_data_account_get_account_icon_pixbuf</a> ( account_number );
<a name="l00850"></a>00850 
<a name="l00851"></a>00851     gtk_tree_store_set(GTK_TREE_STORE(model), account_iter, 
<a name="l00852"></a>00852                        <a class="code" href="navigation_8h.html#a3f7cf16a5e5b276a8744f42496c2c441ad2ccbb4a909304104e586cd3f5366a83">NAVIGATION_PIX</a>, pixbuf,
<a name="l00853"></a>00853                        <a class="code" href="navigation_8h.html#a3f7cf16a5e5b276a8744f42496c2c441a9f4d8db6fde7f70ebc1386d471efbc88">NAVIGATION_PIX_VISIBLE</a>, TRUE, 
<a name="l00854"></a>00854                        <a class="code" href="navigation_8h.html#a3f7cf16a5e5b276a8744f42496c2c441ae11b86b21ebda4d507e3e4723e32e600">NAVIGATION_TEXT</a>, <a class="code" href="gsb__data__account_8c.html#a6b0df19868e38619bff512f2c18ef51e">gsb_data_account_get_name</a> ( account_number ), 
<a name="l00855"></a>00855                        <a class="code" href="navigation_8h.html#a3f7cf16a5e5b276a8744f42496c2c441aef948e00303ccc97165983f994a9be1f">NAVIGATION_FONT</a>, 400,
<a name="l00856"></a>00856                        <a class="code" href="navigation_8h.html#a3f7cf16a5e5b276a8744f42496c2c441ae2dcc16f7124d46c4bbd17a3f2162158">NAVIGATION_PAGE</a>, <a class="code" href="fenetre__principale_8h.html#a1667fdc1081851887c24c98c97d51767aa0842b1ab75cc108643f94f240f11905">GSB_ACCOUNT_PAGE</a>,
<a name="l00857"></a>00857                        <a class="code" href="navigation_8h.html#a3f7cf16a5e5b276a8744f42496c2c441a2bd700dd869e4529a09479b8e3a96cc6">NAVIGATION_ACCOUNT</a>, account_number,
<a name="l00858"></a>00858                        <a class="code" href="navigation_8h.html#a3f7cf16a5e5b276a8744f42496c2c441a1be64db2d46a60171ef2e51bf02712cc">NAVIGATION_SENSITIVE</a>, !<a class="code" href="gsb__data__account_8c.html#a7d4574a01587e19f2c0ed06c6328cb41">gsb_data_account_get_closed_account</a> ( account_number ),
<a name="l00859"></a>00859                        <a class="code" href="navigation_8h.html#a3f7cf16a5e5b276a8744f42496c2c441ad1379924ed0ede2912107c9394a0ec0e">NAVIGATION_REPORT</a>, -1,
<a name="l00860"></a>00860                        -1 );
<a name="l00861"></a>00861 }
<a name="l00862"></a>00862 
<a name="l00863"></a>00863 
<a name="l00864"></a>00864 
<a name="l00877"></a>00877 <span class="keyword">static</span> gboolean gsb_gui_navigation_remove_account_iterator ( GtkTreeModel * tree_model, 
<a name="l00878"></a>00878                         GtkTreePath *path, 
<a name="l00879"></a>00879                         GtkTreeIter *iter, 
<a name="l00880"></a>00880                         gpointer data )
<a name="l00881"></a>00881 {
<a name="l00882"></a>00882     gint account_number;
<a name="l00883"></a>00883 
<a name="l00884"></a>00884     gtk_tree_model_get ( GTK_TREE_MODEL ( tree_model ), iter,
<a name="l00885"></a>00885                          <a class="code" href="navigation_8h.html#a3f7cf16a5e5b276a8744f42496c2c441a2bd700dd869e4529a09479b8e3a96cc6">NAVIGATION_ACCOUNT</a>, &amp;account_number, 
<a name="l00886"></a>00886                          -1 );
<a name="l00887"></a>00887 
<a name="l00888"></a>00888     <span class="keywordflow">if</span> ( account_number == GPOINTER_TO_INT ( data ) )
<a name="l00889"></a>00889     {
<a name="l00890"></a>00890         gtk_tree_store_remove ( GTK_TREE_STORE(tree_model), iter );
<a name="l00891"></a>00891         <span class="keywordflow">return</span> TRUE;
<a name="l00892"></a>00892     }
<a name="l00893"></a>00893 
<a name="l00894"></a>00894     <span class="keywordflow">return</span> FALSE;
<a name="l00895"></a>00895 }
<a name="l00896"></a>00896 
<a name="l00897"></a>00897 
<a name="l00898"></a>00898 
<a name="l00905"></a><a class="code" href="navigation_8h.html#acc4cb91805c595677dcc822498171ece">00905</a> <span class="keywordtype">void</span> <a class="code" href="navigation_8c.html#acc4cb91805c595677dcc822498171ece">gsb_gui_navigation_add_account</a> ( gint account_number,
<a name="l00906"></a>00906                         gboolean switch_to_account )
<a name="l00907"></a>00907 {
<a name="l00908"></a>00908     GtkTreeIter parent, iter;
<a name="l00909"></a>00909 
<a name="l00910"></a>00910     gtk_tree_model_get_iter_first ( GTK_TREE_MODEL(<a class="code" href="menu_8c.html#af25f8dd6dec7eb5cb22b4a710e686d29">navigation_model</a>), &amp;parent );
<a name="l00911"></a>00911     gtk_tree_store_append ( GTK_TREE_STORE(<a class="code" href="menu_8c.html#af25f8dd6dec7eb5cb22b4a710e686d29">navigation_model</a>), &amp;iter, &amp;parent );
<a name="l00912"></a>00912 
<a name="l00913"></a>00913     gsb_gui_navigation_update_account_iter ( GTK_TREE_MODEL(<a class="code" href="menu_8c.html#af25f8dd6dec7eb5cb22b4a710e686d29">navigation_model</a>), &amp;iter, account_number );    
<a name="l00914"></a>00914 
<a name="l00915"></a>00915     <span class="keywordflow">if</span> (switch_to_account)
<a name="l00916"></a>00916     {
<a name="l00917"></a>00917         GtkTreeSelection * selection;
<a name="l00918"></a>00918 
<a name="l00919"></a>00919         selection = gtk_tree_view_get_selection ( GTK_TREE_VIEW(<a class="code" href="etats__config_8c.html#a1cd17e8b2fd91a191f8d5d6a7e5f6979">navigation_tree_view</a>) );
<a name="l00920"></a>00920         gtk_tree_selection_select_iter ( selection, &amp;iter );
<a name="l00921"></a>00921     }
<a name="l00922"></a>00922 }
<a name="l00923"></a>00923 
<a name="l00924"></a>00924 
<a name="l00925"></a>00925 
<a name="l00933"></a><a class="code" href="navigation_8h.html#a610fc35ca64e7ce4e22dd7e8cb59549f">00933</a> gboolean <a class="code" href="navigation_8c.html#a610fc35ca64e7ce4e22dd7e8cb59549f">navigation_change_account</a> ( gint *no_account )
<a name="l00934"></a>00934 {
<a name="l00935"></a>00935     gint new_account;
<a name="l00936"></a>00936     gint current_account;
<a name="l00937"></a>00937 
<a name="l00938"></a>00938     new_account = GPOINTER_TO_INT ( no_account );
<a name="l00939"></a>00939     <a class="code" href="erreur_8h.html#a10f4eeae4cc251a8d632fd62ec1057fb">devel_debug_int</a> (new_account);
<a name="l00940"></a>00940 
<a name="l00941"></a>00941     <span class="keywordflow">if</span> ( new_account &lt; 0 )
<a name="l00942"></a>00942         <span class="keywordflow">return</span> FALSE;
<a name="l00943"></a>00943 
<a name="l00944"></a>00944     <span class="comment">/* the selection on the navigation bar has already changed, so</span>
<a name="l00945"></a>00945 <span class="comment">     * have to use a buffer variable to get the last account */</span>
<a name="l00946"></a>00946     current_account = <a class="code" href="navigation_8c.html#ad804dac7f03dd7f66ba7e0d43aa84165">gsb_gui_navigation_get_last_account</a> ();
<a name="l00947"></a>00947 
<a name="l00948"></a>00948     <span class="comment">/* sensitive the last account in the menu */</span>
<a name="l00949"></a>00949     <a class="code" href="menu_8c.html#ad3557028823b3fd30c4d7367b698d2e2">gsb_gui_sensitive_menu_item</a> ( <span class="stringliteral">&quot;EditMenu&quot;</span>, <span class="stringliteral">&quot;MoveToAnotherAccount&quot;</span>, 
<a name="l00950"></a>00950                                   <a class="code" href="gsb__data__account_8c.html#a6b0df19868e38619bff512f2c18ef51e">gsb_data_account_get_name</a> (current_account),
<a name="l00951"></a>00951                                   TRUE );
<a name="l00952"></a>00952     <a class="code" href="menu_8c.html#ad3557028823b3fd30c4d7367b698d2e2">gsb_gui_sensitive_menu_item</a> ( <span class="stringliteral">&quot;EditMenu&quot;</span>, <span class="stringliteral">&quot;NewTransaction&quot;</span>, NULL, TRUE );
<a name="l00953"></a>00953 
<a name="l00954"></a>00954     <span class="comment">/* save the row_align of the last account */</span>
<a name="l00955"></a>00955     <a class="code" href="gsb__data__account_8c.html#af12f5cc96384f24ce3fba5d684a39a23">gsb_data_account_set_row_align</a> ( current_account,
<a name="l00956"></a>00956                                      <a class="code" href="gsb__transactions__list_8c.html#aaae69a76295b86b7baace98ce4066738">gsb_transactions_list_get_row_align</a> ( ) );
<a name="l00957"></a>00957 
<a name="l00958"></a>00958     <span class="comment">/* set the appearance of the list according to the new account */</span>
<a name="l00959"></a>00959     <a class="code" href="transaction__list__sort_8c.html#ad124c81fa4121869ac23b1e67a96a9d2">transaction_list_sort_set_column</a> ( <a class="code" href="gsb__data__account_8c.html#affc711f565e08ad4062076cb11d7730f">gsb_data_account_get_sort_column</a> (new_account ),
<a name="l00960"></a>00960                                       <a class="code" href="gsb__data__account_8c.html#a241abfc115b880dab53eabba773be190">gsb_data_account_get_sort_type</a> ( new_account ) );
<a name="l00961"></a>00961     <a class="code" href="gsb__transactions__list_8c.html#ab7d08f59bcf7149edda9db47e67333a4">gsb_transactions_list_update_tree_view</a> ( new_account, FALSE );
<a name="l00962"></a>00962     <a class="code" href="transaction__list__select_8c.html#a85f38a439156b883335de73220dca237">transaction_list_select</a> ( <a class="code" href="gsb__data__account_8c.html#a6596a8dca0eaab412a036d23cb51a5b0">gsb_data_account_get_current_transaction_number</a> ( new_account ) );
<a name="l00963"></a>00963     <a class="code" href="gsb__transactions__list_8c.html#a6de9b44e088a49d4d6328209a24443c2">gsb_transactions_list_set_row_align</a> ( <a class="code" href="gsb__data__account_8c.html#a75dc6695fb51d7bf593466063b413ab3">gsb_data_account_get_row_align</a> ( new_account ) );
<a name="l00964"></a>00964 
<a name="l00965"></a>00965     <span class="comment">/* mise en place de la date du dernier relevé */</span>
<a name="l00966"></a>00966     <a class="code" href="navigation_8c.html#a342b7c00db1370b25971fbc56df7b02e">gsb_navigation_update_statement_label</a> ( new_account );
<a name="l00967"></a>00967 
<a name="l00968"></a>00968     <a class="code" href="menu_8c.html#ad3557028823b3fd30c4d7367b698d2e2">gsb_gui_sensitive_menu_item</a> ( <span class="stringliteral">&quot;EditMenu&quot;</span>, <span class="stringliteral">&quot;MoveToAnotherAccount&quot;</span>, 
<a name="l00969"></a>00969                                   <a class="code" href="gsb__data__account_8c.html#a6b0df19868e38619bff512f2c18ef51e">gsb_data_account_get_name</a> ( new_account ),
<a name="l00970"></a>00970                                   FALSE );
<a name="l00971"></a>00971 
<a name="l00972"></a>00972     <span class="comment">/* Sensitive menu items if something is selected. */</span>
<a name="l00973"></a>00973     <span class="keywordflow">if</span> ( <a class="code" href="gsb__data__account_8c.html#a6596a8dca0eaab412a036d23cb51a5b0">gsb_data_account_get_current_transaction_number</a> ( new_account ) == -1 )
<a name="l00974"></a>00974     {
<a name="l00975"></a>00975         <a class="code" href="menu_8c.html#a2cd0fa9a87d28146f743c30d75c3ee00">gsb_menu_transaction_operations_set_sensitive</a> ( FALSE );
<a name="l00976"></a>00976     }
<a name="l00977"></a>00977     <span class="keywordflow">else</span>
<a name="l00978"></a>00978     {
<a name="l00979"></a>00979         <a class="code" href="menu_8c.html#a2cd0fa9a87d28146f743c30d75c3ee00">gsb_menu_transaction_operations_set_sensitive</a> ( TRUE );
<a name="l00980"></a>00980     }
<a name="l00981"></a>00981 
<a name="l00982"></a>00982     <span class="comment">/* show or hide the rules button in toolbar */</span>
<a name="l00983"></a>00983     <span class="keywordflow">if</span> ( <a class="code" href="gsb__data__import__rule_8c.html#a1551ae76c7867c88884532cb9da30d82">gsb_data_import_rule_account_has_rule</a> ( new_account ) )
<a name="l00984"></a>00984         gtk_widget_show ( <a class="code" href="barre__outils_8c.html#ae624b78f586a9e3f5d60e6f2e2866819">menu_import_rules</a> );
<a name="l00985"></a>00985     <span class="keywordflow">else</span>
<a name="l00986"></a>00986         gtk_widget_hide ( <a class="code" href="barre__outils_8c.html#ae624b78f586a9e3f5d60e6f2e2866819">menu_import_rules</a> );
<a name="l00987"></a>00987 
<a name="l00988"></a>00988     <span class="comment">/* Update the title of the file if needed */</span>
<a name="l00989"></a>00989     <span class="keywordflow">if</span> ( <a class="code" href="parametres_8c.html#ab2a744f5d2124688473d13979420e911">etat</a>.<a class="code" href="structgsb__etat__t.html#a568b1677ab2a0bf755b7668eaf523418">display_grisbi_title</a> == <a class="code" href="utils__str_8h.html#ac79499d2c3ca0f33219f555f81c62e30aefa28395c9e61fbbc609bd2894eb2a8e">GSB_ACCOUNT_HOLDER</a> )
<a name="l00990"></a>00990     {
<a name="l00991"></a>00991         gchar * tmpstr;
<a name="l00992"></a>00992 
<a name="l00993"></a>00993         <span class="keywordflow">if</span> (<a class="code" href="accueil_8c.html#a787cc81cf2ad728775b73d723713980b">titre_fichier</a> &amp;&amp; strlen (<a class="code" href="accueil_8c.html#a787cc81cf2ad728775b73d723713980b">titre_fichier</a>) )
<a name="l00994"></a>00994             g_free (<a class="code" href="accueil_8c.html#a787cc81cf2ad728775b73d723713980b">titre_fichier</a>);
<a name="l00995"></a>00995 
<a name="l00996"></a>00996         tmpstr = <a class="code" href="utils__str_8c.html#ad9a37361694eeaa2847b0fe11389824d">my_strdup</a> ( <a class="code" href="gsb__data__account_8c.html#ad00bd5177be988a0fd989c7d7c44f330">gsb_data_account_get_holder_name</a> ( new_account ) );
<a name="l00997"></a>00997         <span class="keywordflow">if</span> ( tmpstr &amp;&amp; strlen (tmpstr) &gt; 0 )
<a name="l00998"></a>00998         {
<a name="l00999"></a>00999             <a class="code" href="accueil_8c.html#a787cc81cf2ad728775b73d723713980b">titre_fichier</a> = g_strdup ( tmpstr );
<a name="l01000"></a>01000             g_free ( tmpstr );
<a name="l01001"></a>01001         }
<a name="l01002"></a>01002         <span class="keywordflow">else</span>
<a name="l01003"></a>01003             <a class="code" href="accueil_8c.html#a787cc81cf2ad728775b73d723713980b">titre_fichier</a> = g_strdup ( <a class="code" href="affichage_8c.html#a2b411f03999259d3ba57ceb09d126c6d">initial_holder_title</a> );
<a name="l01004"></a>01004 
<a name="l01005"></a>01005         <a class="code" href="accueil_8c.html#a464c456279ac03bc59b1f54ae2133bf1">gsb_main_page_update_homepage_title</a> ( <a class="code" href="accueil_8c.html#a787cc81cf2ad728775b73d723713980b">titre_fichier</a> );
<a name="l01006"></a>01006         <a class="code" href="gsb__file_8c.html#a20a017f7b890e6fc0cd7a8c86beeb1dc">gsb_file_update_window_title</a> ( );
<a name="l01007"></a>01007     }
<a name="l01008"></a>01008 
<a name="l01009"></a>01009     <a class="code" href="bet__data_8c.html#a1056a006e9aa525d168c86363029d44e">bet_data_select_bet_pages</a> ( new_account );
<a name="l01010"></a>01010 
<a name="l01011"></a>01011     <span class="comment">/* unset the last date written */</span>
<a name="l01012"></a>01012     <a class="code" href="utils__dates_8c.html#af8f672b19112b497c550cd33caf35d86">gsb_date_free_last_date</a> ();
<a name="l01013"></a>01013 
<a name="l01014"></a>01014     <span class="keywordflow">return</span> FALSE;
<a name="l01015"></a>01015 }
<a name="l01016"></a>01016 
<a name="l01017"></a>01017 
<a name="l01025"></a><a class="code" href="navigation_8h.html#a342b7c00db1370b25971fbc56df7b02e">01025</a> <span class="keywordtype">void</span> <a class="code" href="navigation_8c.html#a342b7c00db1370b25971fbc56df7b02e">gsb_navigation_update_statement_label</a> ( gint account_number )
<a name="l01026"></a>01026 {
<a name="l01027"></a>01027     gint reconcile_number;
<a name="l01028"></a>01028     gchar* tmp_str;
<a name="l01029"></a>01029     gchar* tmp_str1;
<a name="l01030"></a>01030     gchar* tmp_str2;
<a name="l01031"></a>01031     <a class="code" href="structgsb__real.html">gsb_real</a> amount;
<a name="l01032"></a>01032 
<a name="l01033"></a>01033     reconcile_number = <a class="code" href="gsb__data__reconcile_8c.html#a2ab9538da63a10bec22e1efe1cd3f19f">gsb_data_reconcile_get_account_last_number</a> ( account_number );
<a name="l01034"></a>01034     amount = <a class="code" href="gsb__data__account_8c.html#a02f06ebc6a011898b2179c106611989f">gsb_data_account_get_marked_balance</a> ( account_number );
<a name="l01035"></a>01035     <span class="keywordflow">if</span> ( reconcile_number )
<a name="l01036"></a>01036     {
<a name="l01037"></a>01037         tmp_str1 = <a class="code" href="utils__dates_8c.html#a6e7537390d7569da5efc74f96ea57da7">gsb_format_gdate</a> ( <a class="code" href="gsb__data__reconcile_8c.html#ac2e105ad149161a371283aa75049d3b6">gsb_data_reconcile_get_final_date</a> (
<a name="l01038"></a>01038                                             reconcile_number ) );
<a name="l01039"></a>01039         tmp_str2 = <a class="code" href="gsb__real_8c.html#a03f4474a9a4269e384951af9be4acedd">gsb_real_get_string_with_currency</a> ( amount,
<a name="l01040"></a>01040                         <a class="code" href="gsb__data__account_8c.html#a9f8d132b988ca73a7061fca955f6bc2c">gsb_data_account_get_currency</a> ( account_number ), TRUE );
<a name="l01041"></a>01041         
<a name="l01042"></a>01042         tmp_str = g_strconcat ( _(<span class="stringliteral">&quot;Last statement: &quot;</span>), tmp_str1, <span class="stringliteral">&quot; - &quot;</span>,
<a name="l01043"></a>01043                                _(<span class="stringliteral">&quot;Reconciled balance: &quot;</span>), tmp_str2, NULL );
<a name="l01044"></a>01044         gtk_label_set_text ( GTK_LABEL ( <a class="code" href="gsb__form_8c.html#a1d4fbf807088a54821529a81f72bdd07">label_last_statement</a> ), tmp_str);
<a name="l01045"></a>01045         g_free ( tmp_str );
<a name="l01046"></a>01046         g_free ( tmp_str1 );
<a name="l01047"></a>01047         g_free ( tmp_str2 );
<a name="l01048"></a>01048     }
<a name="l01049"></a>01049     <span class="keywordflow">else</span> <span class="keywordflow">if</span> ( amount.<a class="code" href="structgsb__real.html#a00c99ad79aa77fb0af5b5e08f140b3ae">mantissa</a> != 0 )
<a name="l01050"></a>01050     {
<a name="l01051"></a>01051         tmp_str2 = <a class="code" href="gsb__real_8c.html#a03f4474a9a4269e384951af9be4acedd">gsb_real_get_string_with_currency</a> (amount,
<a name="l01052"></a>01052                         <a class="code" href="gsb__data__account_8c.html#a9f8d132b988ca73a7061fca955f6bc2c">gsb_data_account_get_currency</a> ( account_number ), TRUE );
<a name="l01053"></a>01053         
<a name="l01054"></a>01054         tmp_str = g_strconcat ( _(<span class="stringliteral">&quot;Last statement: none&quot;</span>), <span class="stringliteral">&quot; - &quot;</span>,
<a name="l01055"></a>01055                                _(<span class="stringliteral">&quot;Reconciled balance: &quot;</span>), tmp_str2, NULL );
<a name="l01056"></a>01056         gtk_label_set_text ( GTK_LABEL ( <a class="code" href="gsb__form_8c.html#a1d4fbf807088a54821529a81f72bdd07">label_last_statement</a> ), tmp_str);
<a name="l01057"></a>01057         g_free ( tmp_str );
<a name="l01058"></a>01058         g_free ( tmp_str2 );
<a name="l01059"></a>01059     }
<a name="l01060"></a>01060     <span class="keywordflow">else</span>
<a name="l01061"></a>01061         gtk_label_set_text ( GTK_LABEL ( <a class="code" href="gsb__form_8c.html#a1d4fbf807088a54821529a81f72bdd07">label_last_statement</a> ),
<a name="l01062"></a>01062                                             _(<span class="stringliteral">&quot;Last statement: none&quot;</span>) );
<a name="l01063"></a>01063 }
<a name="l01064"></a>01064 
<a name="l01065"></a>01065 
<a name="l01073"></a><a class="code" href="navigation_8h.html#a85b5920bb0556b488e09294e8cfbcb0e">01073</a> <span class="keywordtype">void</span> <a class="code" href="navigation_8c.html#a85b5920bb0556b488e09294e8cfbcb0e">gsb_navigation_update_account_label</a> ( gint account_number )
<a name="l01074"></a>01074 {
<a name="l01075"></a>01075     gchar * title = NULL; 
<a name="l01076"></a>01076 
<a name="l01077"></a>01077     <span class="comment">/* set the title */</span>
<a name="l01078"></a>01078     title = g_strconcat ( _(<span class="stringliteral">&quot;Account transactions&quot;</span>), <span class="stringliteral">&quot; : &quot;</span>,
<a name="l01079"></a>01079                           <a class="code" href="gsb__data__account_8c.html#a6b0df19868e38619bff512f2c18ef51e">gsb_data_account_get_name</a> ( account_number ),
<a name="l01080"></a>01080                           NULL );
<a name="l01081"></a>01081     <span class="keywordflow">if</span> ( <a class="code" href="gsb__data__account_8c.html#a7d4574a01587e19f2c0ed06c6328cb41">gsb_data_account_get_closed_account</a> ( account_number ) )
<a name="l01082"></a>01082     {
<a name="l01083"></a>01083         gchar* old_title = title;
<a name="l01084"></a>01084         title = g_strconcat ( title, <span class="stringliteral">&quot; (&quot;</span>, _(<span class="stringliteral">&quot;closed&quot;</span>), <span class="stringliteral">&quot;)&quot;</span>, NULL );
<a name="l01085"></a>01085         g_free ( old_title );
<a name="l01086"></a>01086     }
<a name="l01087"></a>01087 
<a name="l01088"></a>01088     <a class="code" href="gsb__data__account_8c.html#a4607ab78b42360bded7a2203dca78931">gsb_data_account_colorize_current_balance</a> ( account_number );
<a name="l01089"></a>01089     g_free ( title );
<a name="l01090"></a>01090 }
<a name="l01091"></a>01091 
<a name="l01092"></a>01092 
<a name="l01098"></a><a class="code" href="navigation_8h.html#a6e9f014d077329a589843dbe3edd15de">01098</a> <span class="keywordtype">void</span> <a class="code" href="navigation_8c.html#a6e9f014d077329a589843dbe3edd15de">gsb_gui_navigation_remove_account</a> ( gint account_number )
<a name="l01099"></a>01099 {
<a name="l01100"></a>01100     gtk_tree_model_foreach ( GTK_TREE_MODEL(<a class="code" href="menu_8c.html#af25f8dd6dec7eb5cb22b4a710e686d29">navigation_model</a>), 
<a name="l01101"></a>01101                              (GtkTreeModelForeachFunc) gsb_gui_navigation_remove_account_iterator, 
<a name="l01102"></a>01102                              GINT_TO_POINTER ( account_number ) );
<a name="l01103"></a>01103 }
<a name="l01104"></a>01104 
<a name="l01105"></a>01105 
<a name="l01106"></a>01106 
<a name="l01118"></a>01118 gboolean gsb_gui_navigation_select_line ( GtkTreeSelection *selection,
<a name="l01119"></a>01119                         GtkTreeModel *model )
<a name="l01120"></a>01120 {
<a name="l01121"></a>01121     gint account_number, page_number;
<a name="l01122"></a>01122     gint report_number;
<a name="l01123"></a>01123     gchar * title = NULL;
<a name="l01124"></a>01124     gboolean clear_sufix = TRUE;
<a name="l01125"></a>01125 
<a name="l01126"></a>01126     <a class="code" href="erreur_8h.html#a17bfffc4306bc76edd79e060a8947dc4">devel_debug</a> (NULL);
<a name="l01127"></a>01127 
<a name="l01128"></a>01128     page_number = <a class="code" href="navigation_8c.html#a06fa2882a164439e56e780c2127cd22c">gsb_gui_navigation_get_current_page</a> ();
<a name="l01129"></a>01129     gtk_notebook_set_current_page ( GTK_NOTEBOOK ( <a class="code" href="bet__config_8c.html#a8924516aa4170f932308e93cf93a785b">notebook_general</a> ), page_number );
<a name="l01130"></a>01130 
<a name="l01131"></a>01131     <span class="keywordflow">if</span> ( page_number != <a class="code" href="fenetre__principale_8h.html#a1667fdc1081851887c24c98c97d51767aa0842b1ab75cc108643f94f240f11905">GSB_ACCOUNT_PAGE</a> )
<a name="l01132"></a>01132     {
<a name="l01133"></a>01133         <a class="code" href="menu_8c.html#ad3557028823b3fd30c4d7367b698d2e2">gsb_gui_sensitive_menu_item</a> ( <span class="stringliteral">&quot;EditMenu&quot;</span>, <span class="stringliteral">&quot;NewTransaction&quot;</span>, NULL, FALSE );
<a name="l01134"></a>01134         <a class="code" href="menu_8c.html#ad3557028823b3fd30c4d7367b698d2e2">gsb_gui_sensitive_menu_item</a> ( <span class="stringliteral">&quot;EditMenu&quot;</span>, <span class="stringliteral">&quot;RemoveAccount&quot;</span>, NULL, FALSE );
<a name="l01135"></a>01135     }
<a name="l01136"></a>01136 
<a name="l01137"></a>01137     <span class="keywordflow">if</span> ( page_number != <a class="code" href="fenetre__principale_8h.html#a1667fdc1081851887c24c98c97d51767abcbf0d210d0e459dd61aeb38b8a94a34">GSB_SCHEDULER_PAGE</a> ) 
<a name="l01138"></a>01138     {
<a name="l01139"></a>01139         gtk_widget_hide_all ( scheduler_calendar );
<a name="l01140"></a>01140     }
<a name="l01141"></a>01141 
<a name="l01142"></a>01142     <span class="keywordflow">switch</span> ( page_number )
<a name="l01143"></a>01143     {
<a name="l01144"></a>01144         <span class="keywordflow">case</span> <a class="code" href="fenetre__principale_8h.html#a1667fdc1081851887c24c98c97d51767a014aa768e2bd5b6ec3653f5d92499817">GSB_HOME_PAGE</a>:
<a name="l01145"></a>01145             <a class="code" href="erreur_8h.html#a4538fd4861a4ef0fdec1e42edd2ebf2b">notice_debug</a> (<span class="stringliteral">&quot;Home page selected&quot;</span>);
<a name="l01146"></a>01146 
<a name="l01147"></a>01147             <span class="comment">/* set the title */</span>
<a name="l01148"></a>01148             <span class="keywordflow">if</span> ( <a class="code" href="accueil_8c.html#a787cc81cf2ad728775b73d723713980b">titre_fichier</a> &amp;&amp; strlen ( <a class="code" href="accueil_8c.html#a787cc81cf2ad728775b73d723713980b">titre_fichier</a> ) )
<a name="l01149"></a>01149             {
<a name="l01150"></a>01150             title = g_strconcat ( <span class="stringliteral">&quot;Grisbi : &quot;</span> , <a class="code" href="accueil_8c.html#a787cc81cf2ad728775b73d723713980b">titre_fichier</a>, NULL );
<a name="l01151"></a>01151             }
<a name="l01152"></a>01152             <span class="keywordflow">else</span>
<a name="l01153"></a>01153             {
<a name="l01154"></a>01154             title = g_strconcat ( <span class="stringliteral">&quot;Grisbi : &quot;</span> , _(<span class="stringliteral">&quot;My accounts&quot;</span>), NULL );
<a name="l01155"></a>01155             <a class="code" href="accueil_8c.html#a787cc81cf2ad728775b73d723713980b">titre_fichier</a> = g_strdup  ( _(<span class="stringliteral">&quot;My accounts&quot;</span>) );
<a name="l01156"></a>01156             }
<a name="l01157"></a>01157 
<a name="l01158"></a>01158             <span class="comment">/* what to be done if switch to that page */</span>
<a name="l01159"></a>01159             <a class="code" href="accueil_8c.html#a15511226739a34542ef8d7b979aedcf0">mise_a_jour_accueil</a> (FALSE);
<a name="l01160"></a>01160             <a class="code" href="gsb__form_8c.html#a930d0b9f0d831e2ddc6ad9730c2292eb">gsb_form_set_expander_visible</a> (FALSE,
<a name="l01161"></a>01161                                            FALSE );
<a name="l01162"></a>01162             <span class="keywordflow">break</span>;
<a name="l01163"></a>01163 
<a name="l01164"></a>01164         <span class="keywordflow">case</span> <a class="code" href="fenetre__principale_8h.html#a1667fdc1081851887c24c98c97d51767aa0842b1ab75cc108643f94f240f11905">GSB_ACCOUNT_PAGE</a>:
<a name="l01165"></a>01165             <a class="code" href="erreur_8h.html#a4538fd4861a4ef0fdec1e42edd2ebf2b">notice_debug</a> (<span class="stringliteral">&quot;Account page selected&quot;</span>);
<a name="l01166"></a>01166 
<a name="l01167"></a>01167             <a class="code" href="menu_8c.html#ad3557028823b3fd30c4d7367b698d2e2">gsb_gui_sensitive_menu_item</a> ( <span class="stringliteral">&quot;EditMenu&quot;</span>, <span class="stringliteral">&quot;RemoveAccount&quot;</span>, NULL, TRUE );
<a name="l01168"></a>01168 
<a name="l01169"></a>01169             account_number = <a class="code" href="navigation_8c.html#a3b668bf52ce71dcff3ea10c9db7be859">gsb_gui_navigation_get_current_account</a> ();
<a name="l01170"></a>01170 
<a name="l01171"></a>01171             <a class="code" href="navigation_8c.html#a85b5920bb0556b488e09294e8cfbcb0e">gsb_navigation_update_account_label</a> (account_number);
<a name="l01172"></a>01172             <span class="comment">/* what to be done if switch to that page */</span>
<a name="l01173"></a>01173             <span class="keywordflow">if</span> (account_number &gt;= 0 )
<a name="l01174"></a>01174             {
<a name="l01175"></a>01175                 title = g_strconcat ( _(<span class="stringliteral">&quot;Account&quot;</span>), <span class="stringliteral">&quot; : &quot;</span>, <a class="code" href="gsb__data__account_8c.html#a6b0df19868e38619bff512f2c18ef51e">gsb_data_account_get_name</a> (account_number), NULL );
<a name="l01176"></a>01176                 <a class="code" href="navigation_8c.html#a610fc35ca64e7ce4e22dd7e8cb59549f">navigation_change_account</a> ( GINT_TO_POINTER (account_number) );
<a name="l01177"></a>01177                 <a class="code" href="gsb__account__property_8c.html#ad38d51ca992f37d0392bd134617031ed">gsb_account_property_fill_page</a> ();
<a name="l01178"></a>01178                 clear_sufix = FALSE;
<a name="l01179"></a>01179             }
<a name="l01180"></a>01180             <a class="code" href="menu_8c.html#a82ddd4b1a12d79cf3c8211128ef52a88">gsb_menu_update_accounts_in_menus</a> ();
<a name="l01181"></a>01181             <a class="code" href="menu_8c.html#a60f727414d6ce8974582d80ae95c1f81">gsb_menu_update_view_menu</a> ( account_number );
<a name="l01182"></a>01182 
<a name="l01183"></a>01183             <span class="comment">/* set the form */</span>
<a name="l01184"></a>01184         <a class="code" href="fenetre__principale_8c.html#ac472c4356247af478d93db80f99a2792">gsb_gui_on_account_switch_page</a> ( GTK_NOTEBOOK ( <a class="code" href="bet__config_8c.html#ad5443d986a9ab5d64dd84c5346c4b87c">account_page</a> ),
<a name="l01185"></a>01185                         NULL,
<a name="l01186"></a>01186                         gtk_notebook_get_current_page ( GTK_NOTEBOOK ( <a class="code" href="bet__config_8c.html#ad5443d986a9ab5d64dd84c5346c4b87c">account_page</a> ) ),
<a name="l01187"></a>01187                         NULL );
<a name="l01188"></a>01188             <span class="comment">/* gsb_form_show ( FALSE ); */</span>
<a name="l01189"></a>01189 
<a name="l01190"></a>01190             buffer_last_account = account_number;
<a name="l01191"></a>01191 
<a name="l01192"></a>01192             <span class="keywordflow">break</span>;
<a name="l01193"></a>01193 
<a name="l01194"></a>01194         <span class="keywordflow">case</span> <a class="code" href="fenetre__principale_8h.html#a1667fdc1081851887c24c98c97d51767abcbf0d210d0e459dd61aeb38b8a94a34">GSB_SCHEDULER_PAGE</a>:
<a name="l01195"></a>01195             <a class="code" href="erreur_8h.html#a4538fd4861a4ef0fdec1e42edd2ebf2b">notice_debug</a> (<span class="stringliteral">&quot;Scheduler page selected&quot;</span>);
<a name="l01196"></a>01196 
<a name="l01197"></a>01197             <span class="comment">/* set the title */</span>
<a name="l01198"></a>01198             title = g_strdup(_(<span class="stringliteral">&quot;Scheduled transactions&quot;</span>));
<a name="l01199"></a>01199 
<a name="l01200"></a>01200             <span class="comment">/* what to be done if switch to that page */</span>
<a name="l01201"></a>01201             <span class="comment">/* update the list (can do that because short list, so very fast) */</span>
<a name="l01202"></a>01202             <a class="code" href="gsb__scheduler__list_8c.html#a09e95845b5893d975e94605f02051651">gsb_scheduler_list_fill_list</a> (<a class="code" href="gsb__scheduler__list_8c.html#a672312ea4cd0c1237b5a8312c330aaef">gsb_scheduler_list_get_tree_view</a> ());
<a name="l01203"></a>01203             <a class="code" href="gsb__scheduler__list_8c.html#a4348c22b2bc74713a8615c749c61f4d8">gsb_scheduler_list_set_background_color</a> (<a class="code" href="gsb__scheduler__list_8c.html#a672312ea4cd0c1237b5a8312c330aaef">gsb_scheduler_list_get_tree_view</a> ());
<a name="l01204"></a>01204 
<a name="l01205"></a>01205             <a class="code" href="gsb__scheduler__list_8c.html#acbc7a6e13ae89beb5afb56a3e8bba495">gsb_scheduler_list_select</a> (<a class="code" href="gsb__scheduler__list_8c.html#ae3d3fe09b37dc577b1b3f4564da0572a">gsb_scheduler_list_get_last_scheduled_number</a> ());
<a name="l01206"></a>01206 
<a name="l01207"></a>01207             <span class="comment">/* set the form */</span>
<a name="l01208"></a>01208             <a class="code" href="gsb__form_8c.html#a930d0b9f0d831e2ddc6ad9730c2292eb">gsb_form_set_expander_visible</a> (TRUE,
<a name="l01209"></a>01209                                            FALSE );
<a name="l01210"></a>01210             <a class="code" href="gsb__form__scheduler_8c.html#a19610a2e8fde16919239e690bb1794c1">gsb_form_scheduler_clean</a> ();
<a name="l01211"></a>01211             <a class="code" href="gsb__form_8c.html#a6c04fa27ec8a5ddc37d4626cf4803648">gsb_form_show</a> ( FALSE );
<a name="l01212"></a>01212 
<a name="l01213"></a>01213             <span class="comment">/* show the calendar */</span>
<a name="l01214"></a>01214             <a class="code" href="gsb__calendar_8c.html#a97c1d6d132f4597521b5ec7bd8440cfb">gsb_calendar_update</a> ();
<a name="l01215"></a>01215             gtk_widget_show_all ( scheduler_calendar );
<a name="l01216"></a>01216             <span class="keywordflow">break</span>;
<a name="l01217"></a>01217 
<a name="l01218"></a>01218         <span class="keywordflow">case</span> <a class="code" href="fenetre__principale_8h.html#a1667fdc1081851887c24c98c97d51767a6dc88978e0efdce656c83f10ff02354d">GSB_PAYEES_PAGE</a>:
<a name="l01219"></a>01219             <a class="code" href="erreur_8h.html#a4538fd4861a4ef0fdec1e42edd2ebf2b">notice_debug</a> (<span class="stringliteral">&quot;Payee page selected&quot;</span>);
<a name="l01220"></a>01220 
<a name="l01221"></a>01221             <span class="comment">/* set the title */</span>
<a name="l01222"></a>01222             title = g_strdup(_(<span class="stringliteral">&quot;Payees&quot;</span>));
<a name="l01223"></a>01223 
<a name="l01224"></a>01224             <span class="comment">/* what to be done if switch to that page */</span>
<a name="l01225"></a>01225             <a class="code" href="gsb__form_8c.html#a930d0b9f0d831e2ddc6ad9730c2292eb">gsb_form_set_expander_visible</a> (FALSE, FALSE );
<a name="l01226"></a>01226                 <a class="code" href="tiers__onglet_8c.html#a3526c82a23ba142e443ce5c5282facf8">payee_fill_tree</a> ();
<a name="l01227"></a>01227             <span class="keywordflow">break</span>;
<a name="l01228"></a>01228 
<a name="l01229"></a>01229         <span class="keywordflow">case</span> <a class="code" href="fenetre__principale_8h.html#a1667fdc1081851887c24c98c97d51767adcd7b89fa96cd8c96461d50946a1b82b">GSB_GENERAL_FINANCIAL_PAGE</a>:
<a name="l01230"></a>01230             <a class="code" href="erreur_8h.html#a4538fd4861a4ef0fdec1e42edd2ebf2b">notice_debug</a> (<span class="stringliteral">&quot;Credits simulator page selected&quot;</span>);
<a name="l01231"></a>01231 
<a name="l01232"></a>01232             <span class="comment">/* set the title */</span>
<a name="l01233"></a>01233             title = g_strdup(_(<span class="stringliteral">&quot;Credits simulator&quot;</span>));
<a name="l01234"></a>01234 
<a name="l01235"></a>01235             <span class="comment">/* what to be done if switch to that page */</span>
<a name="l01236"></a>01236         <a class="code" href="gsb__form_8c.html#a930d0b9f0d831e2ddc6ad9730c2292eb">gsb_form_set_expander_visible</a> (FALSE, FALSE);
<a name="l01237"></a>01237         <a class="code" href="bet__finance__ui_8c.html#acd225a5272ed6727f094bd25e7cf3cd7">bet_finance_switch_simulator_page</a> ( );
<a name="l01238"></a>01238             <span class="keywordflow">break</span>;
<a name="l01239"></a>01239 
<a name="l01240"></a>01240         <span class="keywordflow">case</span> <a class="code" href="fenetre__principale_8h.html#a1667fdc1081851887c24c98c97d51767aff0a64cd360ddbad895f5aa65a6ac476">GSB_CATEGORIES_PAGE</a>:
<a name="l01241"></a>01241             <a class="code" href="erreur_8h.html#a4538fd4861a4ef0fdec1e42edd2ebf2b">notice_debug</a> (<span class="stringliteral">&quot;Category page selected&quot;</span>);
<a name="l01242"></a>01242 
<a name="l01243"></a>01243             <span class="comment">/* set the title */</span>
<a name="l01244"></a>01244             title = g_strdup(_(<span class="stringliteral">&quot;Categories&quot;</span>));
<a name="l01245"></a>01245 
<a name="l01246"></a>01246             <span class="comment">/* what to be done if switch to that page */</span>
<a name="l01247"></a>01247             <a class="code" href="gsb__form_8c.html#a930d0b9f0d831e2ddc6ad9730c2292eb">gsb_form_set_expander_visible</a> (FALSE, FALSE );
<a name="l01248"></a>01248         <a class="code" href="categories__onglet_8c.html#a07984d808278a498b3fef3e187cc29e2">remplit_arbre_categ</a> ();
<a name="l01249"></a>01249             <span class="keywordflow">break</span>;
<a name="l01250"></a>01250 
<a name="l01251"></a>01251         <span class="keywordflow">case</span> <a class="code" href="fenetre__principale_8h.html#a1667fdc1081851887c24c98c97d51767a7697bb5eef5749ac8e9f5c0103f00b98">GSB_BUDGETARY_LINES_PAGE</a>:
<a name="l01252"></a>01252             <a class="code" href="erreur_8h.html#a4538fd4861a4ef0fdec1e42edd2ebf2b">notice_debug</a> (<span class="stringliteral">&quot;Budgetary page selected&quot;</span>);
<a name="l01253"></a>01253 
<a name="l01254"></a>01254             <span class="comment">/* set the title */</span>
<a name="l01255"></a>01255             title = g_strdup(_(<span class="stringliteral">&quot;Budgetary lines&quot;</span>));
<a name="l01256"></a>01256 
<a name="l01257"></a>01257             <span class="comment">/* what to be done if switch to that page */</span>
<a name="l01258"></a>01258             <a class="code" href="gsb__form_8c.html#a930d0b9f0d831e2ddc6ad9730c2292eb">gsb_form_set_expander_visible</a> (FALSE, FALSE );
<a name="l01259"></a>01259                 <a class="code" href="imputation__budgetaire_8c.html#a3c4c67e80fdca7661b83a5176e7ac787">remplit_arbre_imputation</a> ();
<a name="l01260"></a>01260             <span class="keywordflow">break</span>;
<a name="l01261"></a>01261 
<a name="l01262"></a>01262         <span class="keywordflow">case</span> <a class="code" href="fenetre__principale_8h.html#a1667fdc1081851887c24c98c97d51767a45e7a3ecc5d1c0d580104fd50516fdb9">GSB_REPORTS_PAGE</a>:
<a name="l01263"></a>01263             <a class="code" href="erreur_8h.html#a4538fd4861a4ef0fdec1e42edd2ebf2b">notice_debug</a> (<span class="stringliteral">&quot;Reports page selected&quot;</span>);
<a name="l01264"></a>01264 
<a name="l01265"></a>01265             <span class="comment">/* set the title */</span>
<a name="l01266"></a>01266             report_number = <a class="code" href="navigation_8c.html#aef700722a199569003341a41144ee004">gsb_gui_navigation_get_current_report</a> ();
<a name="l01267"></a>01267 
<a name="l01268"></a>01268             <span class="keywordflow">if</span> ( report_number &gt;= 0 )
<a name="l01269"></a>01269                 title = g_strconcat ( _(<span class="stringliteral">&quot;Report&quot;</span>), <span class="stringliteral">&quot; : &quot;</span>, <a class="code" href="gsb__data__report_8c.html#ace8a87d303afdf89ef8f3a901987db83">gsb_data_report_get_report_name</a> (report_number), NULL );
<a name="l01270"></a>01270             <span class="keywordflow">else</span>
<a name="l01271"></a>01271                 title = g_strdup(_(<span class="stringliteral">&quot;Reports&quot;</span>));
<a name="l01272"></a>01272 
<a name="l01273"></a>01273             <span class="comment">/* what to be done if switch to that page */</span>
<a name="l01274"></a>01274             <a class="code" href="gsb__form_8c.html#a930d0b9f0d831e2ddc6ad9730c2292eb">gsb_form_set_expander_visible</a> (FALSE,
<a name="l01275"></a>01275                                            FALSE );
<a name="l01276"></a>01276 
<a name="l01277"></a>01277             <span class="keywordflow">if</span> ( report_number &gt; 0 )
<a name="l01278"></a>01278                 <a class="code" href="etats__onglet_8c.html#a45fec3aed31acd90ea946bd3eab8586e">gsb_gui_update_gui_to_report</a> ( report_number );
<a name="l01279"></a>01279             <span class="keywordflow">else</span>
<a name="l01280"></a>01280                 <a class="code" href="etats__onglet_8c.html#abb6e5627c18a42073725cc404ec23162">gsb_gui_unsensitive_report_widgets</a> ();
<a name="l01281"></a>01281             <span class="keywordflow">break</span>;
<a name="l01282"></a>01282 
<a name="l01283"></a>01283         <span class="keywordflow">default</span>:
<a name="l01284"></a>01284             <a class="code" href="erreur_8h.html#a4538fd4861a4ef0fdec1e42edd2ebf2b">notice_debug</a> (<span class="stringliteral">&quot;B0rk page selected&quot;</span>);
<a name="l01285"></a>01285             title = g_strdup(<span class="stringliteral">&quot;B0rk&quot;</span>);
<a name="l01286"></a>01286             <span class="keywordflow">break</span>;
<a name="l01287"></a>01287     }
<a name="l01288"></a>01288 
<a name="l01289"></a>01289     <span class="comment">/* title is not set when go on account</span>
<a name="l01290"></a>01290 <span class="comment">     * because gsb_navigation_update_account_label was called instead */</span>
<a name="l01291"></a>01291     <span class="keywordflow">if</span> (title)
<a name="l01292"></a>01292     {
<a name="l01293"></a>01293         <a class="code" href="fenetre__principale_8c.html#a7dd6f116baa9323630e845e36615fc53">gsb_gui_headings_update_title</a> ( title );
<a name="l01294"></a>01294         g_free ( title );
<a name="l01295"></a>01295     }
<a name="l01296"></a>01296     <span class="keywordflow">if</span> (clear_sufix)
<a name="l01297"></a>01297         <a class="code" href="fenetre__principale_8c.html#aeed9c0940d61e6cf37c5f421ce3b663f">gsb_gui_headings_update_suffix</a> ( <span class="stringliteral">&quot;&quot;</span> );
<a name="l01298"></a>01298     <span class="keywordflow">return</span> FALSE;
<a name="l01299"></a>01299 }
<a name="l01300"></a>01300 
<a name="l01301"></a>01301 
<a name="l01302"></a>01302 
<a name="l01315"></a><a class="code" href="navigation_8h.html#a3fb9bd34026d724eefe1309fb63bf8fc">01315</a> gboolean <a class="code" href="navigation_8c.html#a3fb9bd34026d724eefe1309fb63bf8fc">gsb_gui_navigation_set_selection</a> ( gint page, gint account_number, gpointer report )
<a name="l01316"></a>01316 {
<a name="l01317"></a>01317     GtkTreeIter iter;
<a name="l01318"></a>01318     GtkTreeSelection * selection;
<a name="l01319"></a>01319 
<a name="l01320"></a>01320     selection = gtk_tree_view_get_selection ( GTK_TREE_VIEW(<a class="code" href="etats__config_8c.html#a1cd17e8b2fd91a191f8d5d6a7e5f6979">navigation_tree_view</a>) );
<a name="l01321"></a>01321     g_return_val_if_fail ( selection, FALSE );
<a name="l01322"></a>01322 
<a name="l01323"></a>01323     <span class="comment">/* if we select an account, open the expander if necessary,</span>
<a name="l01324"></a>01324 <span class="comment">     * we assume the accounts are still in first place */</span>
<a name="l01325"></a>01325     <span class="keywordflow">if</span> (page == <a class="code" href="fenetre__principale_8h.html#a1667fdc1081851887c24c98c97d51767aa0842b1ab75cc108643f94f240f11905">GSB_ACCOUNT_PAGE</a>)
<a name="l01326"></a>01326     {
<a name="l01327"></a>01327         GtkTreePath *path = gtk_tree_path_new_first ();
<a name="l01328"></a>01328         gtk_tree_view_expand_row ( GTK_TREE_VIEW (<a class="code" href="etats__config_8c.html#a1cd17e8b2fd91a191f8d5d6a7e5f6979">navigation_tree_view</a>),
<a name="l01329"></a>01329                                    path, TRUE );
<a name="l01330"></a>01330         gtk_tree_path_free (path);
<a name="l01331"></a>01331     }
<a name="l01332"></a>01332 
<a name="l01333"></a>01333     gtk_tree_model_get_iter_first ( GTK_TREE_MODEL(<a class="code" href="menu_8c.html#af25f8dd6dec7eb5cb22b4a710e686d29">navigation_model</a>), &amp;iter );
<a name="l01334"></a>01334     gsb_gui_navigation_set_selection_branch ( selection, &amp;iter, page, account_number, 
<a name="l01335"></a>01335                                               report );
<a name="l01336"></a>01336 
<a name="l01337"></a>01337     <span class="keywordflow">return</span> TRUE;
<a name="l01338"></a>01338 }
<a name="l01339"></a>01339 
<a name="l01340"></a>01340 
<a name="l01355"></a>01355 <span class="keywordtype">void</span> gsb_gui_navigation_set_selection_branch ( GtkTreeSelection * selection, 
<a name="l01356"></a>01356                                             GtkTreeIter * iter, gint page, 
<a name="l01357"></a>01357                                             gint account_number, gpointer report )
<a name="l01358"></a>01358 {
<a name="l01359"></a>01359     <span class="keywordflow">do</span> 
<a name="l01360"></a>01360     {
<a name="l01361"></a>01361         gint iter_page, iter_account_nb;
<a name="l01362"></a>01362         gpointer iter_report;
<a name="l01363"></a>01363 
<a name="l01364"></a>01364         gtk_tree_model_get ( GTK_TREE_MODEL(<a class="code" href="menu_8c.html#af25f8dd6dec7eb5cb22b4a710e686d29">navigation_model</a>), iter, 
<a name="l01365"></a>01365                              <a class="code" href="navigation_8h.html#a3f7cf16a5e5b276a8744f42496c2c441ad1379924ed0ede2912107c9394a0ec0e">NAVIGATION_REPORT</a>, &amp;iter_report, 
<a name="l01366"></a>01366                              <a class="code" href="navigation_8h.html#a3f7cf16a5e5b276a8744f42496c2c441a2bd700dd869e4529a09479b8e3a96cc6">NAVIGATION_ACCOUNT</a>, &amp;iter_account_nb,
<a name="l01367"></a>01367                              <a class="code" href="navigation_8h.html#a3f7cf16a5e5b276a8744f42496c2c441ae2dcc16f7124d46c4bbd17a3f2162158">NAVIGATION_PAGE</a>, &amp;iter_page,
<a name="l01368"></a>01368                              -1 );
<a name="l01369"></a>01369 
<a name="l01370"></a>01370         <span class="keywordflow">if</span> ( iter_page == page &amp;&amp;
<a name="l01371"></a>01371              ! ( page == <a class="code" href="fenetre__principale_8h.html#a1667fdc1081851887c24c98c97d51767aa0842b1ab75cc108643f94f240f11905">GSB_ACCOUNT_PAGE</a> &amp;&amp; 
<a name="l01372"></a>01372                  iter_account_nb != account_number ) &amp;&amp;
<a name="l01373"></a>01373              ! ( page == <a class="code" href="fenetre__principale_8h.html#a1667fdc1081851887c24c98c97d51767a45e7a3ecc5d1c0d580104fd50516fdb9">GSB_REPORTS_PAGE</a> &amp;&amp;
<a name="l01374"></a>01374                  iter_report != report ) )
<a name="l01375"></a>01375         {
<a name="l01376"></a>01376             gtk_tree_selection_select_iter ( selection, iter );
<a name="l01377"></a>01377         }
<a name="l01378"></a>01378 
<a name="l01379"></a>01379         <span class="keywordflow">if</span> ( gtk_tree_model_iter_has_child ( GTK_TREE_MODEL(<a class="code" href="menu_8c.html#af25f8dd6dec7eb5cb22b4a710e686d29">navigation_model</a>), iter ) )
<a name="l01380"></a>01380         {
<a name="l01381"></a>01381             GtkTreeIter child;
<a name="l01382"></a>01382     
<a name="l01383"></a>01383             gtk_tree_model_iter_children ( GTK_TREE_MODEL(<a class="code" href="menu_8c.html#af25f8dd6dec7eb5cb22b4a710e686d29">navigation_model</a>), &amp;child, iter );
<a name="l01384"></a>01384             gsb_gui_navigation_set_selection_branch ( selection, &amp;child, 
<a name="l01385"></a>01385                                                       page, account_number, report );
<a name="l01386"></a>01386         }
<a name="l01387"></a>01387     }
<a name="l01388"></a>01388     <span class="keywordflow">while</span> ( gtk_tree_model_iter_next ( GTK_TREE_MODEL(<a class="code" href="menu_8c.html#af25f8dd6dec7eb5cb22b4a710e686d29">navigation_model</a>), iter ) );
<a name="l01389"></a>01389 
<a name="l01390"></a>01390     <span class="keywordflow">return</span>;
<a name="l01391"></a>01391 }
<a name="l01392"></a>01392 
<a name="l01393"></a>01393 
<a name="l01394"></a>01394 
<a name="l01400"></a><a class="code" href="navigation_8h.html#af59677879274f3120ba149db61d4cb0e">01400</a> gboolean <a class="code" href="navigation_8c.html#af59677879274f3120ba149db61d4cb0e">gsb_gui_navigation_select_prev</a> ()
<a name="l01401"></a>01401 {
<a name="l01402"></a>01402     GtkTreeSelection * selection;
<a name="l01403"></a>01403     GtkTreePath * path;
<a name="l01404"></a>01404     GtkTreeModel * model;
<a name="l01405"></a>01405     GtkTreeIter iter;
<a name="l01406"></a>01406 
<a name="l01407"></a>01407     selection = gtk_tree_view_get_selection ( GTK_TREE_VIEW(<a class="code" href="etats__config_8c.html#a1cd17e8b2fd91a191f8d5d6a7e5f6979">navigation_tree_view</a>) );
<a name="l01408"></a>01408     g_return_val_if_fail ( selection, FALSE );
<a name="l01409"></a>01409     
<a name="l01410"></a>01410     <span class="keywordflow">if</span> ( !gtk_tree_selection_get_selected ( selection, &amp;model, &amp;iter ) )
<a name="l01411"></a>01411         <span class="keywordflow">return</span> TRUE;
<a name="l01412"></a>01412     path = gtk_tree_model_get_path ( model, &amp;iter );
<a name="l01413"></a>01413     g_return_val_if_fail ( path, TRUE );
<a name="l01414"></a>01414 
<a name="l01415"></a>01415     <span class="keywordflow">if</span> ( ! gtk_tree_path_prev ( path ) )
<a name="l01416"></a>01416     {
<a name="l01417"></a>01417         gtk_tree_path_up ( path );
<a name="l01418"></a>01418     }
<a name="l01419"></a>01419     <span class="keywordflow">else</span>
<a name="l01420"></a>01420     {
<a name="l01421"></a>01421         gtk_tree_model_get_iter ( model, &amp;iter, path );
<a name="l01422"></a>01422         <span class="keywordflow">if</span> ( gtk_tree_model_iter_has_child ( model, &amp;iter ) )
<a name="l01423"></a>01423         {
<a name="l01424"></a>01424             GtkTreeIter parent = iter;
<a name="l01425"></a>01425             gtk_tree_model_iter_nth_child ( model, &amp;iter, &amp;parent, 
<a name="l01426"></a>01426                                             gtk_tree_model_iter_n_children ( model, 
<a name="l01427"></a>01427                                                                              &amp;parent ) - 1 );
<a name="l01428"></a>01428             path = gtk_tree_model_get_path ( model, &amp;iter );
<a name="l01429"></a>01429         }
<a name="l01430"></a>01430     }
<a name="l01431"></a>01431     
<a name="l01432"></a>01432     gtk_tree_selection_select_path ( selection, path );
<a name="l01433"></a>01433 
<a name="l01434"></a>01434     <span class="keywordflow">return</span> FALSE;
<a name="l01435"></a>01435 }
<a name="l01436"></a>01436 
<a name="l01437"></a>01437 
<a name="l01438"></a>01438 
<a name="l01444"></a><a class="code" href="navigation_8h.html#a90ca4d003b85ca3c49ed7a7188a6ab60">01444</a> gboolean <a class="code" href="navigation_8c.html#a90ca4d003b85ca3c49ed7a7188a6ab60">gsb_gui_navigation_select_next</a> ()
<a name="l01445"></a>01445 {
<a name="l01446"></a>01446     GtkTreeSelection * selection;
<a name="l01447"></a>01447     GtkTreePath * path;
<a name="l01448"></a>01448     GtkTreeModel * model;
<a name="l01449"></a>01449     GtkTreeIter iter;
<a name="l01450"></a>01450 
<a name="l01451"></a>01451     selection = gtk_tree_view_get_selection ( GTK_TREE_VIEW(<a class="code" href="etats__config_8c.html#a1cd17e8b2fd91a191f8d5d6a7e5f6979">navigation_tree_view</a>) );
<a name="l01452"></a>01452     g_return_val_if_fail ( selection, FALSE );
<a name="l01453"></a>01453     
<a name="l01454"></a>01454     <span class="keywordflow">if</span> ( !gtk_tree_selection_get_selected ( selection, &amp;model, &amp;iter ) )
<a name="l01455"></a>01455         <span class="keywordflow">return</span> TRUE;
<a name="l01456"></a>01456     path = gtk_tree_model_get_path ( model, &amp;iter );
<a name="l01457"></a>01457     g_return_val_if_fail ( path, TRUE );
<a name="l01458"></a>01458 
<a name="l01459"></a>01459     <span class="keywordflow">if</span> ( gtk_tree_model_iter_has_child ( model, &amp;iter ) )
<a name="l01460"></a>01460     {
<a name="l01461"></a>01461         gtk_tree_path_down ( path );
<a name="l01462"></a>01462     }
<a name="l01463"></a>01463     <span class="keywordflow">else</span>
<a name="l01464"></a>01464     {
<a name="l01465"></a>01465         <span class="keywordflow">if</span> ( ! gtk_tree_model_iter_next ( model, &amp;iter ) )
<a name="l01466"></a>01466         {
<a name="l01467"></a>01467             gtk_tree_path_up ( path );
<a name="l01468"></a>01468             gtk_tree_path_next ( path );
<a name="l01469"></a>01469         }
<a name="l01470"></a>01470         <span class="keywordflow">else</span>
<a name="l01471"></a>01471         { 
<a name="l01472"></a>01472             path = gtk_tree_model_get_path ( model, &amp;iter );
<a name="l01473"></a>01473         }
<a name="l01474"></a>01474     }
<a name="l01475"></a>01475 
<a name="l01476"></a>01476     gtk_tree_selection_select_path ( selection, path );
<a name="l01477"></a>01477 
<a name="l01478"></a>01478     <span class="keywordflow">return</span> FALSE;
<a name="l01479"></a>01479 }
<a name="l01480"></a>01480 
<a name="l01481"></a>01481 
<a name="l01482"></a>01482 
<a name="l01493"></a>01493 gboolean gsb_gui_navigation_check_key_press ( GtkWidget *tree_view,
<a name="l01494"></a>01494                         GdkEventKey *ev,
<a name="l01495"></a>01495                         GtkTreeModel *model )
<a name="l01496"></a>01496 {
<a name="l01497"></a>01497     gint page;
<a name="l01498"></a>01498     GtkTreeIter iter;
<a name="l01499"></a>01499 
<a name="l01500"></a>01500     <span class="keywordflow">if</span> (! gtk_tree_selection_get_selected ( gtk_tree_view_get_selection (GTK_TREE_VIEW (tree_view)),
<a name="l01501"></a>01501                                             NULL,
<a name="l01502"></a>01502                                             &amp;iter))
<a name="l01503"></a>01503         <span class="keywordflow">return</span> FALSE;
<a name="l01504"></a>01504 
<a name="l01505"></a>01505     gtk_tree_model_get (model, &amp;iter, <a class="code" href="navigation_8h.html#a3f7cf16a5e5b276a8744f42496c2c441ae2dcc16f7124d46c4bbd17a3f2162158">NAVIGATION_PAGE</a>, &amp;page, -1 );
<a name="l01506"></a>01506 
<a name="l01507"></a>01507     <span class="keywordflow">switch</span> ( page )
<a name="l01508"></a>01508     {
<a name="l01509"></a>01509         <span class="keywordflow">case</span> <a class="code" href="fenetre__principale_8h.html#a1667fdc1081851887c24c98c97d51767a014aa768e2bd5b6ec3653f5d92499817">GSB_HOME_PAGE</a>:
<a name="l01510"></a>01510             <span class="comment">/* nothing to do here for now */</span>
<a name="l01511"></a>01511             <span class="keywordflow">break</span>;
<a name="l01512"></a>01512 
<a name="l01513"></a>01513         <span class="keywordflow">case</span> <a class="code" href="fenetre__principale_8h.html#a1667fdc1081851887c24c98c97d51767aa0842b1ab75cc108643f94f240f11905">GSB_ACCOUNT_PAGE</a>:
<a name="l01514"></a>01514             <span class="comment">/* when come here, if we press the right key, give the focus to the list */</span>
<a name="l01515"></a>01515             <span class="keywordflow">if</span> (ev -&gt; keyval == GDK_Right)
<a name="l01516"></a>01516                 gtk_widget_grab_focus (<a class="code" href="gsb__transactions__list_8c.html#a9c93505713234d8fa4727b067a140641">gsb_transactions_list_get_tree_view</a> ());
<a name="l01517"></a>01517             <span class="keywordflow">break</span>;
<a name="l01518"></a>01518 
<a name="l01519"></a>01519         <span class="keywordflow">case</span> <a class="code" href="fenetre__principale_8h.html#a1667fdc1081851887c24c98c97d51767a6dc88978e0efdce656c83f10ff02354d">GSB_PAYEES_PAGE</a>:
<a name="l01520"></a>01520             <span class="comment">/* nothing to do here for now */</span>
<a name="l01521"></a>01521             <span class="keywordflow">break</span>;
<a name="l01522"></a>01522 
<a name="l01523"></a>01523         <span class="keywordflow">case</span> <a class="code" href="fenetre__principale_8h.html#a1667fdc1081851887c24c98c97d51767aff0a64cd360ddbad895f5aa65a6ac476">GSB_CATEGORIES_PAGE</a>:
<a name="l01524"></a>01524             <span class="comment">/* nothing to do here for now */</span>
<a name="l01525"></a>01525             <span class="keywordflow">break</span>;
<a name="l01526"></a>01526 
<a name="l01527"></a>01527         <span class="keywordflow">case</span> <a class="code" href="fenetre__principale_8h.html#a1667fdc1081851887c24c98c97d51767a7697bb5eef5749ac8e9f5c0103f00b98">GSB_BUDGETARY_LINES_PAGE</a>:
<a name="l01528"></a>01528             <span class="comment">/* nothing to do here for now */</span>
<a name="l01529"></a>01529             <span class="keywordflow">break</span>;
<a name="l01530"></a>01530 
<a name="l01531"></a>01531         <span class="keywordflow">case</span> <a class="code" href="fenetre__principale_8h.html#a1667fdc1081851887c24c98c97d51767abcbf0d210d0e459dd61aeb38b8a94a34">GSB_SCHEDULER_PAGE</a>:
<a name="l01532"></a>01532             <span class="comment">/* when come here, if we press the right key, give the focus to the list */</span>
<a name="l01533"></a>01533             <span class="keywordflow">if</span> (ev -&gt; keyval == GDK_Right)
<a name="l01534"></a>01534                 gtk_widget_grab_focus (<a class="code" href="gsb__scheduler__list_8c.html#a672312ea4cd0c1237b5a8312c330aaef">gsb_scheduler_list_get_tree_view</a> ());
<a name="l01535"></a>01535             <span class="keywordflow">break</span>;
<a name="l01536"></a>01536 
<a name="l01537"></a>01537         <span class="keywordflow">case</span> <a class="code" href="fenetre__principale_8h.html#a1667fdc1081851887c24c98c97d51767a45e7a3ecc5d1c0d580104fd50516fdb9">GSB_REPORTS_PAGE</a>:
<a name="l01538"></a>01538             <span class="comment">/* nothing to do here for now */</span>
<a name="l01539"></a>01539             <span class="keywordflow">break</span>;
<a name="l01540"></a>01540     }
<a name="l01541"></a>01541 
<a name="l01542"></a>01542     <span class="keywordflow">return</span> FALSE;
<a name="l01543"></a>01543 }
<a name="l01544"></a>01544 
<a name="l01545"></a>01545 
<a name="l01546"></a>01546 
<a name="l01557"></a>01557 gboolean navigation_tree_drag_data_get ( GtkTreeDragSource * drag_source, GtkTreePath * path,
<a name="l01558"></a>01558                         GtkSelectionData * selection_data )
<a name="l01559"></a>01559 {
<a name="l01560"></a>01560     gchar *tmpstr = gtk_tree_path_to_string (path);
<a name="l01561"></a>01561     gchar *tmpstr2 = g_strdup_printf ( <span class="stringliteral">&quot;Orig path : %s&quot;</span>, tmpstr);
<a name="l01562"></a>01562     <a class="code" href="erreur_8h.html#a17bfffc4306bc76edd79e060a8947dc4">devel_debug</a> (tmpstr2);
<a name="l01563"></a>01563     g_free (tmpstr);
<a name="l01564"></a>01564     g_free (tmpstr2);
<a name="l01565"></a>01565 
<a name="l01566"></a>01566     <span class="keywordflow">if</span> ( path )
<a name="l01567"></a>01567     {
<a name="l01568"></a>01568         gtk_tree_set_row_drag_data ( selection_data, GTK_TREE_MODEL(<a class="code" href="menu_8c.html#af25f8dd6dec7eb5cb22b4a710e686d29">navigation_model</a>), 
<a name="l01569"></a>01569                                      path );
<a name="l01570"></a>01570     }
<a name="l01571"></a>01571 
<a name="l01572"></a>01572     <span class="keywordflow">return</span> FALSE;
<a name="l01573"></a>01573 }
<a name="l01574"></a>01574 
<a name="l01575"></a>01575 
<a name="l01576"></a>01576 
<a name="l01581"></a><a class="code" href="navigation_8h.html#a788a6af93e112548ce10da6c6c6cb9b6">01581</a> gboolean <a class="code" href="navigation_8c.html#a788a6af93e112548ce10da6c6c6cb9b6">navigation_drag_data_received</a> ( GtkTreeDragDest * drag_dest,
<a name="l01582"></a>01582                         GtkTreePath * dest_path,
<a name="l01583"></a>01583                         GtkSelectionData * selection_data )
<a name="l01584"></a>01584 {
<a name="l01585"></a>01585     gchar *tmpstr = gtk_tree_path_to_string (dest_path);
<a name="l01586"></a>01586     gchar *tmpstr2 = g_strdup_printf ( <span class="stringliteral">&quot;Dest path : %s&quot;</span>, tmpstr);
<a name="l01587"></a>01587     <a class="code" href="erreur_8h.html#a17bfffc4306bc76edd79e060a8947dc4">devel_debug</a> (tmpstr2);
<a name="l01588"></a>01588     g_free (tmpstr);
<a name="l01589"></a>01589     g_free (tmpstr2);
<a name="l01590"></a>01590 
<a name="l01591"></a>01591     <span class="keywordflow">if</span> ( dest_path &amp;&amp; selection_data )
<a name="l01592"></a>01592     {
<a name="l01593"></a>01593         GtkTreeModel * model;
<a name="l01594"></a>01594         GtkTreeIter iter;
<a name="l01595"></a>01595         GtkTreePath * orig_path;
<a name="l01596"></a>01596         gint src_report, dst_report = -1;
<a name="l01597"></a>01597         gint src_account, dst_account = -1;
<a name="l01598"></a>01598 
<a name="l01599"></a>01599         gtk_tree_get_row_drag_data (selection_data, &amp;model, &amp;orig_path);
<a name="l01600"></a>01600 
<a name="l01601"></a>01601         <span class="keywordflow">if</span> ( gtk_tree_model_get_iter ( GTK_TREE_MODEL(model), &amp;iter, dest_path ) ) 
<a name="l01602"></a>01602             gtk_tree_model_get (model , &amp;iter, 
<a name="l01603"></a>01603                                 <a class="code" href="navigation_8h.html#a3f7cf16a5e5b276a8744f42496c2c441ad1379924ed0ede2912107c9394a0ec0e">NAVIGATION_REPORT</a>, &amp;dst_report, 
<a name="l01604"></a>01604                                 <a class="code" href="navigation_8h.html#a3f7cf16a5e5b276a8744f42496c2c441a2bd700dd869e4529a09479b8e3a96cc6">NAVIGATION_ACCOUNT</a>, &amp;dst_account,
<a name="l01605"></a>01605                                 -1 );
<a name="l01606"></a>01606 
<a name="l01607"></a>01607         <span class="keywordflow">if</span> ( gtk_tree_model_get_iter ( GTK_TREE_MODEL(model), &amp;iter, orig_path ) )
<a name="l01608"></a>01608             gtk_tree_model_get ( model, &amp;iter, 
<a name="l01609"></a>01609                                  <a class="code" href="navigation_8h.html#a3f7cf16a5e5b276a8744f42496c2c441ad1379924ed0ede2912107c9394a0ec0e">NAVIGATION_REPORT</a>, &amp;src_report, 
<a name="l01610"></a>01610                                  <a class="code" href="navigation_8h.html#a3f7cf16a5e5b276a8744f42496c2c441a2bd700dd869e4529a09479b8e3a96cc6">NAVIGATION_ACCOUNT</a>, &amp;src_account,
<a name="l01611"></a>01611                                  -1 );
<a name="l01612"></a>01612 
<a name="l01613"></a>01613         <span class="comment">/* at this stage, src_account or src_report contains the account/report we move</span>
<a name="l01614"></a>01614 <span class="comment">         * and dst_account/dst_report the account/report destination we want to move before,</span>
<a name="l01615"></a>01615 <span class="comment">         * or dst_account/dst_report can be -1 to set at the end of the list */</span>
<a name="l01616"></a>01616         <span class="keywordflow">if</span> (src_account != -1)
<a name="l01617"></a>01617             <span class="comment">/* we moved an account */</span>
<a name="l01618"></a>01618             <a class="code" href="gsb__data__account_8c.html#abca64bc5679961939abcc1a31e586792">gsb_data_account_move_account</a> (src_account, dst_account);
<a name="l01619"></a>01619         <span class="keywordflow">if</span> (src_report != -1 )
<a name="l01620"></a>01620             <span class="comment">/* we moved a report */</span>
<a name="l01621"></a>01621             <a class="code" href="gsb__data__report_8c.html#a70b1952b53d013aa7a3b348e59b09d9f">gsb_data_report_move_report</a> (src_report, dst_report);
<a name="l01622"></a>01622 
<a name="l01623"></a>01623         <span class="comment">/* update the tree view */</span>
<a name="l01624"></a>01624         gtk_tree_sortable_set_sort_column_id ( GTK_TREE_SORTABLE(model),
<a name="l01625"></a>01625                                                <a class="code" href="navigation_8h.html#a3f7cf16a5e5b276a8744f42496c2c441ae2dcc16f7124d46c4bbd17a3f2162158">NAVIGATION_PAGE</a>, GTK_SORT_ASCENDING );
<a name="l01626"></a>01626         gtk_tree_sortable_set_sort_func ( GTK_TREE_SORTABLE(model), 
<a name="l01627"></a>01627                                           <a class="code" href="navigation_8h.html#a3f7cf16a5e5b276a8744f42496c2c441ae2dcc16f7124d46c4bbd17a3f2162158">NAVIGATION_PAGE</a>, navigation_sort_column,
<a name="l01628"></a>01628                                           NULL, NULL );
<a name="l01629"></a>01629 
<a name="l01630"></a>01630         <span class="comment">/* update the order of accounts in first page */</span>
<a name="l01631"></a>01631         <a class="code" href="accueil_8c.html#a018917e8dacfd8fbe4e94d0f99a59c08">mise_a_jour_liste_comptes_accueil</a> = TRUE;
<a name="l01632"></a>01632 
<a name="l01633"></a>01633         <span class="keywordflow">if</span> ( <a class="code" href="parametres_8c.html#ab2a744f5d2124688473d13979420e911">etat</a>.<a class="code" href="structgsb__etat__t.html#a9d0fa9057da603e64a601d69d7bf2b51">modification_fichier</a> == 0 )
<a name="l01634"></a>01634         <a class="code" href="traitement__variables_8c.html#aa4084b9e508b1d1fea1d09c6b6208021">modification_fichier</a> ( TRUE );
<a name="l01635"></a>01635     }
<a name="l01636"></a>01636     <span class="keywordflow">return</span> FALSE;
<a name="l01637"></a>01637 }
<a name="l01638"></a>01638 
<a name="l01639"></a>01639 
<a name="l01640"></a>01640 
<a name="l01645"></a><a class="code" href="navigation_8h.html#adf246197990d5637d92d86667f1441fa">01645</a> gboolean <a class="code" href="navigation_8c.html#adf246197990d5637d92d86667f1441fa">navigation_row_drop_possible</a> ( GtkTreeDragDest * drag_dest, 
<a name="l01646"></a>01646                         GtkTreePath * dest_path,
<a name="l01647"></a>01647                         GtkSelectionData * selection_data )
<a name="l01648"></a>01648 {
<a name="l01649"></a>01649     <span class="keywordflow">if</span> ( dest_path &amp;&amp; selection_data )
<a name="l01650"></a>01650     {
<a name="l01651"></a>01651         GtkTreePath * orig_path;
<a name="l01652"></a>01652         GtkTreeModel * model;
<a name="l01653"></a>01653         gint src_report, dst_report = -1;
<a name="l01654"></a>01654         gint src_account, dst_account = -1, dst_page = -1;
<a name="l01655"></a>01655         GtkTreeIter iter;
<a name="l01656"></a>01656 
<a name="l01657"></a>01657         gtk_tree_get_row_drag_data ( selection_data, &amp;model, &amp;orig_path );
<a name="l01658"></a>01658 
<a name="l01659"></a>01659         <span class="keywordflow">if</span> ( gtk_tree_model_get_iter ( model, &amp;iter, orig_path ) )
<a name="l01660"></a>01660             gtk_tree_model_get ( model, &amp;iter, 
<a name="l01661"></a>01661                                  <a class="code" href="navigation_8h.html#a3f7cf16a5e5b276a8744f42496c2c441ad1379924ed0ede2912107c9394a0ec0e">NAVIGATION_REPORT</a>, &amp;src_report, 
<a name="l01662"></a>01662                                  <a class="code" href="navigation_8h.html#a3f7cf16a5e5b276a8744f42496c2c441a2bd700dd869e4529a09479b8e3a96cc6">NAVIGATION_ACCOUNT</a>, &amp;src_account,
<a name="l01663"></a>01663                                  -1 );
<a name="l01664"></a>01664 
<a name="l01665"></a>01665         <span class="keywordflow">if</span> ( gtk_tree_model_get_iter ( model, &amp;iter, dest_path ) )
<a name="l01666"></a>01666             gtk_tree_model_get ( model, &amp;iter, 
<a name="l01667"></a>01667                                  <a class="code" href="navigation_8h.html#a3f7cf16a5e5b276a8744f42496c2c441ad1379924ed0ede2912107c9394a0ec0e">NAVIGATION_REPORT</a>, &amp;dst_report, 
<a name="l01668"></a>01668                                  <a class="code" href="navigation_8h.html#a3f7cf16a5e5b276a8744f42496c2c441a2bd700dd869e4529a09479b8e3a96cc6">NAVIGATION_ACCOUNT</a>, &amp;dst_account,
<a name="l01669"></a>01669                                  <a class="code" href="navigation_8h.html#a3f7cf16a5e5b276a8744f42496c2c441ae2dcc16f7124d46c4bbd17a3f2162158">NAVIGATION_PAGE</a>, &amp;dst_page,
<a name="l01670"></a>01670                                  -1 );
<a name="l01671"></a>01671         
<a name="l01672"></a>01672         <span class="comment">/* We handle an account */</span>
<a name="l01673"></a>01673         <span class="keywordflow">if</span> ( src_account &gt;= 0 &amp;&amp; dst_account &gt;= 0 )
<a name="l01674"></a>01674         {
<a name="l01675"></a>01675             gchar* tmpstr =  g_strdup_printf (<span class="stringliteral">&quot;&gt; Possible (account, src : %d, dst : %d)&quot;</span>, src_account, dst_account);
<a name="l01676"></a>01676             <a class="code" href="erreur_8h.html#a4538fd4861a4ef0fdec1e42edd2ebf2b">notice_debug</a> ( tmpstr );
<a name="l01677"></a>01677             g_free ( tmpstr );
<a name="l01678"></a>01678             <span class="keywordflow">return</span> TRUE;
<a name="l01679"></a>01679         }
<a name="l01680"></a>01680         <span class="comment">/* We handle a report */</span>
<a name="l01681"></a>01681         <span class="keywordflow">else</span> <span class="keywordflow">if</span> ( src_report &gt; 0 &amp;&amp; dst_report &gt; 0 )
<a name="l01682"></a>01682         {
<a name="l01683"></a>01683             gchar* tmpstr = g_strdup_printf  (<span class="stringliteral">&quot;&gt; Possible (report, src : %d, dst : %d)&quot;</span>, src_report, dst_report);
<a name="l01684"></a>01684             <a class="code" href="erreur_8h.html#a4538fd4861a4ef0fdec1e42edd2ebf2b">notice_debug</a> ( tmpstr );
<a name="l01685"></a>01685             g_free ( tmpstr );
<a name="l01686"></a>01686             <span class="keywordflow">return</span> TRUE;
<a name="l01687"></a>01687         }
<a name="l01688"></a>01688     }
<a name="l01689"></a>01689 
<a name="l01690"></a>01690     <span class="keywordflow">return</span> FALSE;
<a name="l01691"></a>01691 }
<a name="l01692"></a>01692 
<a name="l01693"></a>01693 
<a name="l01698"></a><a class="code" href="navigation_8h.html#a4deacb31bc63a27b2ed5b39f79bffc0b">01698</a> <span class="keywordtype">void</span> <a class="code" href="navigation_8c.html#a4deacb31bc63a27b2ed5b39f79bffc0b">gsb_gui_navigation_update_home_page</a> ( <span class="keywordtype">void</span> )
<a name="l01699"></a>01699 {
<a name="l01700"></a>01700     <span class="keywordflow">if</span> ( <a class="code" href="navigation_8c.html#a06fa2882a164439e56e780c2127cd22c">gsb_gui_navigation_get_current_page</a> ( ) == <a class="code" href="fenetre__principale_8h.html#a1667fdc1081851887c24c98c97d51767a014aa768e2bd5b6ec3653f5d92499817">GSB_HOME_PAGE</a> )
<a name="l01701"></a>01701         <a class="code" href="accueil_8c.html#a15511226739a34542ef8d7b979aedcf0">mise_a_jour_accueil</a> ( TRUE );
<a name="l01702"></a>01702     <span class="keywordflow">else</span>
<a name="l01703"></a>01703         <a class="code" href="accueil_8c.html#a018917e8dacfd8fbe4e94d0f99a59c08">mise_a_jour_liste_comptes_accueil</a> = TRUE;
<a name="l01704"></a>01704 }
<a name="l01705"></a>01705 
<a name="l01706"></a>01706 
<a name="l01707"></a>01707 <span class="comment">/* Local Variables: */</span>
<a name="l01708"></a>01708 <span class="comment">/* c-basic-offset: 4 */</span>
<a name="l01709"></a>01709 <span class="comment">/* End: */</span>
</pre></div></div>
<hr class="footer"/><address style="text-align: right;"><small>Généré le Sat Aug 7 22:12:03 2010 pour Grisbi par&nbsp;
<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.6.3 </small></address>
</body>
</html>
