<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<title>Grisbi:  Fichier source de parametres.c</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="doxygen.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<!-- Généré par Doxygen 1.6.3 -->
<div class="navigation" id="top">
  <div class="tabs">
    <ul>
      <li><a href="main.html"><span>Page&nbsp;principale</span></a></li>
      <li><a href="pages.html"><span>Pages&nbsp;associées</span></a></li>
      <li><a href="annotated.html"><span>Structures&nbsp;de&nbsp;données</span></a></li>
      <li class="current"><a href="files.html"><span>Fichiers</span></a></li>
    </ul>
  </div>
  <div class="tabs">
    <ul>
      <li><a href="files.html"><span>Liste&nbsp;des&nbsp;fichiers</span></a></li>
      <li><a href="globals.html"><span>Portée&nbsp;globale</span></a></li>
    </ul>
  </div>
<h1>parametres.c</h1><a href="parametres_8c.html">Aller à la documentation de ce fichier.</a><div class="fragment"><pre class="fragment"><a name="l00001"></a>00001 <span class="comment">/* ************************************************************************** */</span>
<a name="l00002"></a>00002 <span class="comment">/*                                                                            */</span>
<a name="l00003"></a>00003 <span class="comment">/*     Copyright (C)    2000-2008 Cédric Auger (cedric@grisbi.org)            */</span>
<a name="l00004"></a>00004 <span class="comment">/*          2003-2009 Benjamin Drieu (bdrieu@april.org)                       */</span>
<a name="l00005"></a>00005 <span class="comment">/*          http://www.grisbi.org                                             */</span>
<a name="l00006"></a>00006 <span class="comment">/*                                                                            */</span>
<a name="l00007"></a>00007 <span class="comment">/*  This program is free software; you can redistribute it and/or modify      */</span>
<a name="l00008"></a>00008 <span class="comment">/*  it under the terms of the GNU General Public License as published by      */</span>
<a name="l00009"></a>00009 <span class="comment">/*  the Free Software Foundation; either version 2 of the License, or         */</span>
<a name="l00010"></a>00010 <span class="comment">/*  (at your option) any later version.                                       */</span>
<a name="l00011"></a>00011 <span class="comment">/*                                                                            */</span>
<a name="l00012"></a>00012 <span class="comment">/*  This program is distributed in the hope that it will be useful,           */</span>
<a name="l00013"></a>00013 <span class="comment">/*  but WITHOUT ANY WARRANTY; without even the implied warranty of            */</span>
<a name="l00014"></a>00014 <span class="comment">/*  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the             */</span>
<a name="l00015"></a>00015 <span class="comment">/*  GNU General Public License for more details.                              */</span>
<a name="l00016"></a>00016 <span class="comment">/*                                                                            */</span>
<a name="l00017"></a>00017 <span class="comment">/*  You should have received a copy of the GNU General Public License         */</span>
<a name="l00018"></a>00018 <span class="comment">/*  along with this program; if not, write to the Free Software               */</span>
<a name="l00019"></a>00019 <span class="comment">/*  Foundation, Inc., 59 Temple Place, Suite 330, Boston, MA  02111-1307  USA */</span>
<a name="l00020"></a>00020 <span class="comment">/*                                                                            */</span>
<a name="l00021"></a>00021 <span class="comment">/* ************************************************************************** */</span>
<a name="l00022"></a>00022 
<a name="l00028"></a>00028 <span class="preprocessor">#include &quot;<a class="code" href="include_8h.html">include.h</a>&quot;</span>
<a name="l00029"></a>00029 
<a name="l00030"></a>00030 
<a name="l00031"></a>00031 <span class="comment">/*START_INCLUDE*/</span>
<a name="l00032"></a>00032 <span class="preprocessor">#include &quot;<a class="code" href="parametres_8h.html">parametres.h</a>&quot;</span>
<a name="l00033"></a>00033 <span class="preprocessor">#include &quot;<a class="code" href="menu_8h.html">menu.h</a>&quot;</span>
<a name="l00034"></a>00034 <span class="preprocessor">#include &quot;<a class="code" href="utils_8h.html">utils.h</a>&quot;</span>
<a name="l00035"></a>00035 <span class="preprocessor">#include &quot;<a class="code" href="bet__config_8h.html">bet_config.h</a>&quot;</span>
<a name="l00036"></a>00036 <span class="preprocessor">#include &quot;<a class="code" href="dialog_8h.html">dialog.h</a>&quot;</span>
<a name="l00037"></a>00037 <span class="preprocessor">#include &quot;<a class="code" href="gsb__archive__config_8h.html">gsb_archive_config.h</a>&quot;</span>
<a name="l00038"></a>00038 <span class="preprocessor">#include &quot;<a class="code" href="gsb__automem_8h.html">gsb_automem.h</a>&quot;</span>
<a name="l00039"></a>00039 <span class="preprocessor">#include &quot;<a class="code" href="gsb__bank_8h.html">gsb_bank.h</a>&quot;</span>
<a name="l00040"></a>00040 <span class="preprocessor">#include &quot;<a class="code" href="gsb__currency__config_8h.html">gsb_currency_config.h</a>&quot;</span>
<a name="l00041"></a>00041 <span class="preprocessor">#include &quot;<a class="code" href="gsb__currency__link__config_8h.html">gsb_currency_link_config.h</a>&quot;</span>
<a name="l00042"></a>00042 <span class="preprocessor">#include &quot;<a class="code" href="gsb__data__account_8h.html">gsb_data_account.h</a>&quot;</span>
<a name="l00043"></a>00043 <span class="preprocessor">#include &quot;<a class="code" href="gsb__file_8h.html">gsb_file.h</a>&quot;</span>
<a name="l00044"></a>00044 <span class="preprocessor">#include &quot;<a class="code" href="gsb__form__config_8h.html">gsb_form_config.h</a>&quot;</span>
<a name="l00045"></a>00045 <span class="preprocessor">#include &quot;<a class="code" href="gsb__fyear__config_8h.html">gsb_fyear_config.h</a>&quot;</span>
<a name="l00046"></a>00046 <span class="preprocessor">#include &quot;<a class="code" href="navigation_8h.html">navigation.h</a>&quot;</span>
<a name="l00047"></a>00047 <span class="preprocessor">#include &quot;<a class="code" href="import_8h.html">import.h</a>&quot;</span>
<a name="l00048"></a>00048 <span class="preprocessor">#include &quot;<a class="code" href="gsb__payment__method__config_8h.html">gsb_payment_method_config.h</a>&quot;</span>
<a name="l00049"></a>00049 <span class="preprocessor">#include &quot;<a class="code" href="gsb__reconcile__config_8h.html">gsb_reconcile_config.h</a>&quot;</span>
<a name="l00050"></a>00050 <span class="preprocessor">#include &quot;<a class="code" href="gsb__reconcile__sort__config_8h.html">gsb_reconcile_sort_config.h</a>&quot;</span>
<a name="l00051"></a>00051 <span class="preprocessor">#include &quot;<a class="code" href="traitement__variables_8h.html">traitement_variables.h</a>&quot;</span>
<a name="l00052"></a>00052 <span class="preprocessor">#include &quot;<a class="code" href="utils__files_8h.html">utils_files.h</a>&quot;</span>
<a name="l00053"></a>00053 <span class="preprocessor">#include &quot;<a class="code" href="accueil_8h.html">accueil.h</a>&quot;</span>
<a name="l00054"></a>00054 <span class="preprocessor">#include &quot;<a class="code" href="affichage__liste_8h.html">affichage_liste.h</a>&quot;</span>
<a name="l00055"></a>00055 <span class="preprocessor">#include &quot;<a class="code" href="affichage_8h.html">affichage.h</a>&quot;</span>
<a name="l00056"></a>00056 <span class="preprocessor">#include &quot;<a class="code" href="tiers__onglet_8h.html">tiers_onglet.h</a>&quot;</span>
<a name="l00057"></a>00057 <span class="preprocessor">#include &quot;<a class="code" href="categories__onglet_8h.html">categories_onglet.h</a>&quot;</span>
<a name="l00058"></a>00058 <span class="preprocessor">#include &quot;<a class="code" href="imputation__budgetaire_8h.html">imputation_budgetaire.h</a>&quot;</span>
<a name="l00059"></a>00059 <span class="preprocessor">#include &quot;<a class="code" href="structures_8h.html">structures.h</a>&quot;</span>
<a name="l00060"></a>00060 <span class="preprocessor">#include &quot;<a class="code" href="fenetre__principale_8h.html">fenetre_principale.h</a>&quot;</span>
<a name="l00061"></a>00061 <span class="preprocessor">#include &quot;<a class="code" href="include_8h.html">include.h</a>&quot;</span>
<a name="l00062"></a>00062 <span class="preprocessor">#include &quot;<a class="code" href="erreur_8h.html">erreur.h</a>&quot;</span>
<a name="l00063"></a>00063 <span class="comment">/*END_INCLUDE*/</span>
<a name="l00064"></a>00064 
<a name="l00065"></a>00065 <span class="comment">/*START_STATIC*/</span>
<a name="l00066"></a>00066 <span class="keyword">static</span> GtkWidget * create_preferences_tree ( );
<a name="l00067"></a>00067 <span class="keyword">static</span> GtkWidget *gsb_config_scheduler_page ( <span class="keywordtype">void</span> );
<a name="l00068"></a>00068 <span class="keyword">static</span> gboolean gsb_config_scheduler_switch_balances_with_scheduled ( <span class="keywordtype">void</span> );
<a name="l00069"></a>00069 <span class="keyword">static</span> gboolean gsb_gui_delete_msg_toggled ( GtkCellRendererToggle *cell, gchar *path_str,
<a name="l00070"></a>00070                         GtkTreeModel * model );
<a name="l00071"></a>00071 <span class="keyword">static</span> gboolean gsb_gui_messages_toggled ( GtkCellRendererToggle *cell, gchar *path_str,
<a name="l00072"></a>00072                         GtkTreeModel * model );
<a name="l00073"></a>00073 <span class="keyword">static</span> GtkWidget *onglet_delete_messages ( <span class="keywordtype">void</span> );
<a name="l00074"></a>00074 <span class="keyword">static</span> GtkWidget *onglet_fichier ( <span class="keywordtype">void</span> );
<a name="l00075"></a>00075 <span class="keyword">static</span> GtkWidget *onglet_messages_and_warnings ( <span class="keywordtype">void</span> );
<a name="l00076"></a>00076 <span class="keyword">static</span> GtkWidget *onglet_metatree ( <span class="keywordtype">void</span> );
<a name="l00077"></a>00077 <span class="keyword">static</span> GtkWidget *onglet_programmes (<span class="keywordtype">void</span>);
<a name="l00078"></a>00078 <span class="keyword">static</span> gboolean preference_selectable_func (GtkTreeSelection *selection,
<a name="l00079"></a>00079                         GtkTreeModel *model,
<a name="l00080"></a>00080                         GtkTreePath *path,
<a name="l00081"></a>00081                         gboolean path_currently_selected,
<a name="l00082"></a>00082                         gpointer data);
<a name="l00083"></a>00083 <span class="keyword">static</span> gboolean selectionne_liste_preference ( GtkTreeSelection *selection,
<a name="l00084"></a>00084                         GtkTreeModel *model );
<a name="l00085"></a>00085 <span class="comment">/*END_STATIC*/</span>
<a name="l00086"></a>00086 
<a name="l00087"></a>00087 
<a name="l00088"></a>00088 <span class="comment">/* global &quot;etat&quot; structure shared in the entire program */</span>
<a name="l00089"></a><a class="code" href="structures_8h.html#ab2a744f5d2124688473d13979420e911">00089</a> <span class="keyword">struct </span><a class="code" href="structgsb__etat__t.html">gsb_etat_t</a> <a class="code" href="parametres_8c.html#ab2a744f5d2124688473d13979420e911">etat</a>;
<a name="l00090"></a>00090 
<a name="l00091"></a><a class="code" href="parametres_8c.html#a280b98575c3c9e0b637ec78b157a1ff4">00091</a> GtkWidget *<a class="code" href="affichage_8c.html#a280b98575c3c9e0b637ec78b157a1ff4">fenetre_preferences</a> = NULL;
<a name="l00092"></a>00092 
<a name="l00093"></a>00093 <span class="keyword">static</span> GtkTreeStore *preference_tree_model = NULL;
<a name="l00094"></a>00094 <span class="keyword">static</span> GtkNotebook * preference_frame = NULL;
<a name="l00095"></a>00095 
<a name="l00096"></a>00096 <span class="keyword">static</span> gint width_spin_button = 50;
<a name="l00097"></a>00097 
<a name="l00098"></a>00098 
<a name="l00099"></a>00099 <span class="comment">/*START_EXTERN*/</span>
<a name="l00100"></a>00100 <span class="keyword">extern</span> gboolean <a class="code" href="accueil_8c.html#a2f70ab8aa9d2a494c0653e8f29eddf40">balances_with_scheduled</a>;
<a name="l00101"></a>00101 <span class="keyword">extern</span> <span class="keyword">struct </span><a class="code" href="structconditional__message.html">conditional_message</a> <a class="code" href="gsb__file__config_8c.html#a8be9044200783277533661fc770e77f5">delete_msg</a>[];
<a name="l00102"></a>00102 <span class="keyword">extern</span> gboolean <a class="code" href="gsb__file__config_8c.html#a28dbce464ef05c5a6db0d64a31fff16d">execute_scheduled_of_month</a>;
<a name="l00103"></a>00103 <span class="keyword">extern</span> <span class="keyword">struct </span><a class="code" href="structconditional__message.html">conditional_message</a> <a class="code" href="dialog_8c.html#a430b9f94c0af809780196ca7d7040fde">messages</a>[];
<a name="l00104"></a>00104 <span class="keyword">extern</span> gint <a class="code" href="gsb__file__config_8c.html#ab4baae80534027ea3fe73d417c48caaa">nb_days_before_scheduled</a>;
<a name="l00105"></a>00105 <span class="keyword">extern</span> gint <a class="code" href="gsb__file_8c.html#a691d56f7a427c60a7714f6bec232807b">nb_max_derniers_fichiers_ouverts</a>;
<a name="l00106"></a>00106 <span class="keyword">extern</span> gchar *<a class="code" href="accueil_8c.html#a787cc81cf2ad728775b73d723713980b">titre_fichier</a>;
<a name="l00107"></a>00107 <span class="keyword">extern</span> GtkWidget *<a class="code" href="accueil_8c.html#a3d346c08cf2d67c388caabffb412b293">window</a>;
<a name="l00108"></a>00108 <span class="comment">/*END_EXTERN*/</span>
<a name="l00109"></a>00109 
<a name="l00110"></a>00110 
<a name="l00117"></a>00117 GtkWidget * create_preferences_tree ( )
<a name="l00118"></a>00118 {
<a name="l00119"></a>00119     GtkWidget *sw;
<a name="l00120"></a>00120     GtkTreeViewColumn *column;
<a name="l00121"></a>00121     GtkCellRenderer *cell;
<a name="l00122"></a>00122     GtkTreeSelection * selection;
<a name="l00123"></a>00123     GtkWidget *tree_view;
<a name="l00124"></a>00124 
<a name="l00125"></a>00125     <span class="comment">/* Create model */</span>
<a name="l00126"></a>00126     preference_tree_model = gtk_tree_store_new (3,
<a name="l00127"></a>00127                         G_TYPE_STRING,
<a name="l00128"></a>00128                         G_TYPE_INT,
<a name="l00129"></a>00129                         G_TYPE_INT );
<a name="l00130"></a>00130 
<a name="l00131"></a>00131     <span class="comment">/* Create container + TreeView */</span>
<a name="l00132"></a>00132     sw = gtk_scrolled_window_new ( NULL, NULL );
<a name="l00133"></a>00133     gtk_scrolled_window_set_shadow_type ( GTK_SCROLLED_WINDOW (sw),
<a name="l00134"></a>00134                         GTK_SHADOW_IN );
<a name="l00135"></a>00135     gtk_scrolled_window_set_policy ( GTK_SCROLLED_WINDOW (sw),
<a name="l00136"></a>00136                         GTK_POLICY_NEVER,
<a name="l00137"></a>00137                         GTK_POLICY_AUTOMATIC );
<a name="l00138"></a>00138     tree_view = gtk_tree_view_new();
<a name="l00139"></a>00139     gtk_tree_view_set_model ( GTK_TREE_VIEW (tree_view),
<a name="l00140"></a>00140                         GTK_TREE_MODEL ( preference_tree_model ) );
<a name="l00141"></a>00141     g_object_unref ( G_OBJECT(preference_tree_model) );
<a name="l00142"></a>00142 
<a name="l00143"></a>00143     <span class="comment">/* Make column */</span>
<a name="l00144"></a>00144     cell = gtk_cell_renderer_text_new ();
<a name="l00145"></a>00145     column = gtk_tree_view_column_new_with_attributes (<span class="stringliteral">&quot;Categories&quot;</span>,
<a name="l00146"></a>00146                         cell,
<a name="l00147"></a>00147                         <span class="stringliteral">&quot;text&quot;</span>, 0,
<a name="l00148"></a>00148                         NULL);
<a name="l00149"></a>00149     gtk_tree_view_column_add_attribute ( GTK_TREE_VIEW_COLUMN(column), cell,
<a name="l00150"></a>00150                         <span class="stringliteral">&quot;weight&quot;</span>, 2 );
<a name="l00151"></a>00151 
<a name="l00152"></a>00152     gtk_tree_view_append_column (GTK_TREE_VIEW (tree_view),
<a name="l00153"></a>00153                         GTK_TREE_VIEW_COLUMN (column));
<a name="l00154"></a>00154     gtk_tree_view_set_headers_visible ( GTK_TREE_VIEW (tree_view), FALSE );
<a name="l00155"></a>00155 
<a name="l00156"></a>00156     <span class="comment">/* Handle select */</span>
<a name="l00157"></a>00157     selection = gtk_tree_view_get_selection (GTK_TREE_VIEW (tree_view));
<a name="l00158"></a>00158     g_signal_connect (selection, 
<a name="l00159"></a>00159                         <span class="stringliteral">&quot;changed&quot;</span>,
<a name="l00160"></a>00160                         (GCallback) selectionne_liste_preference,
<a name="l00161"></a>00161                         preference_tree_model);
<a name="l00162"></a>00162 
<a name="l00163"></a>00163     <span class="comment">/* Choose which entries will be selectable */</span>
<a name="l00164"></a>00164     gtk_tree_selection_set_select_function ( selection,
<a name="l00165"></a>00165                         preference_selectable_func,
<a name="l00166"></a>00166                         NULL, NULL );
<a name="l00167"></a>00167 
<a name="l00168"></a>00168     <span class="comment">/* Put the tree in the scroll */</span>
<a name="l00169"></a>00169     gtk_container_add (GTK_CONTAINER (sw), tree_view);
<a name="l00170"></a>00170 
<a name="l00171"></a>00171     <span class="comment">/* expand all rows after the treeview widget has been realized */</span>
<a name="l00172"></a>00172     g_signal_connect ( tree_view, 
<a name="l00173"></a>00173                         <span class="stringliteral">&quot;realize&quot;</span>,
<a name="l00174"></a>00174                         (GCallback) gtk_tree_view_expand_all,
<a name="l00175"></a>00175                         NULL );
<a name="l00176"></a>00176 
<a name="l00177"></a>00177     <span class="keywordflow">return</span> sw;
<a name="l00178"></a>00178 }
<a name="l00179"></a>00179 
<a name="l00180"></a>00180 
<a name="l00181"></a>00181 gboolean preference_selectable_func (GtkTreeSelection *selection,
<a name="l00182"></a>00182                         GtkTreeModel *model,
<a name="l00183"></a>00183                         GtkTreePath *path,
<a name="l00184"></a>00184                         gboolean path_currently_selected,
<a name="l00185"></a>00185                         gpointer data)
<a name="l00186"></a>00186 {
<a name="l00187"></a>00187     GtkTreeIter iter;
<a name="l00188"></a>00188     GValue value = {0, };
<a name="l00189"></a>00189 
<a name="l00190"></a>00190     gtk_tree_model_get_iter ( model, &amp;iter, path );
<a name="l00191"></a>00191     gtk_tree_model_get_value ( model, &amp;iter, 1, &amp;value );
<a name="l00192"></a>00192 
<a name="l00193"></a>00193     <span class="keywordflow">if</span> ( g_value_get_int(&amp;value) == <a class="code" href="parametres_8h.html#a159af6b678395026f75b3cf6690301ada45dbc2abf3dd4f463cdc34b6c9fbc28a">NOT_A_PAGE</a> )
<a name="l00194"></a>00194     {
<a name="l00195"></a>00195         g_value_unset (&amp;value);
<a name="l00196"></a>00196         <span class="keywordflow">return</span> FALSE;
<a name="l00197"></a>00197     }
<a name="l00198"></a>00198 
<a name="l00199"></a>00199     g_value_unset (&amp;value);
<a name="l00200"></a>00200     <span class="keywordflow">return</span> TRUE;
<a name="l00201"></a>00201 }
<a name="l00202"></a>00202 
<a name="l00203"></a>00203 
<a name="l00204"></a>00204 
<a name="l00213"></a><a class="code" href="parametres_8h.html#a0da746576e2617f919aa2c8047ec3bf0">00213</a> gboolean <a class="code" href="parametres_8c.html#a0da746576e2617f919aa2c8047ec3bf0">gsb_preferences_menu_open</a> ( GtkWidget *menu_item,
<a name="l00214"></a>00214                         gpointer page_ptr )
<a name="l00215"></a>00215 {
<a name="l00216"></a>00216     <a class="code" href="parametres_8c.html#a11ca21a8e0c2101e89252e4b391530bf">preferences</a> (GPOINTER_TO_INT (page_ptr) );
<a name="l00217"></a>00217     <span class="keywordflow">return</span> FALSE;
<a name="l00218"></a>00218 }
<a name="l00219"></a>00219 
<a name="l00220"></a>00220 
<a name="l00228"></a><a class="code" href="parametres_8h.html#a11ca21a8e0c2101e89252e4b391530bf">00228</a> gboolean <a class="code" href="parametres_8c.html#a11ca21a8e0c2101e89252e4b391530bf">preferences</a> ( gint page )
<a name="l00229"></a>00229 {
<a name="l00230"></a>00230     GtkWidget *hbox, *tree;
<a name="l00231"></a>00231     GtkTreeIter iter, iter2;
<a name="l00232"></a>00232     GtkWidget *hpaned;
<a name="l00233"></a>00233 
<a name="l00234"></a>00234     <a class="code" href="erreur_8h.html#a10f4eeae4cc251a8d632fd62ec1057fb">devel_debug_int</a> (page);
<a name="l00235"></a>00235 
<a name="l00236"></a>00236     <span class="comment">/* Create dialog */</span>
<a name="l00237"></a>00237     <a class="code" href="affichage_8c.html#a280b98575c3c9e0b637ec78b157a1ff4">fenetre_preferences</a> = gtk_dialog_new_with_buttons (_(<span class="stringliteral">&quot;Grisbi preferences&quot;</span>),
<a name="l00238"></a>00238                         GTK_WINDOW ( <a class="code" href="accueil_8c.html#a3d346c08cf2d67c388caabffb412b293">window</a> ),
<a name="l00239"></a>00239                         GTK_DIALOG_MODAL,
<a name="l00240"></a>00240                         GTK_STOCK_CLOSE, GTK_RESPONSE_CLOSE,
<a name="l00241"></a>00241                         NULL );
<a name="l00242"></a>00242 
<a name="l00243"></a>00243     <span class="keywordflow">if</span> ( <a class="code" href="gsb__file__config_8c.html#ac390e947e97cef2bec2f5d59d6ec1071">conf</a>.<a class="code" href="structgsb__conf__t.html#a54050896320456071ee967c63f151607">prefs_width</a> )
<a name="l00244"></a>00244         gtk_window_set_default_size ( GTK_WINDOW ( <a class="code" href="affichage_8c.html#a280b98575c3c9e0b637ec78b157a1ff4">fenetre_preferences</a> ),
<a name="l00245"></a>00245                         <a class="code" href="gsb__file__config_8c.html#ac390e947e97cef2bec2f5d59d6ec1071">conf</a>.<a class="code" href="structgsb__conf__t.html#a54050896320456071ee967c63f151607">prefs_width</a>, -1 );
<a name="l00246"></a>00246     gtk_window_set_position ( GTK_WINDOW ( <a class="code" href="affichage_8c.html#a280b98575c3c9e0b637ec78b157a1ff4">fenetre_preferences</a> ), GTK_WIN_POS_CENTER_ON_PARENT );
<a name="l00247"></a>00247     gtk_window_set_resizable ( GTK_WINDOW ( <a class="code" href="affichage_8c.html#a280b98575c3c9e0b637ec78b157a1ff4">fenetre_preferences</a> ), TRUE );
<a name="l00248"></a>00248 
<a name="l00249"></a>00249     <span class="comment">/* Create List &amp; Tree for topics */</span>
<a name="l00250"></a>00250     tree = create_preferences_tree();
<a name="l00251"></a>00251     hpaned = gtk_hpaned_new();
<a name="l00252"></a>00252     gtk_paned_add1 ( GTK_PANED(hpaned), tree );
<a name="l00253"></a>00253     hbox = gtk_hbox_new ( FALSE, 0 );
<a name="l00254"></a>00254     gtk_paned_add2 ( GTK_PANED (hpaned), hbox );
<a name="l00255"></a>00255 
<a name="l00256"></a>00256     <span class="comment">/* Frame for preferences */</span>
<a name="l00257"></a>00257     preference_frame = GTK_NOTEBOOK ( gtk_notebook_new () );
<a name="l00258"></a>00258     gtk_notebook_set_show_border ( preference_frame, FALSE );
<a name="l00259"></a>00259     gtk_notebook_set_show_tabs  ( preference_frame, FALSE );
<a name="l00260"></a>00260     gtk_notebook_set_scrollable ( preference_frame, TRUE );
<a name="l00261"></a>00261     gtk_box_pack_start ( GTK_BOX ( hbox ), GTK_WIDGET(preference_frame), TRUE, TRUE, 0 );
<a name="l00262"></a>00262 
<a name="l00263"></a>00263     <span class="comment">/* Main subtree */</span>
<a name="l00264"></a>00264     gtk_tree_store_append (GTK_TREE_STORE (preference_tree_model), &amp;iter, NULL);
<a name="l00265"></a>00265     gtk_tree_store_set (GTK_TREE_STORE (preference_tree_model),
<a name="l00266"></a>00266                         &amp;iter,
<a name="l00267"></a>00267                         0, _(<span class="stringliteral">&quot;Main&quot;</span>),
<a name="l00268"></a>00268                         1, <a class="code" href="parametres_8h.html#a159af6b678395026f75b3cf6690301ada45dbc2abf3dd4f463cdc34b6c9fbc28a">NOT_A_PAGE</a>,
<a name="l00269"></a>00269                         2, 800,
<a name="l00270"></a>00270                         -1);
<a name="l00271"></a>00271 
<a name="l00272"></a>00272     <span class="comment">/* File tab */</span>
<a name="l00273"></a>00273     gtk_tree_store_append (GTK_TREE_STORE (preference_tree_model), &amp;iter2, &amp;iter);
<a name="l00274"></a>00274     gtk_tree_store_set (GTK_TREE_STORE (preference_tree_model),
<a name="l00275"></a>00275                         &amp;iter2,
<a name="l00276"></a>00276                         0, _(<span class="stringliteral">&quot;Files&quot;</span>),
<a name="l00277"></a>00277                         1, <a class="code" href="parametres_8h.html#a159af6b678395026f75b3cf6690301ada331431408001470a72aaae89798210c2">FILES_PAGE</a>,
<a name="l00278"></a>00278                         2, 400,
<a name="l00279"></a>00279                         -1);
<a name="l00280"></a>00280     gtk_notebook_append_page (preference_frame, onglet_fichier(), NULL);
<a name="l00281"></a>00281     <span class="comment">/* by default, we select that first page */</span>
<a name="l00282"></a>00282 
<a name="l00283"></a>00283     gtk_tree_store_append (GTK_TREE_STORE (preference_tree_model), &amp;iter2, &amp;iter);
<a name="l00284"></a>00284     gtk_tree_store_set (GTK_TREE_STORE (preference_tree_model),
<a name="l00285"></a>00285                         &amp;iter2,
<a name="l00286"></a>00286                         0, _(<span class="stringliteral">&quot;Archives&quot;</span>),
<a name="l00287"></a>00287                         1, <a class="code" href="parametres_8h.html#a159af6b678395026f75b3cf6690301ada1220a419de5254b18d4bf1e760375cd4">ARCHIVE_PAGE</a>,
<a name="l00288"></a>00288                         2, 400,
<a name="l00289"></a>00289                         -1);
<a name="l00290"></a>00290     gtk_notebook_append_page (preference_frame, <a class="code" href="gsb__archive__config_8c.html#a58f2c999f923a1d2ed35bd88b206b95d">gsb_archive_config_create</a> (), NULL);
<a name="l00291"></a>00291 
<a name="l00292"></a>00292     gtk_tree_store_append (GTK_TREE_STORE (preference_tree_model), &amp;iter2, &amp;iter);
<a name="l00293"></a>00293     gtk_tree_store_set (GTK_TREE_STORE (preference_tree_model),
<a name="l00294"></a>00294                         &amp;iter2,
<a name="l00295"></a>00295                         0, _(<span class="stringliteral">&quot;Import&quot;</span>),
<a name="l00296"></a>00296                         1, <a class="code" href="parametres_8h.html#a159af6b678395026f75b3cf6690301ada14937c0583996f24f239a93115eaa41e">IMPORT_PAGE</a>,
<a name="l00297"></a>00297                         2, 400,
<a name="l00298"></a>00298                         -1);
<a name="l00299"></a>00299     gtk_notebook_append_page (preference_frame, <a class="code" href="import_8c.html#a248bf76497a7936687f79e28da9ff0e8">onglet_importation</a>(), NULL);
<a name="l00300"></a>00300 
<a name="l00301"></a>00301     gtk_tree_store_append (GTK_TREE_STORE (preference_tree_model), &amp;iter2, &amp;iter);
<a name="l00302"></a>00302     gtk_tree_store_set (GTK_TREE_STORE (preference_tree_model),
<a name="l00303"></a>00303                         &amp;iter2,
<a name="l00304"></a>00304                         0, _(<span class="stringliteral">&quot;Import associations&quot;</span>),
<a name="l00305"></a>00305                         1, <a class="code" href="parametres_8h.html#a159af6b678395026f75b3cf6690301ada3e9390c8431f275409f84274af743a4e">IMPORT_ASSOCIATION_PAGE</a>,
<a name="l00306"></a>00306                         2, 400,
<a name="l00307"></a>00307                         -1);
<a name="l00308"></a>00308     gtk_notebook_append_page (preference_frame, 
<a name="l00309"></a>00309                         <a class="code" href="import_8c.html#aeedd1884f94db09625397f7714850f82">gsb_import_associations_gere_tiers</a> (), NULL);
<a name="l00310"></a>00310 
<a name="l00311"></a>00311     gtk_tree_store_append (GTK_TREE_STORE (preference_tree_model), &amp;iter2, &amp;iter);
<a name="l00312"></a>00312     gtk_tree_store_set (GTK_TREE_STORE (preference_tree_model),
<a name="l00313"></a>00313                         &amp;iter2,
<a name="l00314"></a>00314                         0, _(<span class="stringliteral">&quot;Programs&quot;</span>),
<a name="l00315"></a>00315                         1, <a class="code" href="parametres_8h.html#a159af6b678395026f75b3cf6690301adab4da2662b602b98d5250f422637c1270">SOFTWARE_PAGE</a>,
<a name="l00316"></a>00316                         2, 400,
<a name="l00317"></a>00317                         -1);
<a name="l00318"></a>00318     gtk_notebook_append_page (preference_frame, onglet_programmes(), NULL);
<a name="l00319"></a>00319 
<a name="l00320"></a>00320     gtk_tree_store_append (GTK_TREE_STORE (preference_tree_model), &amp;iter2, &amp;iter);
<a name="l00321"></a>00321     gtk_tree_store_set (GTK_TREE_STORE (preference_tree_model),
<a name="l00322"></a>00322                         &amp;iter2,
<a name="l00323"></a>00323                         0, _(<span class="stringliteral">&quot;Scheduler&quot;</span>),
<a name="l00324"></a>00324                         1, <a class="code" href="parametres_8h.html#a159af6b678395026f75b3cf6690301ada070e77c30f7ccd918c94fea843c963e9">SCHEDULER_PAGE</a>,
<a name="l00325"></a>00325                         2, 400,
<a name="l00326"></a>00326                         -1);
<a name="l00327"></a>00327     gtk_notebook_append_page (preference_frame, gsb_config_scheduler_page (), NULL);
<a name="l00328"></a>00328 
<a name="l00329"></a>00329     gtk_tree_store_append (GTK_TREE_STORE (preference_tree_model), &amp;iter2, &amp;iter);
<a name="l00330"></a>00330     gtk_tree_store_set (GTK_TREE_STORE (preference_tree_model),
<a name="l00331"></a>00331                         &amp;iter2,
<a name="l00332"></a>00332                         0, _(<span class="stringliteral">&quot;Main page&quot;</span>),
<a name="l00333"></a>00333                         1, <a class="code" href="parametres_8h.html#a159af6b678395026f75b3cf6690301ada18280b31065b2810b58f08f740a82c25">MAIN_PAGE</a>,
<a name="l00334"></a>00334                         2, 400,
<a name="l00335"></a>00335                         -1);
<a name="l00336"></a>00336     gtk_notebook_append_page (preference_frame, <a class="code" href="accueil_8c.html#a2ce3fbe764b92fba9b115271c89ddbb1">onglet_accueil</a> (), NULL);
<a name="l00337"></a>00337 
<a name="l00338"></a>00338     <span class="comment">/* Display subtree */</span>
<a name="l00339"></a>00339     gtk_tree_store_append (GTK_TREE_STORE (preference_tree_model), &amp;iter, NULL);
<a name="l00340"></a>00340     gtk_tree_store_set (GTK_TREE_STORE (preference_tree_model),
<a name="l00341"></a>00341                         &amp;iter,
<a name="l00342"></a>00342                         0, _(<span class="stringliteral">&quot;Display&quot;</span>),
<a name="l00343"></a>00343                         1, <a class="code" href="parametres_8h.html#a159af6b678395026f75b3cf6690301ada45dbc2abf3dd4f463cdc34b6c9fbc28a">NOT_A_PAGE</a>,
<a name="l00344"></a>00344                         2, 800,
<a name="l00345"></a>00345                         -1);
<a name="l00346"></a>00346 
<a name="l00347"></a>00347     gtk_tree_store_append (GTK_TREE_STORE (preference_tree_model), &amp;iter2, &amp;iter);
<a name="l00348"></a>00348     gtk_tree_store_set (GTK_TREE_STORE (preference_tree_model),
<a name="l00349"></a>00349                         &amp;iter2,
<a name="l00350"></a>00350                         0, _(<span class="stringliteral">&quot;Fonts &amp; logo&quot;</span>),
<a name="l00351"></a>00351                         1, <a class="code" href="parametres_8h.html#a159af6b678395026f75b3cf6690301ada7f841787883c223ff1dd2e1254bb0f24">FONTS_AND_LOGO_PAGE</a>,
<a name="l00352"></a>00352                         2, 400,
<a name="l00353"></a>00353                         -1);
<a name="l00354"></a>00354     gtk_notebook_append_page (preference_frame, <a class="code" href="affichage_8c.html#ab7ab35642d20a97b0129dc7df997c989">onglet_display_fonts</a>(), NULL);
<a name="l00355"></a>00355 
<a name="l00356"></a>00356     gtk_tree_store_append (GTK_TREE_STORE (preference_tree_model), &amp;iter2, &amp;iter);
<a name="l00357"></a>00357     gtk_tree_store_set (GTK_TREE_STORE (preference_tree_model),
<a name="l00358"></a>00358                         &amp;iter2,
<a name="l00359"></a>00359                         0, _(<span class="stringliteral">&quot;Messages &amp; warnings&quot;</span>),
<a name="l00360"></a>00360                         1, <a class="code" href="parametres_8h.html#a159af6b678395026f75b3cf6690301adae83a3f17663ebb4c53be5d042a096a0b">MESSAGES_AND_WARNINGS_PAGE</a>,
<a name="l00361"></a>00361                         2, 400,
<a name="l00362"></a>00362                         -1);
<a name="l00363"></a>00363     gtk_notebook_append_page (preference_frame, onglet_messages_and_warnings(), NULL);
<a name="l00364"></a>00364 
<a name="l00365"></a>00365     gtk_tree_store_append (GTK_TREE_STORE (preference_tree_model), &amp;iter2, &amp;iter);
<a name="l00366"></a>00366     gtk_tree_store_set (GTK_TREE_STORE (preference_tree_model),
<a name="l00367"></a>00367                         &amp;iter2,
<a name="l00368"></a>00368                         0, _(<span class="stringliteral">&quot;Addresses &amp; titles&quot;</span>),
<a name="l00369"></a>00369                         1, <a class="code" href="parametres_8h.html#a159af6b678395026f75b3cf6690301ada2c95cdb3638ab7f48d3a0d6a302d6d6a">ADDRESSES_AND_TITLES_PAGE</a>,
<a name="l00370"></a>00370                         2, 400,
<a name="l00371"></a>00371                         -1);
<a name="l00372"></a>00372     gtk_notebook_append_page (preference_frame, <a class="code" href="affichage_8c.html#a8188edfa1a69ab92d5aee186855442b8">onglet_display_addresses</a>(), NULL);
<a name="l00373"></a>00373 
<a name="l00374"></a>00374     gtk_tree_store_append (GTK_TREE_STORE (preference_tree_model), &amp;iter2, &amp;iter);
<a name="l00375"></a>00375     gtk_tree_store_set (GTK_TREE_STORE (preference_tree_model),
<a name="l00376"></a>00376                         &amp;iter2,
<a name="l00377"></a>00377                         0, _(<span class="stringliteral">&quot;Payees, categories and budgetaries&quot;</span>),
<a name="l00378"></a>00378                         1, <a class="code" href="parametres_8h.html#a159af6b678395026f75b3cf6690301ada951b919efd43a0b7716045cda0bd215c">TOTALS_PAGE</a>,
<a name="l00379"></a>00379                         2, 400,
<a name="l00380"></a>00380                         -1);
<a name="l00381"></a>00381     gtk_notebook_append_page ( preference_frame, onglet_metatree (), NULL );
<a name="l00382"></a>00382 
<a name="l00383"></a>00383     gtk_tree_store_append (GTK_TREE_STORE (preference_tree_model), &amp;iter2, &amp;iter);
<a name="l00384"></a>00384     gtk_tree_store_set (GTK_TREE_STORE (preference_tree_model),
<a name="l00385"></a>00385                         &amp;iter2,
<a name="l00386"></a>00386                         0, _(<span class="stringliteral">&quot;Toolbars&quot;</span>),
<a name="l00387"></a>00387                         1, <a class="code" href="parametres_8h.html#a159af6b678395026f75b3cf6690301adaa89f718f214862b118d9f1642944c935">TOOLBARS_PAGE</a>,
<a name="l00388"></a>00388                         2, 400,
<a name="l00389"></a>00389                         -1);
<a name="l00390"></a>00390     gtk_notebook_append_page (preference_frame, <a class="code" href="affichage_8c.html#ad383c9540bfca50409800d2d9869c3ac">tab_display_toolbar</a>(), NULL);
<a name="l00391"></a>00391 
<a name="l00392"></a>00392     <span class="comment">/* Transactions subtree */</span>
<a name="l00393"></a>00393     gtk_tree_store_append (GTK_TREE_STORE (preference_tree_model), &amp;iter, NULL);
<a name="l00394"></a>00394     gtk_tree_store_set (GTK_TREE_STORE (preference_tree_model),
<a name="l00395"></a>00395                         &amp;iter,
<a name="l00396"></a>00396                         0, _(<span class="stringliteral">&quot;Transactions&quot;</span>),
<a name="l00397"></a>00397                         1, <a class="code" href="parametres_8h.html#a159af6b678395026f75b3cf6690301ada45dbc2abf3dd4f463cdc34b6c9fbc28a">NOT_A_PAGE</a>,
<a name="l00398"></a>00398                         2, 800,
<a name="l00399"></a>00399                         -1);
<a name="l00400"></a>00400 
<a name="l00401"></a>00401     gtk_tree_store_append (GTK_TREE_STORE (preference_tree_model), &amp;iter2, &amp;iter);
<a name="l00402"></a>00402     gtk_tree_store_set (GTK_TREE_STORE (preference_tree_model),
<a name="l00403"></a>00403                         &amp;iter2,
<a name="l00404"></a>00404                         0, _(<span class="stringliteral">&quot;List behavior&quot;</span>),
<a name="l00405"></a>00405                         1, <a class="code" href="parametres_8h.html#a159af6b678395026f75b3cf6690301ada900c9d0969e1deb728e51ff62c065e81">TRANSACTIONS_PAGE</a>,
<a name="l00406"></a>00406                         2, 400,
<a name="l00407"></a>00407                         -1);
<a name="l00408"></a>00408     gtk_notebook_append_page (preference_frame,
<a name="l00409"></a>00409                         GTK_WIDGET(<a class="code" href="affichage__liste_8c.html#a822e762a82cda85425acf41f0be4ef90">onglet_affichage_operations</a>()), NULL);
<a name="l00410"></a>00410 
<a name="l00411"></a>00411     gtk_tree_store_append (GTK_TREE_STORE (preference_tree_model), &amp;iter2, &amp;iter);
<a name="l00412"></a>00412     gtk_tree_store_set (GTK_TREE_STORE (preference_tree_model),
<a name="l00413"></a>00413                         &amp;iter2,
<a name="l00414"></a>00414                         0, _(<span class="stringliteral">&quot;Messages before deleting&quot;</span>),
<a name="l00415"></a>00415                         1, <a class="code" href="parametres_8h.html#a159af6b678395026f75b3cf6690301ada34d67d89f14108b8f5a51f53e250df73">DELETE_MESSAGES_PAGE</a>,
<a name="l00416"></a>00416                         2, 400,
<a name="l00417"></a>00417                         -1);
<a name="l00418"></a>00418     gtk_notebook_append_page (preference_frame, onglet_delete_messages(), NULL);
<a name="l00419"></a>00419 
<a name="l00420"></a>00420     gtk_tree_store_append (GTK_TREE_STORE (preference_tree_model), &amp;iter2, &amp;iter);
<a name="l00421"></a>00421     gtk_tree_store_set (GTK_TREE_STORE (preference_tree_model),
<a name="l00422"></a>00422                         &amp;iter2,
<a name="l00423"></a>00423                         0, _(<span class="stringliteral">&quot;Reconciliation&quot;</span>),
<a name="l00424"></a>00424                         1, <a class="code" href="parametres_8h.html#a159af6b678395026f75b3cf6690301ada509444a87281eda2b2d98c0a0822ed4b">RECONCILIATION_PAGE</a>,
<a name="l00425"></a>00425                         2, 400,
<a name="l00426"></a>00426                         -1);
<a name="l00427"></a>00427     gtk_notebook_append_page (preference_frame, <a class="code" href="gsb__reconcile__config_8c.html#abf6c093002bc28727d4a18adc03dc8a6">gsb_reconcile_config_create</a>(), NULL);
<a name="l00428"></a>00428 
<a name="l00429"></a>00429     gtk_tree_store_append (GTK_TREE_STORE (preference_tree_model), &amp;iter2, &amp;iter);
<a name="l00430"></a>00430     gtk_tree_store_set (GTK_TREE_STORE (preference_tree_model),
<a name="l00431"></a>00431                         &amp;iter2,
<a name="l00432"></a>00432                         0, _(<span class="stringliteral">&quot;Sort for reconciliation&quot;</span>),
<a name="l00433"></a>00433                         1, <a class="code" href="parametres_8h.html#a159af6b678395026f75b3cf6690301ada7a1c45431ebcb5068694f8769e33afbc">RECONCILIATION_SORT_PAGE</a>,
<a name="l00434"></a>00434                         2, 400,
<a name="l00435"></a>00435                         -1);
<a name="l00436"></a>00436     gtk_notebook_append_page (preference_frame, <a class="code" href="gsb__reconcile__sort__config_8c.html#a9b08fc70938b33509231ca9cc5b8745f">gsb_reconcile_sort_config_create</a>(), NULL);
<a name="l00437"></a>00437 
<a name="l00438"></a>00438     <span class="comment">/* Transaction form subtree */</span>
<a name="l00439"></a>00439     gtk_tree_store_append (GTK_TREE_STORE (preference_tree_model), &amp;iter, NULL);
<a name="l00440"></a>00440     gtk_tree_store_set (GTK_TREE_STORE (preference_tree_model),
<a name="l00441"></a>00441                         &amp;iter,
<a name="l00442"></a>00442                         0, _(<span class="stringliteral">&quot;Transaction form&quot;</span>),
<a name="l00443"></a>00443                         1, <a class="code" href="parametres_8h.html#a159af6b678395026f75b3cf6690301ada45dbc2abf3dd4f463cdc34b6c9fbc28a">NOT_A_PAGE</a>,
<a name="l00444"></a>00444                         2, 800,
<a name="l00445"></a>00445                         -1);
<a name="l00446"></a>00446 
<a name="l00447"></a>00447     gtk_tree_store_append (GTK_TREE_STORE (preference_tree_model), &amp;iter2, &amp;iter);
<a name="l00448"></a>00448     gtk_tree_store_set (GTK_TREE_STORE (preference_tree_model),
<a name="l00449"></a>00449                         &amp;iter2,
<a name="l00450"></a>00450                         0, _(<span class="stringliteral">&quot;Content&quot;</span>),
<a name="l00451"></a>00451                         1, <a class="code" href="parametres_8h.html#a159af6b678395026f75b3cf6690301ada9979611eed6902cf0192eb1786bb3101">TRANSACTION_FORM_PAGE</a>,
<a name="l00452"></a>00452                         2, 400,
<a name="l00453"></a>00453                         -1);
<a name="l00454"></a>00454     gtk_notebook_append_page (preference_frame, <a class="code" href="gsb__form__config_8c.html#a18d33ebc2a3da624ca405227c6db0a4f">gsb_form_config_create_page</a>(), NULL);
<a name="l00455"></a>00455 
<a name="l00456"></a>00456     gtk_tree_store_append (GTK_TREE_STORE (preference_tree_model), &amp;iter2,&amp;iter );
<a name="l00457"></a>00457     gtk_tree_store_set (GTK_TREE_STORE (preference_tree_model),
<a name="l00458"></a>00458                         &amp;iter2,
<a name="l00459"></a>00459                         0, _(<span class="stringliteral">&quot;Behavior&quot;</span>),
<a name="l00460"></a>00460                         1, <a class="code" href="parametres_8h.html#a159af6b678395026f75b3cf6690301ada6477f2d69a9ea1e8bb3cf6f441d028f7">TRANSACTION_FORM_BEHAVIOR_PAGE</a>,
<a name="l00461"></a>00461                         2, 400,
<a name="l00462"></a>00462                         -1);
<a name="l00463"></a>00463     gtk_notebook_append_page (preference_frame, <a class="code" href="affichage__liste_8c.html#a33da4cf29fe0704c65a8d2c3fc88700c">onglet_diverse_form_and_lists</a>(), NULL);
<a name="l00464"></a>00464 
<a name="l00465"></a>00465     gtk_tree_store_append (GTK_TREE_STORE (preference_tree_model), &amp;iter2,&amp;iter );
<a name="l00466"></a>00466     gtk_tree_store_set (GTK_TREE_STORE (preference_tree_model),
<a name="l00467"></a>00467                         &amp;iter2,
<a name="l00468"></a>00468                         0, _(<span class="stringliteral">&quot;Completion&quot;</span>),
<a name="l00469"></a>00469                         1, <a class="code" href="parametres_8h.html#a159af6b678395026f75b3cf6690301adae11ccd8275d35f4a7a7835e8805261c2">TRANSACTION_FORM_COMPLETION_PAGE</a>,
<a name="l00470"></a>00470                         2, 400,
<a name="l00471"></a>00471                         -1);
<a name="l00472"></a>00472     gtk_notebook_append_page (preference_frame, <a class="code" href="affichage__liste_8c.html#a35c31378d6ff0acbfdd295ef8dea0982">onglet_form_completion</a>(), NULL);
<a name="l00473"></a>00473 
<a name="l00474"></a>00474     <span class="comment">/* Resources subtree */</span>
<a name="l00475"></a>00475     gtk_tree_store_append (GTK_TREE_STORE (preference_tree_model), &amp;iter, NULL);
<a name="l00476"></a>00476     gtk_tree_store_set (GTK_TREE_STORE (preference_tree_model),
<a name="l00477"></a>00477                         &amp;iter,
<a name="l00478"></a>00478                         0, _(<span class="stringliteral">&quot;Resources&quot;</span>),
<a name="l00479"></a>00479                         1, <a class="code" href="parametres_8h.html#a159af6b678395026f75b3cf6690301ada45dbc2abf3dd4f463cdc34b6c9fbc28a">NOT_A_PAGE</a>,
<a name="l00480"></a>00480                         2, 800,
<a name="l00481"></a>00481                         -1);
<a name="l00482"></a>00482 
<a name="l00483"></a>00483     gtk_tree_store_append (GTK_TREE_STORE (preference_tree_model), &amp;iter2, &amp;iter);
<a name="l00484"></a>00484     gtk_tree_store_set (GTK_TREE_STORE (preference_tree_model),
<a name="l00485"></a>00485                         &amp;iter2,
<a name="l00486"></a>00486                         0, _(<span class="stringliteral">&quot;Currencies&quot;</span>),
<a name="l00487"></a>00487                         1, <a class="code" href="parametres_8h.html#a159af6b678395026f75b3cf6690301adab79eb0750176e0cdb2974df7c4e07a72">CURRENCIES_PAGE</a>,
<a name="l00488"></a>00488                         2, 400,
<a name="l00489"></a>00489                         -1);
<a name="l00490"></a>00490     gtk_notebook_append_page (preference_frame, <a class="code" href="gsb__currency__config_8c.html#a0f914587992cfae9796fa25a4c804c13">gsb_currency_config_create_page</a>(), NULL);
<a name="l00491"></a>00491 
<a name="l00492"></a>00492     gtk_tree_store_append (GTK_TREE_STORE (preference_tree_model), &amp;iter2, &amp;iter);
<a name="l00493"></a>00493     gtk_tree_store_set (GTK_TREE_STORE (preference_tree_model),
<a name="l00494"></a>00494                         &amp;iter2,
<a name="l00495"></a>00495                         0, _(<span class="stringliteral">&quot;Currencies links&quot;</span>),
<a name="l00496"></a>00496                         1, <a class="code" href="parametres_8h.html#a159af6b678395026f75b3cf6690301ada23b78429c72313d7e8dc0394d0291daa">CURRENCY_LINKS_PAGE</a>,
<a name="l00497"></a>00497                         2, 400,
<a name="l00498"></a>00498                         -1);
<a name="l00499"></a>00499     gtk_notebook_append_page (preference_frame, <a class="code" href="gsb__currency__link__config_8c.html#ae256efc27c512e121dafe219352b4767">gsb_currency_link_config_create_page</a> (), NULL);
<a name="l00500"></a>00500 
<a name="l00501"></a>00501     gtk_tree_store_append (GTK_TREE_STORE (preference_tree_model), &amp;iter2, &amp;iter);
<a name="l00502"></a>00502     gtk_tree_store_set (GTK_TREE_STORE (preference_tree_model),
<a name="l00503"></a>00503                         &amp;iter2,
<a name="l00504"></a>00504                         0, _(<span class="stringliteral">&quot;Banks&quot;</span>),
<a name="l00505"></a>00505                         1, <a class="code" href="parametres_8h.html#a159af6b678395026f75b3cf6690301adab68a4c8554d8bcd28de926fc630fd9a7">BANKS_PAGE</a>,
<a name="l00506"></a>00506                         2, 400,
<a name="l00507"></a>00507                         -1);
<a name="l00508"></a>00508     gtk_notebook_append_page (preference_frame, <a class="code" href="gsb__bank_8c.html#aef019dce3bfc8b3570e7bb6f8d356da1">gsb_bank_create_page</a> (FALSE), NULL);
<a name="l00509"></a>00509 
<a name="l00510"></a>00510     gtk_tree_store_append (GTK_TREE_STORE (preference_tree_model), &amp;iter2, &amp;iter);
<a name="l00511"></a>00511     gtk_tree_store_set (GTK_TREE_STORE (preference_tree_model),
<a name="l00512"></a>00512                         &amp;iter2,
<a name="l00513"></a>00513                         0, _(<span class="stringliteral">&quot;Financial years&quot;</span>),
<a name="l00514"></a>00514                         1, <a class="code" href="parametres_8h.html#a159af6b678395026f75b3cf6690301adaecd5ff1c0e984e0d341cec258ab2da92">FINANCIAL_YEARS_PAGE</a>,
<a name="l00515"></a>00515                         2, 400,
<a name="l00516"></a>00516                         -1);
<a name="l00517"></a>00517     gtk_notebook_append_page (preference_frame, <a class="code" href="gsb__fyear__config_8c.html#a37421ef73d8d61900daa3c6c18846ed6">gsb_fyear_config_create_page</a>(), NULL);
<a name="l00518"></a>00518 
<a name="l00519"></a>00519     gtk_tree_store_append (GTK_TREE_STORE (preference_tree_model), &amp;iter2, &amp;iter);
<a name="l00520"></a>00520     gtk_tree_store_set (GTK_TREE_STORE (preference_tree_model),
<a name="l00521"></a>00521                         &amp;iter2,
<a name="l00522"></a>00522                         0, _(<span class="stringliteral">&quot;Payment methods&quot;</span>),
<a name="l00523"></a>00523                         1, <a class="code" href="parametres_8h.html#a159af6b678395026f75b3cf6690301adad093060d77afa16e174d917acb1dd2c6">METHODS_OF_PAYMENT_PAGE</a>,
<a name="l00524"></a>00524                         2, 400,
<a name="l00525"></a>00525                         -1);
<a name="l00526"></a>00526     gtk_notebook_append_page (preference_frame, <a class="code" href="gsb__payment__method__config_8c.html#ae9065f6711790bf2affea09548462a21">gsb_payment_method_config_create</a> (), NULL);
<a name="l00527"></a>00527 
<a name="l00528"></a>00528     gtk_widget_show_all ( hpaned );
<a name="l00529"></a>00529     gtk_container_set_border_width ( GTK_CONTAINER(hpaned), 6 );
<a name="l00530"></a>00530     gtk_box_pack_start ( GTK_BOX ( GTK_DIALOG(<a class="code" href="affichage_8c.html#a280b98575c3c9e0b637ec78b157a1ff4">fenetre_preferences</a>) -&gt; vbox ),
<a name="l00531"></a>00531                         hpaned, TRUE, TRUE, 0);
<a name="l00532"></a>00532 
<a name="l00533"></a>00533     <span class="comment">/* balance estimate subtree */</span>
<a name="l00534"></a>00534     gtk_tree_store_append (GTK_TREE_STORE (preference_tree_model), &amp;iter, NULL);
<a name="l00535"></a>00535     gtk_tree_store_set (GTK_TREE_STORE (preference_tree_model),
<a name="l00536"></a>00536                         &amp;iter,
<a name="l00537"></a>00537                         0, _(<span class="stringliteral">&quot;Balance estimate&quot;</span>),
<a name="l00538"></a>00538                         1, <a class="code" href="parametres_8h.html#a159af6b678395026f75b3cf6690301ada45dbc2abf3dd4f463cdc34b6c9fbc28a">NOT_A_PAGE</a>,
<a name="l00539"></a>00539                         2, 800,
<a name="l00540"></a>00540                         -1);
<a name="l00541"></a>00541 
<a name="l00542"></a>00542     gtk_tree_store_append (GTK_TREE_STORE (preference_tree_model), &amp;iter2, &amp;iter);
<a name="l00543"></a>00543     gtk_tree_store_set (GTK_TREE_STORE (preference_tree_model),
<a name="l00544"></a>00544                         &amp;iter2,
<a name="l00545"></a>00545                         0, _(<span class="stringliteral">&quot;General Options&quot;</span>),
<a name="l00546"></a>00546                         1, <a class="code" href="parametres_8h.html#a159af6b678395026f75b3cf6690301adacba7093a78bfe90186b10a94579eb89b">BET_GENERAL_PAGE</a>,
<a name="l00547"></a>00547                         2, 400,
<a name="l00548"></a>00548                         -1);
<a name="l00549"></a>00549     gtk_notebook_append_page (preference_frame, <a class="code" href="bet__config_8c.html#a079506ce240edc48c94ff1ac64942696">bet_config_general_create_general_page</a> (), NULL);
<a name="l00550"></a>00550 
<a name="l00551"></a>00551     gtk_tree_store_append (GTK_TREE_STORE (preference_tree_model), &amp;iter2, &amp;iter);
<a name="l00552"></a>00552     gtk_tree_store_set (GTK_TREE_STORE (preference_tree_model),
<a name="l00553"></a>00553                         &amp;iter2,
<a name="l00554"></a>00554                         0, _(<span class="stringliteral">&quot;Accounts data&quot;</span>),
<a name="l00555"></a>00555                         1, <a class="code" href="parametres_8h.html#a159af6b678395026f75b3cf6690301ada37ca4b9f2dd1670436276eb9a4544b6a">BET_ACCOUNT_PAGE</a>,
<a name="l00556"></a>00556                         2, 400,
<a name="l00557"></a>00557                         -1);
<a name="l00558"></a>00558     gtk_notebook_append_page (preference_frame, <a class="code" href="bet__config_8c.html#abeafee7e6cbd8bdf2c9f6f93ef24a964">bet_config_account_create_account_page</a> (), NULL);
<a name="l00559"></a>00559 
<a name="l00560"></a>00560     <span class="comment">/* select the page */</span>
<a name="l00561"></a>00561     <span class="keywordflow">if</span> ( page &gt;= 0 &amp;&amp; page &lt; <a class="code" href="parametres_8h.html#a159af6b678395026f75b3cf6690301ada5302e12e65048e86bf7b29f6e85343fe">NUM_PREFERENCES_PAGES</a> )
<a name="l00562"></a>00562         gtk_notebook_set_current_page ( GTK_NOTEBOOK (preference_frame), page );
<a name="l00563"></a>00563 
<a name="l00564"></a>00564     <span class="keywordflow">switch</span> (gtk_dialog_run ( GTK_DIALOG ( <a class="code" href="affichage_8c.html#a280b98575c3c9e0b637ec78b157a1ff4">fenetre_preferences</a> ) ))
<a name="l00565"></a>00565     {
<a name="l00566"></a>00566         <span class="keywordflow">case</span> GTK_RESPONSE_HELP:
<a name="l00567"></a>00567         <span class="comment">/* Hook some help function */</span>
<a name="l00568"></a>00568         <span class="keywordflow">break</span>;
<a name="l00569"></a>00569         <span class="keywordflow">default</span>:
<a name="l00570"></a>00570         gtk_window_get_size ( GTK_WINDOW ( <a class="code" href="affichage_8c.html#a280b98575c3c9e0b637ec78b157a1ff4">fenetre_preferences</a> ), &amp;<a class="code" href="gsb__file__config_8c.html#ac390e947e97cef2bec2f5d59d6ec1071">conf</a>.<a class="code" href="structgsb__conf__t.html#a54050896320456071ee967c63f151607">prefs_width</a>, NULL );
<a name="l00571"></a>00571         gtk_widget_destroy ( GTK_WIDGET ( <a class="code" href="affichage_8c.html#a280b98575c3c9e0b637ec78b157a1ff4">fenetre_preferences</a> ));
<a name="l00572"></a>00572         <span class="keywordflow">return</span> FALSE;
<a name="l00573"></a>00573     }
<a name="l00574"></a>00574     <span class="keywordflow">return</span> FALSE;
<a name="l00575"></a>00575 }
<a name="l00576"></a>00576 
<a name="l00577"></a>00577 
<a name="l00578"></a>00578 <span class="comment">/* ************************************************************************************************************** */</span>
<a name="l00579"></a>00579 <span class="comment">/* callback appelé quand on sélectionne un membre de la liste */</span>
<a name="l00580"></a>00580 <span class="comment">/* ************************************************************************************************************** */</span>
<a name="l00581"></a>00581 gboolean selectionne_liste_preference ( GtkTreeSelection *selection,
<a name="l00582"></a>00582                         GtkTreeModel *model )
<a name="l00583"></a>00583 {
<a name="l00584"></a>00584     GtkTreeIter iter;
<a name="l00585"></a>00585     GValue value = {0, };
<a name="l00586"></a>00586     gint preference_selected;
<a name="l00587"></a>00587 
<a name="l00588"></a>00588     <span class="keywordflow">if</span> ( ! gtk_tree_selection_get_selected (selection, NULL, &amp;iter) )
<a name="l00589"></a>00589     <span class="keywordflow">return</span> ( FALSE );
<a name="l00590"></a>00590 
<a name="l00591"></a>00591     gtk_tree_model_get_value ( model, &amp;iter, 1, &amp;value );
<a name="l00592"></a>00592 
<a name="l00593"></a>00593     preference_selected = g_value_get_int ( &amp;value );
<a name="l00594"></a>00594     gtk_notebook_set_current_page ( preference_frame, preference_selected );
<a name="l00595"></a>00595 
<a name="l00596"></a>00596     g_value_unset ( &amp;value );
<a name="l00597"></a>00597 
<a name="l00598"></a>00598     <span class="keywordflow">return</span> FALSE;
<a name="l00599"></a>00599 }
<a name="l00600"></a>00600 
<a name="l00601"></a>00601 
<a name="l00607"></a>00607 GtkWidget *onglet_messages_and_warnings ( <span class="keywordtype">void</span> )
<a name="l00608"></a>00608 {
<a name="l00609"></a>00609     GtkWidget *vbox_pref, *paddingbox, *tip_checkbox, *tree_view, *sw;
<a name="l00610"></a>00610     GtkTreeModel * model;
<a name="l00611"></a>00611     GtkCellRenderer * cell;
<a name="l00612"></a>00612     GtkTreeViewColumn * column;
<a name="l00613"></a>00613     gchar *tmpstr;
<a name="l00614"></a>00614     <span class="keywordtype">int</span> i;
<a name="l00615"></a>00615 
<a name="l00616"></a>00616     vbox_pref = <a class="code" href="utils_8c.html#a3baab3fba6974f2ebf35757198ac8911">new_vbox_with_title_and_icon</a> ( _(<span class="stringliteral">&quot;Messages &amp; warnings&quot;</span>), <span class="stringliteral">&quot;warnings.png&quot;</span> );
<a name="l00617"></a>00617 
<a name="l00618"></a>00618     <span class="comment">/* Tip of the day */</span>
<a name="l00619"></a>00619     paddingbox = <a class="code" href="utils_8c.html#a22ba81fcf046b5bec6cf6d55d440abc5">new_paddingbox_with_title</a> (vbox_pref, FALSE, _(<span class="stringliteral">&quot;Tip of the day&quot;</span>));
<a name="l00620"></a>00620 
<a name="l00621"></a>00621     <span class="comment">/* Display or not tips */</span>
<a name="l00622"></a>00622     tip_checkbox = <a class="code" href="gsb__automem_8c.html#ad32c3b7a4ae54cbe312fe4e1ee22e10f">gsb_automem_checkbutton_new</a> ( _(<span class="stringliteral">&quot;Display tip of the day&quot;</span>),
<a name="l00623"></a>00623                         &amp;(<a class="code" href="parametres_8c.html#ab2a744f5d2124688473d13979420e911">etat</a>.<a class="code" href="structgsb__etat__t.html#a7226554af3f7af0ed91ae5e4120daa5a">show_tip</a>),
<a name="l00624"></a>00624                         NULL, NULL );
<a name="l00625"></a>00625     gtk_box_pack_start ( GTK_BOX ( paddingbox ), tip_checkbox, FALSE, FALSE, 0 );
<a name="l00626"></a>00626 
<a name="l00627"></a>00627     <span class="comment">/* Warnings */</span>
<a name="l00628"></a>00628     paddingbox = <a class="code" href="utils_8c.html#a22ba81fcf046b5bec6cf6d55d440abc5">new_paddingbox_with_title</a> ( vbox_pref, TRUE, 
<a name="l00629"></a>00629                         _(<span class="stringliteral">&quot;Display following warnings messages&quot;</span>) );
<a name="l00630"></a>00630 
<a name="l00631"></a>00631     model = GTK_TREE_MODEL(gtk_tree_store_new ( 3, G_TYPE_INT, G_TYPE_STRING, G_TYPE_INT ) );
<a name="l00632"></a>00632 
<a name="l00633"></a>00633     sw = gtk_scrolled_window_new ( NULL, NULL );
<a name="l00634"></a>00634     gtk_scrolled_window_set_shadow_type (GTK_SCROLLED_WINDOW (sw), GTK_SHADOW_IN);
<a name="l00635"></a>00635     gtk_scrolled_window_set_policy (GTK_SCROLLED_WINDOW (sw),
<a name="l00636"></a>00636                         GTK_POLICY_NEVER, GTK_POLICY_AUTOMATIC);
<a name="l00637"></a>00637 
<a name="l00638"></a>00638     tree_view = gtk_tree_view_new();
<a name="l00639"></a>00639     gtk_tree_view_set_model ( GTK_TREE_VIEW (tree_view), GTK_TREE_MODEL (model) );
<a name="l00640"></a>00640     g_object_unref (G_OBJECT(model));
<a name="l00641"></a>00641     gtk_container_add (GTK_CONTAINER (sw), tree_view);
<a name="l00642"></a>00642     gtk_box_pack_start ( GTK_BOX(paddingbox), sw, TRUE, TRUE, 0 );
<a name="l00643"></a>00643 
<a name="l00644"></a>00644     cell = gtk_cell_renderer_toggle_new ();
<a name="l00645"></a>00645     column = gtk_tree_view_column_new_with_attributes (<span class="stringliteral">&quot;&quot;</span>, cell, <span class="stringliteral">&quot;active&quot;</span>, 0, NULL);
<a name="l00646"></a>00646     gtk_tree_view_append_column (GTK_TREE_VIEW (tree_view), GTK_TREE_VIEW_COLUMN (column));
<a name="l00647"></a>00647     g_signal_connect (cell, <span class="stringliteral">&quot;toggled&quot;</span>, G_CALLBACK (gsb_gui_messages_toggled), model);
<a name="l00648"></a>00648 
<a name="l00649"></a>00649     cell = gtk_cell_renderer_text_new ();
<a name="l00650"></a>00650     column = gtk_tree_view_column_new_with_attributes (_(<span class="stringliteral">&quot;Message&quot;</span>), cell, <span class="stringliteral">&quot;text&quot;</span>, 1, NULL);
<a name="l00651"></a>00651     gtk_tree_view_append_column (GTK_TREE_VIEW (tree_view), GTK_TREE_VIEW_COLUMN (column));
<a name="l00652"></a>00652 
<a name="l00653"></a>00653     <span class="keywordflow">for</span>  ( i = 0; <a class="code" href="dialog_8c.html#a430b9f94c0af809780196ca7d7040fde">messages</a>[i].<a class="code" href="structconditional__message.html#a28fcfb79edb0fdb1b5ee82ebb118fce8">name</a>; i++ )
<a name="l00654"></a>00654     {
<a name="l00655"></a>00655         GtkTreeIter iter;
<a name="l00656"></a>00656 
<a name="l00657"></a>00657         <span class="keywordflow">if</span> ( g_utf8_collate ( <a class="code" href="dialog_8c.html#a430b9f94c0af809780196ca7d7040fde">messages</a>[i].<a class="code" href="structconditional__message.html#a28fcfb79edb0fdb1b5ee82ebb118fce8">name</a>, <span class="stringliteral">&quot;account-already-opened&quot;</span> ) == 0 )
<a name="l00658"></a>00658             tmpstr = g_strdup_printf ( _(<a class="code" href="dialog_8c.html#a430b9f94c0af809780196ca7d7040fde">messages</a>[i] . <a class="code" href="structconditional__message.html#ad37bea820f28d42ca263f278ddd3bcbe">hint</a>), <a class="code" href="accueil_8c.html#a787cc81cf2ad728775b73d723713980b">titre_fichier</a> );
<a name="l00659"></a>00659         <span class="keywordflow">else</span> <span class="keywordflow">if</span> ( g_utf8_collate ( <a class="code" href="dialog_8c.html#a430b9f94c0af809780196ca7d7040fde">messages</a>[i].name, <span class="stringliteral">&quot;development-version&quot;</span> ) == 0 )
<a name="l00660"></a>00660             tmpstr = g_strdup_printf ( _(<a class="code" href="dialog_8c.html#a430b9f94c0af809780196ca7d7040fde">messages</a>[i] . <a class="code" href="structconditional__message.html#ad37bea820f28d42ca263f278ddd3bcbe">hint</a>), VERSION );
<a name="l00661"></a>00661         <span class="keywordflow">else</span> <span class="keywordflow">if</span> ( g_utf8_collate ( <a class="code" href="dialog_8c.html#a430b9f94c0af809780196ca7d7040fde">messages</a>[i].name, <span class="stringliteral">&quot;gtk_obsolete&quot;</span> ) == 0 )
<a name="l00662"></a>00662             tmpstr = g_strdup_printf ( _(<a class="code" href="dialog_8c.html#a430b9f94c0af809780196ca7d7040fde">messages</a>[i] . <a class="code" href="structconditional__message.html#ad37bea820f28d42ca263f278ddd3bcbe">hint</a>), <a class="code" href="utils_8c.html#ae9b947fc18c3a21dcefe736a902a4926">get_gtk_run_version</a> ( ) );
<a name="l00663"></a>00663         <span class="keywordflow">else</span>
<a name="l00664"></a>00664             tmpstr = g_strdup ( _(<a class="code" href="dialog_8c.html#a430b9f94c0af809780196ca7d7040fde">messages</a>[i] . hint) );
<a name="l00665"></a>00665 
<a name="l00666"></a>00666         gtk_tree_store_append (GTK_TREE_STORE (model), &amp;iter, NULL);
<a name="l00667"></a>00667         gtk_tree_store_set (GTK_TREE_STORE (model), &amp;iter,
<a name="l00668"></a>00668                         0, !<a class="code" href="dialog_8c.html#a430b9f94c0af809780196ca7d7040fde">messages</a>[i] . <a class="code" href="structconditional__message.html#a9aea2412afc1bcac3075ef180adf09b6">hidden</a>,
<a name="l00669"></a>00669                         1, tmpstr,
<a name="l00670"></a>00670                         2, i,
<a name="l00671"></a>00671                         -1);
<a name="l00672"></a>00672 
<a name="l00673"></a>00673         g_free ( tmpstr );
<a name="l00674"></a>00674     }
<a name="l00675"></a>00675 
<a name="l00676"></a>00676     <span class="comment">/* Show everything */</span>
<a name="l00677"></a>00677     gtk_widget_show_all ( vbox_pref );
<a name="l00678"></a>00678 
<a name="l00679"></a>00679     <span class="keywordflow">if</span> ( !<a class="code" href="gsb__data__account_8c.html#a56c9a589563db8c15800e41378908b27">gsb_data_account_get_accounts_amount</a> () )
<a name="l00680"></a>00680     {
<a name="l00681"></a>00681         gtk_widget_set_sensitive ( vbox_pref, FALSE );
<a name="l00682"></a>00682     }
<a name="l00683"></a>00683 
<a name="l00684"></a>00684     <span class="keywordflow">return</span> ( vbox_pref );
<a name="l00685"></a>00685 }
<a name="l00686"></a>00686 
<a name="l00687"></a>00687 
<a name="l00693"></a>00693 GtkWidget *onglet_delete_messages ( <span class="keywordtype">void</span> )
<a name="l00694"></a>00694 {
<a name="l00695"></a>00695     GtkWidget *vbox_pref, *paddingbox, *tree_view, *sw;
<a name="l00696"></a>00696     GtkTreeModel * model;
<a name="l00697"></a>00697     GtkCellRenderer * cell;
<a name="l00698"></a>00698     GtkTreeViewColumn * column;
<a name="l00699"></a>00699     gchar *tmpstr;
<a name="l00700"></a>00700     <span class="keywordtype">int</span> i;
<a name="l00701"></a>00701 
<a name="l00702"></a>00702     vbox_pref = <a class="code" href="utils_8c.html#a3baab3fba6974f2ebf35757198ac8911">new_vbox_with_title_and_icon</a> ( _(<span class="stringliteral">&quot;Messages before deleting&quot;</span>), <span class="stringliteral">&quot;delete.png&quot;</span> );
<a name="l00703"></a>00703 
<a name="l00704"></a>00704     <span class="comment">/* Delete messages */</span>
<a name="l00705"></a>00705     paddingbox = <a class="code" href="utils_8c.html#a22ba81fcf046b5bec6cf6d55d440abc5">new_paddingbox_with_title</a> ( vbox_pref, TRUE, 
<a name="l00706"></a>00706                         _(<span class="stringliteral">&quot;Display following messages&quot;</span>) );
<a name="l00707"></a>00707 
<a name="l00708"></a>00708     model = GTK_TREE_MODEL(gtk_tree_store_new ( 3, G_TYPE_INT, G_TYPE_STRING, G_TYPE_INT ) );
<a name="l00709"></a>00709 
<a name="l00710"></a>00710     sw = gtk_scrolled_window_new ( NULL, NULL );
<a name="l00711"></a>00711     gtk_scrolled_window_set_shadow_type (GTK_SCROLLED_WINDOW (sw), GTK_SHADOW_IN);
<a name="l00712"></a>00712     gtk_scrolled_window_set_policy (GTK_SCROLLED_WINDOW (sw),
<a name="l00713"></a>00713                         GTK_POLICY_NEVER, GTK_POLICY_AUTOMATIC);
<a name="l00714"></a>00714 
<a name="l00715"></a>00715     tree_view = gtk_tree_view_new();
<a name="l00716"></a>00716     gtk_tree_view_set_model ( GTK_TREE_VIEW (tree_view), GTK_TREE_MODEL (model) );
<a name="l00717"></a>00717     g_object_unref (G_OBJECT(model));
<a name="l00718"></a>00718     gtk_container_add (GTK_CONTAINER (sw), tree_view);
<a name="l00719"></a>00719     gtk_box_pack_start ( GTK_BOX(paddingbox), sw, TRUE, TRUE, 0 );
<a name="l00720"></a>00720 
<a name="l00721"></a>00721     cell = gtk_cell_renderer_toggle_new ();
<a name="l00722"></a>00722     column = gtk_tree_view_column_new_with_attributes (<span class="stringliteral">&quot;&quot;</span>, cell, <span class="stringliteral">&quot;active&quot;</span>, 0, NULL);
<a name="l00723"></a>00723     gtk_tree_view_append_column (GTK_TREE_VIEW (tree_view), GTK_TREE_VIEW_COLUMN (column));
<a name="l00724"></a>00724     g_signal_connect (cell,
<a name="l00725"></a>00725                         <span class="stringliteral">&quot;toggled&quot;</span>,
<a name="l00726"></a>00726                         G_CALLBACK (gsb_gui_delete_msg_toggled),
<a name="l00727"></a>00727                         model);
<a name="l00728"></a>00728 
<a name="l00729"></a>00729     cell = gtk_cell_renderer_text_new ();
<a name="l00730"></a>00730     column = gtk_tree_view_column_new_with_attributes (_(<span class="stringliteral">&quot;Message&quot;</span>), cell, <span class="stringliteral">&quot;text&quot;</span>, 1, NULL);
<a name="l00731"></a>00731     gtk_tree_view_append_column (GTK_TREE_VIEW (tree_view), GTK_TREE_VIEW_COLUMN (column));
<a name="l00732"></a>00732 
<a name="l00733"></a>00733     <span class="keywordflow">for</span>  ( i = 0; <a class="code" href="gsb__file__config_8c.html#a8be9044200783277533661fc770e77f5">delete_msg</a>[i].<a class="code" href="structconditional__message.html#a28fcfb79edb0fdb1b5ee82ebb118fce8">name</a>; i++ )
<a name="l00734"></a>00734     {
<a name="l00735"></a>00735         GtkTreeIter iter;
<a name="l00736"></a>00736 
<a name="l00737"></a>00737         tmpstr = g_strdup ( _(<a class="code" href="gsb__file__config_8c.html#a8be9044200783277533661fc770e77f5">delete_msg</a>[i] . hint) );
<a name="l00738"></a>00738 
<a name="l00739"></a>00739         gtk_tree_store_append (GTK_TREE_STORE (model), &amp;iter, NULL);
<a name="l00740"></a>00740         gtk_tree_store_set (GTK_TREE_STORE (model), &amp;iter,
<a name="l00741"></a>00741                         0, !<a class="code" href="gsb__file__config_8c.html#a8be9044200783277533661fc770e77f5">delete_msg</a>[i] . <a class="code" href="structconditional__message.html#a9aea2412afc1bcac3075ef180adf09b6">hidden</a>,
<a name="l00742"></a>00742                         1, tmpstr,
<a name="l00743"></a>00743                         2, i,
<a name="l00744"></a>00744                         -1);
<a name="l00745"></a>00745 
<a name="l00746"></a>00746         g_free ( tmpstr );
<a name="l00747"></a>00747     }
<a name="l00748"></a>00748 
<a name="l00749"></a>00749     <span class="comment">/* Show everything */</span>
<a name="l00750"></a>00750     gtk_widget_show_all ( vbox_pref );
<a name="l00751"></a>00751 
<a name="l00752"></a>00752     <span class="keywordflow">if</span> ( !<a class="code" href="gsb__data__account_8c.html#a56c9a589563db8c15800e41378908b27">gsb_data_account_get_accounts_amount</a> () )
<a name="l00753"></a>00753     {
<a name="l00754"></a>00754         gtk_widget_set_sensitive ( vbox_pref, FALSE );
<a name="l00755"></a>00755     }
<a name="l00756"></a>00756 
<a name="l00757"></a>00757     <span class="keywordflow">return</span> ( vbox_pref );
<a name="l00758"></a>00758 }
<a name="l00759"></a>00759 
<a name="l00760"></a>00760 
<a name="l00765"></a>00765 gboolean gsb_gui_messages_toggled ( GtkCellRendererToggle *cell, gchar *path_str,
<a name="l00766"></a>00766                         GtkTreeModel * model )
<a name="l00767"></a>00767 {
<a name="l00768"></a>00768     GtkTreePath *path = gtk_tree_path_new_from_string (path_str);
<a name="l00769"></a>00769     GtkTreeIter iter;
<a name="l00770"></a>00770     gint position;
<a name="l00771"></a>00771 
<a name="l00772"></a>00772     <span class="comment">/* Get toggled iter */</span>
<a name="l00773"></a>00773     gtk_tree_model_get_iter (GTK_TREE_MODEL(model), &amp;iter, path);
<a name="l00774"></a>00774     gtk_tree_model_get (GTK_TREE_MODEL(model), &amp;iter, 2, &amp;position, -1);
<a name="l00775"></a>00775 
<a name="l00776"></a>00776     <a class="code" href="dialog_8c.html#a430b9f94c0af809780196ca7d7040fde">messages</a>[position] . <a class="code" href="structconditional__message.html#a9aea2412afc1bcac3075ef180adf09b6">hidden</a> = !<a class="code" href="dialog_8c.html#a430b9f94c0af809780196ca7d7040fde">messages</a>[position] . <a class="code" href="structconditional__message.html#a9aea2412afc1bcac3075ef180adf09b6">hidden</a>;
<a name="l00777"></a>00777 
<a name="l00778"></a>00778     <span class="comment">/* Set new value */</span>
<a name="l00779"></a>00779     gtk_tree_store_set (GTK_TREE_STORE (model), &amp;iter, 0, ! <a class="code" href="dialog_8c.html#a430b9f94c0af809780196ca7d7040fde">messages</a>[position] . <a class="code" href="structconditional__message.html#a9aea2412afc1bcac3075ef180adf09b6">hidden</a>, -1);
<a name="l00780"></a>00780 
<a name="l00781"></a>00781     <span class="keywordflow">return</span> TRUE;
<a name="l00782"></a>00782 }
<a name="l00783"></a>00783 
<a name="l00784"></a>00784 
<a name="l00789"></a>00789 gboolean gsb_gui_delete_msg_toggled ( GtkCellRendererToggle *cell, gchar *path_str,
<a name="l00790"></a>00790                         GtkTreeModel * model )
<a name="l00791"></a>00791 {
<a name="l00792"></a>00792     GtkTreePath *path = gtk_tree_path_new_from_string (path_str);
<a name="l00793"></a>00793     GtkTreeIter iter;
<a name="l00794"></a>00794     gint position;
<a name="l00795"></a>00795 
<a name="l00796"></a>00796     <span class="comment">/* Get toggled iter */</span>
<a name="l00797"></a>00797     gtk_tree_model_get_iter (GTK_TREE_MODEL(model), &amp;iter, path);
<a name="l00798"></a>00798     gtk_tree_model_get (GTK_TREE_MODEL(model), &amp;iter, 2, &amp;position, -1);
<a name="l00799"></a>00799 
<a name="l00800"></a>00800     <a class="code" href="gsb__file__config_8c.html#a8be9044200783277533661fc770e77f5">delete_msg</a>[position].<a class="code" href="structconditional__message.html#a9aea2412afc1bcac3075ef180adf09b6">hidden</a> = !<a class="code" href="gsb__file__config_8c.html#a8be9044200783277533661fc770e77f5">delete_msg</a>[position].<a class="code" href="structconditional__message.html#a9aea2412afc1bcac3075ef180adf09b6">hidden</a>;
<a name="l00801"></a>00801     <span class="keywordflow">if</span> ( <a class="code" href="gsb__file__config_8c.html#a8be9044200783277533661fc770e77f5">delete_msg</a>[position].<a class="code" href="structconditional__message.html#a9aea2412afc1bcac3075ef180adf09b6">hidden</a> == 1 )
<a name="l00802"></a>00802         <a class="code" href="gsb__file__config_8c.html#a8be9044200783277533661fc770e77f5">delete_msg</a>[position].<a class="code" href="structconditional__message.html#a5d57366ec84bc24d47c0ed9caaba70c4">default_answer</a> = 1;
<a name="l00803"></a>00803 
<a name="l00804"></a>00804     <span class="comment">/* Set new value */</span>
<a name="l00805"></a>00805     gtk_tree_store_set (GTK_TREE_STORE (model), &amp;iter, 0, !<a class="code" href="gsb__file__config_8c.html#a8be9044200783277533661fc770e77f5">delete_msg</a>[position].<a class="code" href="structconditional__message.html#a9aea2412afc1bcac3075ef180adf09b6">hidden</a>, -1);
<a name="l00806"></a>00806 
<a name="l00807"></a>00807     <span class="keywordflow">return</span> TRUE;
<a name="l00808"></a>00808 }
<a name="l00809"></a>00809 
<a name="l00810"></a>00810 
<a name="l00816"></a>00816 GtkWidget *onglet_fichier ( <span class="keywordtype">void</span> )
<a name="l00817"></a>00817 {
<a name="l00818"></a>00818     GtkWidget *vbox_pref, *paddingbox;
<a name="l00819"></a>00819     GtkWidget *hbox;
<a name="l00820"></a>00820     GtkWidget *label;
<a name="l00821"></a>00821     GtkWidget *button;
<a name="l00822"></a>00822     GtkWidget *dialog;
<a name="l00823"></a>00823 
<a name="l00824"></a>00824     vbox_pref = <a class="code" href="utils_8c.html#a3baab3fba6974f2ebf35757198ac8911">new_vbox_with_title_and_icon</a> ( _(<span class="stringliteral">&quot;Files&quot;</span>), <span class="stringliteral">&quot;files.png&quot;</span> );
<a name="l00825"></a>00825 
<a name="l00826"></a>00826     <span class="comment">/* Account file handling */</span>
<a name="l00827"></a>00827     paddingbox = <a class="code" href="utils_8c.html#a22ba81fcf046b5bec6cf6d55d440abc5">new_paddingbox_with_title</a> (vbox_pref, FALSE,
<a name="l00828"></a>00828                         _(<span class="stringliteral">&quot;Account files handling&quot;</span>));
<a name="l00829"></a>00829 
<a name="l00830"></a>00830     <span class="comment">/* Automatically load last file on startup? */</span>
<a name="l00831"></a>00831     button = <a class="code" href="gsb__automem_8c.html#ad32c3b7a4ae54cbe312fe4e1ee22e10f">gsb_automem_checkbutton_new</a> (_(<span class="stringliteral">&quot;Automatically load last file on startup&quot;</span>),
<a name="l00832"></a>00832                         &amp;<a class="code" href="gsb__file__config_8c.html#ac390e947e97cef2bec2f5d59d6ec1071">conf</a>.<a class="code" href="structgsb__conf__t.html#a20363216fde07ae08492945768fe7d6a">dernier_fichier_auto</a>, NULL, NULL );
<a name="l00833"></a>00833     gtk_box_pack_start ( GTK_BOX ( paddingbox ), button, FALSE, FALSE, 0 );
<a name="l00834"></a>00834 
<a name="l00835"></a>00835     button = <a class="code" href="gsb__automem_8c.html#ad32c3b7a4ae54cbe312fe4e1ee22e10f">gsb_automem_checkbutton_new</a> (_(<span class="stringliteral">&quot;Automatically save on exit&quot;</span>),
<a name="l00836"></a>00836                         &amp;<a class="code" href="gsb__file__config_8c.html#ac390e947e97cef2bec2f5d59d6ec1071">conf</a>.<a class="code" href="structgsb__conf__t.html#a673c71a1aaa248541d9366eea400972a">sauvegarde_auto</a>, NULL, NULL);
<a name="l00837"></a>00837     gtk_box_pack_start ( GTK_BOX ( paddingbox ), button, FALSE, FALSE, 0 );
<a name="l00838"></a>00838 
<a name="l00839"></a>00839     <span class="comment">/* Warn if file is used by someone else? */</span>
<a name="l00840"></a>00840     button = <a class="code" href="gsb__automem_8c.html#ad32c3b7a4ae54cbe312fe4e1ee22e10f">gsb_automem_checkbutton_new</a> ( _(<span class="stringliteral">&quot;Force saving of locked files&quot;</span>),
<a name="l00841"></a>00841                         &amp;<a class="code" href="gsb__file__config_8c.html#ac390e947e97cef2bec2f5d59d6ec1071">conf</a>.<a class="code" href="structgsb__conf__t.html#a99f11a90e357d09883a0a994c7d3031f">force_enregistrement</a>, NULL, NULL );
<a name="l00842"></a>00842     gtk_box_pack_start ( GTK_BOX ( paddingbox ), button, FALSE, FALSE, 0 );
<a name="l00843"></a>00843 
<a name="l00844"></a>00844     <span class="comment">/* crypt the grisbi file */</span>
<a name="l00845"></a>00845     button = <a class="code" href="gsb__automem_8c.html#ad32c3b7a4ae54cbe312fe4e1ee22e10f">gsb_automem_checkbutton_new</a> ( _(<span class="stringliteral">&quot;Encrypt Grisbi file&quot;</span>),
<a name="l00846"></a>00846                         &amp;(<a class="code" href="parametres_8c.html#ab2a744f5d2124688473d13979420e911">etat</a>.<a class="code" href="structgsb__etat__t.html#a5d00886877a537e1acf2ca7eb8d247f6">crypt_file</a>), G_CALLBACK (<a class="code" href="parametres_8c.html#aeda2d150b221e3ecad4af85050194e3f">gsb_gui_encryption_toggled</a>), NULL);
<a name="l00847"></a>00847     gtk_box_pack_start ( GTK_BOX ( paddingbox ), button, FALSE, FALSE, 0 );
<a name="l00848"></a>00848 
<a name="l00849"></a>00849     <span class="comment">/* Compression level of files */</span>
<a name="l00850"></a>00850     button = <a class="code" href="gsb__automem_8c.html#ad32c3b7a4ae54cbe312fe4e1ee22e10f">gsb_automem_checkbutton_new</a> ( _(<span class="stringliteral">&quot;Compress Grisbi file&quot;</span>),
<a name="l00851"></a>00851                         &amp;<a class="code" href="gsb__file__config_8c.html#ac390e947e97cef2bec2f5d59d6ec1071">conf</a>.<a class="code" href="structgsb__conf__t.html#ad9454c37331a99515489635dca3d0234">compress_file</a>, NULL, NULL );
<a name="l00852"></a>00852     gtk_box_pack_start ( GTK_BOX ( paddingbox ), button, FALSE, FALSE, 0 );
<a name="l00853"></a>00853 
<a name="l00854"></a>00854     <span class="comment">/* Memorize last opened files in menu */</span>
<a name="l00855"></a>00855     hbox = gtk_hbox_new ( FALSE, 5 );
<a name="l00856"></a>00856     gtk_box_pack_start ( GTK_BOX ( paddingbox ), hbox, FALSE, FALSE, 0 );
<a name="l00857"></a>00857 
<a name="l00858"></a>00858     label = gtk_label_new ( <a class="code" href="structures_8h.html#aaad3270d56994a956f6956f142c1c103">COLON</a>(_(<span class="stringliteral">&quot;Memorise last opened files&quot;</span>)) );
<a name="l00859"></a>00859     gtk_box_pack_start ( GTK_BOX ( hbox ), label, FALSE, FALSE, 0 );
<a name="l00860"></a>00860 
<a name="l00861"></a>00861     button = <a class="code" href="gsb__automem_8c.html#a1618f5cf86220d6e15f84ac3f94e5382">gsb_automem_spin_button_new</a> ( &amp;(<a class="code" href="gsb__file_8c.html#a691d56f7a427c60a7714f6bec232807b">nb_max_derniers_fichiers_ouverts</a>),
<a name="l00862"></a>00862                         G_CALLBACK ( <a class="code" href="menu_8c.html#a7b48dc605d99995e31545dc3bdad1d85">affiche_derniers_fichiers_ouverts</a> ), NULL );
<a name="l00863"></a>00863     gtk_widget_set_size_request ( button, width_spin_button, -1 );
<a name="l00864"></a>00864     gtk_box_pack_start ( GTK_BOX ( hbox ), button, FALSE, FALSE, 0 );
<a name="l00865"></a>00865 
<a name="l00866"></a>00866     <span class="comment">/* Backups */</span>
<a name="l00867"></a>00867     paddingbox = <a class="code" href="utils_8c.html#a22ba81fcf046b5bec6cf6d55d440abc5">new_paddingbox_with_title</a> (vbox_pref, FALSE, _(<span class="stringliteral">&quot;Backups&quot;</span>));
<a name="l00868"></a>00868 
<a name="l00869"></a>00869     <span class="comment">/* Single backup file */</span>
<a name="l00870"></a>00870     button = <a class="code" href="gsb__automem_8c.html#ad32c3b7a4ae54cbe312fe4e1ee22e10f">gsb_automem_checkbutton_new</a> ( _(<span class="stringliteral">&quot;Make a single backup file&quot;</span>),
<a name="l00871"></a>00871                         &amp;<a class="code" href="gsb__file__config_8c.html#ac390e947e97cef2bec2f5d59d6ec1071">conf</a>.<a class="code" href="structgsb__conf__t.html#a0840b17e46ea0a54bb6af0848061e65d">make_bakup_single_file</a>, NULL, NULL );
<a name="l00872"></a>00872     gtk_box_pack_start ( GTK_BOX ( paddingbox ), button, FALSE, FALSE, 0 );
<a name="l00873"></a>00873 
<a name="l00874"></a>00874     <span class="comment">/* Compression level of backups */</span>
<a name="l00875"></a>00875     button = <a class="code" href="gsb__automem_8c.html#ad32c3b7a4ae54cbe312fe4e1ee22e10f">gsb_automem_checkbutton_new</a> ( _(<span class="stringliteral">&quot;Compress Grisbi backup&quot;</span>),
<a name="l00876"></a>00876                         &amp;<a class="code" href="gsb__file__config_8c.html#ac390e947e97cef2bec2f5d59d6ec1071">conf</a>.<a class="code" href="structgsb__conf__t.html#a5a7d61765a6602f4866e93c477f437d5">compress_backup</a>, NULL, NULL );
<a name="l00877"></a>00877     gtk_box_pack_start ( GTK_BOX ( paddingbox ), button, FALSE, FALSE, 0 );
<a name="l00878"></a>00878 
<a name="l00879"></a>00879     <span class="comment">/* Backup at each opening? */</span>
<a name="l00880"></a>00880     button = <a class="code" href="gsb__automem_8c.html#ad32c3b7a4ae54cbe312fe4e1ee22e10f">gsb_automem_checkbutton_new</a> ( _(<span class="stringliteral">&quot;Make a backup copy after opening files&quot;</span>),
<a name="l00881"></a>00881                         &amp;<a class="code" href="gsb__file__config_8c.html#ac390e947e97cef2bec2f5d59d6ec1071">conf</a>.<a class="code" href="structgsb__conf__t.html#af2b609f9c253b3560fa678f805d94f00">sauvegarde_demarrage</a>, NULL, NULL);
<a name="l00882"></a>00882     gtk_box_pack_start ( GTK_BOX ( paddingbox ), button, FALSE, FALSE, 0 );
<a name="l00883"></a>00883 
<a name="l00884"></a>00884     <span class="comment">/* Automatic backup ? */</span>
<a name="l00885"></a>00885     button = <a class="code" href="gsb__automem_8c.html#ad32c3b7a4ae54cbe312fe4e1ee22e10f">gsb_automem_checkbutton_new</a> (_(<span class="stringliteral">&quot;Make a backup copy before saving files&quot;</span>),
<a name="l00886"></a>00886                         &amp;<a class="code" href="gsb__file__config_8c.html#ac390e947e97cef2bec2f5d59d6ec1071">conf</a>.<a class="code" href="structgsb__conf__t.html#affba80c08847721573312df63317f9c4">make_backup</a>, NULL, NULL);
<a name="l00887"></a>00887     gtk_box_pack_start ( GTK_BOX ( paddingbox ), button, FALSE, FALSE, 0 );
<a name="l00888"></a>00888 
<a name="l00889"></a>00889     <span class="comment">/* Automatic backup every x minutes */</span>
<a name="l00890"></a>00890     hbox = gtk_hbox_new ( FALSE, 6);
<a name="l00891"></a>00891     gtk_box_pack_start ( GTK_BOX ( paddingbox ), hbox, FALSE, FALSE, 0);
<a name="l00892"></a>00892 
<a name="l00893"></a>00893     button = <a class="code" href="gsb__automem_8c.html#ad32c3b7a4ae54cbe312fe4e1ee22e10f">gsb_automem_checkbutton_new</a> (_(<span class="stringliteral">&quot;Make a backup copy every &quot;</span>),
<a name="l00894"></a>00894                         &amp;<a class="code" href="gsb__file__config_8c.html#ac390e947e97cef2bec2f5d59d6ec1071">conf</a>.<a class="code" href="structgsb__conf__t.html#a01bf44cc2178d2085b1c726e061caee1">make_backup_every_minutes</a>,
<a name="l00895"></a>00895                         G_CALLBACK (<a class="code" href="gsb__file_8c.html#a9e956c0079c7eba15147e2ae85c76442">gsb_file_automatic_backup_start</a>), NULL);
<a name="l00896"></a>00896     gtk_box_pack_start ( GTK_BOX (hbox), button, FALSE, FALSE, 0 );
<a name="l00897"></a>00897 
<a name="l00898"></a>00898     button = <a class="code" href="gsb__automem_8c.html#a1618f5cf86220d6e15f84ac3f94e5382">gsb_automem_spin_button_new</a> ( &amp;<a class="code" href="gsb__file__config_8c.html#ac390e947e97cef2bec2f5d59d6ec1071">conf</a>.<a class="code" href="structgsb__conf__t.html#a5a6be9e1da1968dc1667dffbcbd0b48e">make_backup_nb_minutes</a>,
<a name="l00899"></a>00899                         G_CALLBACK (<a class="code" href="gsb__file_8c.html#acad35e7f7cc1f9be4d8de4a0c391e25d">gsb_file_automatic_backup_change_time</a>), NULL );
<a name="l00900"></a>00900     gtk_widget_set_size_request ( button, width_spin_button, -1 );
<a name="l00901"></a>00901     gtk_box_pack_start ( GTK_BOX (hbox), button, FALSE, FALSE, 0 );
<a name="l00902"></a>00902 
<a name="l00903"></a>00903     label = gtk_label_new (_(<span class="stringliteral">&quot; minutes&quot;</span>));
<a name="l00904"></a>00904     gtk_box_pack_start ( GTK_BOX (hbox), label, FALSE, FALSE, 0 );
<a name="l00905"></a>00905 
<a name="l00906"></a>00906     <span class="comment">/* if automatic backup, choose a dir */</span>
<a name="l00907"></a>00907     hbox = gtk_hbox_new ( FALSE, 6 );
<a name="l00908"></a>00908     gtk_box_pack_start ( GTK_BOX ( paddingbox ), hbox, FALSE, FALSE, 0);
<a name="l00909"></a>00909 
<a name="l00910"></a>00910     label = gtk_label_new ( <a class="code" href="structures_8h.html#aaad3270d56994a956f6956f142c1c103">COLON</a>(_(<span class="stringliteral">&quot;Backup directory&quot;</span>)) );
<a name="l00911"></a>00911     gtk_box_pack_start ( GTK_BOX ( hbox ), label, FALSE, FALSE, 0);
<a name="l00912"></a>00912 
<a name="l00913"></a>00913     <span class="comment">/* on passe par une fonction intermédiaire pour pallier à un bug</span>
<a name="l00914"></a>00914 <span class="comment">     * du gtk_file_chooser_button_new qui donne le répertoire home</span>
<a name="l00915"></a>00915 <span class="comment">     * lorsque l&#39;on annule le choix du nouveau répertoire */</span>
<a name="l00916"></a>00916     dialog = <a class="code" href="utils__files_8c.html#ad52941b893b0fcc21576cebdaa93fe96" title="pallie à un bug du gtk_file_chooser_button_new">utils_files_create_file_chooser</a> ( <a class="code" href="accueil_8c.html#a3d346c08cf2d67c388caabffb412b293">window</a>,
<a name="l00917"></a>00917                         _(<span class="stringliteral">&quot;Select/Create backup directory&quot;</span>) );
<a name="l00918"></a>00918 
<a name="l00919"></a>00919     button = gtk_file_chooser_button_new_with_dialog ( dialog );
<a name="l00920"></a>00920     <span class="keywordflow">if</span> ( <a class="code" href="gsb__file_8c.html#ae0e03d0f99a78e13e6907c6afe498293">gsb_file_get_backup_path</a> ( ) )
<a name="l00921"></a>00921         gtk_file_chooser_set_current_folder ( GTK_FILE_CHOOSER (button),
<a name="l00922"></a>00922                         <a class="code" href="gsb__file_8c.html#ae0e03d0f99a78e13e6907c6afe498293">gsb_file_get_backup_path</a> ());
<a name="l00923"></a>00923     <span class="keywordflow">else</span>
<a name="l00924"></a>00924         gtk_file_chooser_set_current_folder ( GTK_FILE_CHOOSER (button),
<a name="l00925"></a>00925                         <a class="code" href="utils__files_8c.html#a73d323b60da65cb56316d1a057fcd312">my_get_XDG_grisbi_data_dir</a> () );
<a name="l00926"></a>00926     g_signal_connect ( G_OBJECT (button),
<a name="l00927"></a>00927                         <span class="stringliteral">&quot;selection-changed&quot;</span>,
<a name="l00928"></a>00928                         G_CALLBACK ( <a class="code" href="parametres_8c.html#a6d6ce89725f0f6ea7443041a44d96e41">gsb_config_backup_dir_chosen</a> ),
<a name="l00929"></a>00929                         dialog );
<a name="l00930"></a>00930     gtk_box_pack_start ( GTK_BOX ( hbox ), button, FALSE, TRUE, 0);
<a name="l00931"></a>00931 
<a name="l00932"></a>00932     gtk_widget_show_all ( vbox_pref );
<a name="l00933"></a>00933 
<a name="l00934"></a>00934     <span class="keywordflow">if</span> ( !<a class="code" href="gsb__data__account_8c.html#a56c9a589563db8c15800e41378908b27">gsb_data_account_get_accounts_amount</a> () )
<a name="l00935"></a>00935         gtk_widget_set_sensitive ( vbox_pref, FALSE );
<a name="l00936"></a>00936 
<a name="l00937"></a>00937     <span class="keywordflow">return</span> ( vbox_pref );
<a name="l00938"></a>00938 }
<a name="l00939"></a>00939 
<a name="l00940"></a>00940 
<a name="l00950"></a><a class="code" href="parametres_8h.html#aeda2d150b221e3ecad4af85050194e3f">00950</a> gboolean <a class="code" href="parametres_8c.html#aeda2d150b221e3ecad4af85050194e3f">gsb_gui_encryption_toggled</a> ( GtkWidget * checkbox, gpointer data )
<a name="l00951"></a>00951 {
<a name="l00952"></a>00952     <span class="keywordflow">if</span> ( gtk_toggle_button_get_active ( GTK_TOGGLE_BUTTON (checkbox)))
<a name="l00953"></a>00953     {
<a name="l00954"></a>00954     <a class="code" href="dialog_8c.html#a58737af017ec59765d14212870a4d8a6">dialog_message</a> ( <span class="stringliteral">&quot;encryption-is-irreversible&quot;</span> );
<a name="l00955"></a>00955     }
<a name="l00956"></a>00956 
<a name="l00957"></a>00957     <span class="keywordflow">return</span> FALSE;
<a name="l00958"></a>00958 }
<a name="l00959"></a>00959 
<a name="l00968"></a><a class="code" href="parametres_8h.html#a6d6ce89725f0f6ea7443041a44d96e41">00968</a> gboolean <a class="code" href="parametres_8c.html#a6d6ce89725f0f6ea7443041a44d96e41">gsb_config_backup_dir_chosen</a> ( GtkWidget *button,
<a name="l00969"></a>00969                         GtkWidget *dialog )
<a name="l00970"></a>00970 {
<a name="l00971"></a>00971     gchar *path;
<a name="l00972"></a>00972 
<a name="l00973"></a>00973     path = gtk_file_chooser_get_filename ( GTK_FILE_CHOOSER ( button ) );
<a name="l00974"></a>00974     <a class="code" href="erreur_8h.html#a17bfffc4306bc76edd79e060a8947dc4">devel_debug</a> ( path );
<a name="l00975"></a>00975     <a class="code" href="gsb__file_8c.html#a69328a78586ad0fc193072ffc634e1f4">gsb_file_set_backup_path</a> ( path );
<a name="l00976"></a>00976     <span class="keywordflow">if</span> ( path &amp;&amp; strlen ( path ) &gt; 0 )
<a name="l00977"></a>00977         g_free ( path );
<a name="l00978"></a>00978 
<a name="l00979"></a>00979     <span class="keywordflow">if</span> ( <a class="code" href="parametres_8c.html#ab2a744f5d2124688473d13979420e911">etat</a>.<a class="code" href="structgsb__etat__t.html#a9d0fa9057da603e64a601d69d7bf2b51">modification_fichier</a> == 0 )
<a name="l00980"></a>00980         <a class="code" href="traitement__variables_8c.html#aa4084b9e508b1d1fea1d09c6b6208021">modification_fichier</a> ( TRUE );
<a name="l00981"></a>00981 
<a name="l00982"></a>00982     <span class="keywordflow">return</span> FALSE;
<a name="l00983"></a>00983 }
<a name="l00984"></a>00984 
<a name="l00985"></a>00985 
<a name="l00986"></a>00986 
<a name="l00987"></a>00987 <span class="comment">/* *******************************************************************************/</span>
<a name="l00988"></a>00988 <span class="comment">/* page de configuration des logiciels externes */</span>
<a name="l00989"></a>00989 <span class="comment">/* *******************************************************************************/</span>
<a name="l00990"></a>00990 GtkWidget *onglet_programmes (<span class="keywordtype">void</span>)
<a name="l00991"></a>00991 {
<a name="l00992"></a>00992     GtkWidget *vbox_pref, *label, *entry, *paddingbox, *table;
<a name="l00993"></a>00993     GtkSizeGroup *size_group;
<a name="l00994"></a>00994     gchar * text;
<a name="l00995"></a>00995 
<a name="l00996"></a>00996     size_group = gtk_size_group_new (GTK_SIZE_GROUP_HORIZONTAL);
<a name="l00997"></a>00997 
<a name="l00998"></a>00998     vbox_pref = <a class="code" href="utils_8c.html#a3baab3fba6974f2ebf35757198ac8911">new_vbox_with_title_and_icon</a> ( _(<span class="stringliteral">&quot;Programs&quot;</span>), <span class="stringliteral">&quot;exec.png&quot;</span> );
<a name="l00999"></a>00999 
<a name="l01000"></a>01000     paddingbox = <a class="code" href="utils_8c.html#a22ba81fcf046b5bec6cf6d55d440abc5">new_paddingbox_with_title</a> (vbox_pref, FALSE, _(<span class="stringliteral">&quot;Web&quot;</span>));
<a name="l01001"></a>01001 
<a name="l01002"></a>01002     table = gtk_table_new ( 0, 2, FALSE );
<a name="l01003"></a>01003     gtk_box_pack_start ( GTK_BOX ( paddingbox ), table, FALSE, FALSE, 0 );
<a name="l01004"></a>01004     gtk_table_set_col_spacings ( GTK_TABLE(table), 6 );
<a name="l01005"></a>01005     gtk_table_set_row_spacings ( GTK_TABLE(table), 6 );
<a name="l01006"></a>01006 
<a name="l01007"></a>01007     label = gtk_label_new ( <a class="code" href="structures_8h.html#aaad3270d56994a956f6956f142c1c103">COLON</a>(_(<span class="stringliteral">&quot;Web browser command&quot;</span>)));
<a name="l01008"></a>01008     gtk_size_group_add_widget ( size_group, label );
<a name="l01009"></a>01009     gtk_misc_set_alignment ( GTK_MISC ( label ), 0.0, 0.5 );
<a name="l01010"></a>01010     gtk_table_attach ( GTK_TABLE(table), label, 0, 1, 0, 1,
<a name="l01011"></a>01011                         GTK_SHRINK | GTK_FILL, GTK_SHRINK | GTK_FILL, 0, 0 );
<a name="l01012"></a>01012     entry = <a class="code" href="gsb__automem_8c.html#afe5c31e5709a71264b93ee912fed12f4">gsb_automem_entry_new</a> ( &amp;<a class="code" href="gsb__file__config_8c.html#ac390e947e97cef2bec2f5d59d6ec1071">conf</a>.<a class="code" href="structgsb__conf__t.html#a1f1c81c5d78cee38e3c4905e2a6f975f">browser_command</a>, NULL, NULL );
<a name="l01013"></a>01013     gtk_table_attach ( GTK_TABLE(table), entry, 1, 2, 0, 1, GTK_EXPAND|GTK_FILL, 0, 0, 0 );
<a name="l01014"></a>01014 
<a name="l01015"></a>01015     text = <a class="code" href="dialog_8c.html#a5927e30f6f690b1ea7391d140f8efa7d">make_blue</a> ( g_strconcat ( 
<a name="l01016"></a>01016                         _(<span class="stringliteral">&quot;You may use %s to expand the URL I.e:\n&#39;firefox -remote %s&#39;&quot;</span>),
<a name="l01017"></a>01017                         NULL ) );
<a name="l01018"></a>01018     label = gtk_label_new ( text );
<a name="l01019"></a>01019     gtk_label_set_use_markup ( GTK_LABEL(label), TRUE );
<a name="l01020"></a>01020     gtk_misc_set_alignment ( GTK_MISC ( label ), 0.0, 0.5 );
<a name="l01021"></a>01021     gtk_table_attach ( GTK_TABLE(table), label, 1, 2, 1, 2,
<a name="l01022"></a>01022                         GTK_SHRINK | GTK_FILL, GTK_SHRINK | GTK_FILL, 0, 0 );
<a name="l01023"></a>01023     g_free ( text );
<a name="l01024"></a>01024 
<a name="l01025"></a>01025 
<a name="l01026"></a>01026     paddingbox = <a class="code" href="utils_8c.html#a22ba81fcf046b5bec6cf6d55d440abc5">new_paddingbox_with_title</a> ( vbox_pref, FALSE,
<a name="l01027"></a>01027                         _(<span class="stringliteral">&quot;LaTeX support (old print system)&quot;</span>) );
<a name="l01028"></a>01028 
<a name="l01029"></a>01029     table = gtk_table_new ( 0, 2, FALSE );
<a name="l01030"></a>01030     gtk_box_pack_start ( GTK_BOX ( paddingbox ), table, FALSE, FALSE, 0 );
<a name="l01031"></a>01031     gtk_table_set_col_spacings ( GTK_TABLE(table), 6 );
<a name="l01032"></a>01032     gtk_table_set_row_spacings ( GTK_TABLE(table), 6 );
<a name="l01033"></a>01033 
<a name="l01034"></a>01034     label = gtk_label_new ( <a class="code" href="structures_8h.html#aaad3270d56994a956f6956f142c1c103">COLON</a>(_(<span class="stringliteral">&quot;LaTeX command&quot;</span>)));
<a name="l01035"></a>01035     gtk_size_group_add_widget ( size_group, label );
<a name="l01036"></a>01036     gtk_misc_set_alignment ( GTK_MISC ( label ), 0.0, 0.5 );
<a name="l01037"></a>01037     gtk_table_attach ( GTK_TABLE(table), label, 0, 1, 0, 1,
<a name="l01038"></a>01038                         GTK_SHRINK | GTK_FILL, GTK_SHRINK | GTK_FILL, 0, 0 );
<a name="l01039"></a>01039     entry = <a class="code" href="gsb__automem_8c.html#afe5c31e5709a71264b93ee912fed12f4">gsb_automem_entry_new</a> ( &amp;<a class="code" href="gsb__file__config_8c.html#ac390e947e97cef2bec2f5d59d6ec1071">conf</a>.<a class="code" href="structgsb__conf__t.html#ad8c00ed949ead63c8c2e8cae2c5427b0">latex_command</a>, NULL, NULL );
<a name="l01040"></a>01040     gtk_table_attach ( GTK_TABLE(table), entry, 1, 2, 0, 1, GTK_EXPAND|GTK_FILL, 0, 0, 0 );
<a name="l01041"></a>01041 
<a name="l01042"></a>01042     label = gtk_label_new ( <a class="code" href="structures_8h.html#aaad3270d56994a956f6956f142c1c103">COLON</a>(_(<span class="stringliteral">&quot;dvips command&quot;</span>)));
<a name="l01043"></a>01043     gtk_size_group_add_widget ( size_group, label );
<a name="l01044"></a>01044     gtk_misc_set_alignment ( GTK_MISC ( label ), 0.0, 0.5 );
<a name="l01045"></a>01045     gtk_table_attach ( GTK_TABLE(table), label, 0, 1, 1, 2,
<a name="l01046"></a>01046                         GTK_SHRINK | GTK_FILL, GTK_SHRINK | GTK_FILL, 0, 0 );
<a name="l01047"></a>01047     entry = <a class="code" href="gsb__automem_8c.html#afe5c31e5709a71264b93ee912fed12f4">gsb_automem_entry_new</a> ( &amp;<a class="code" href="gsb__file__config_8c.html#ac390e947e97cef2bec2f5d59d6ec1071">conf</a>.<a class="code" href="structgsb__conf__t.html#a88152768016fab9c9b37b3b9bef0fdf1">dvips_command</a>, NULL, NULL );
<a name="l01048"></a>01048     gtk_table_attach ( GTK_TABLE(table), entry, 1, 2, 1, 2, GTK_EXPAND|GTK_FILL, 0, 0, 0 );
<a name="l01049"></a>01049 
<a name="l01050"></a>01050 
<a name="l01051"></a>01051     gtk_size_group_set_mode ( size_group, GTK_SIZE_GROUP_HORIZONTAL );
<a name="l01052"></a>01052     gtk_widget_show_all ( vbox_pref );
<a name="l01053"></a>01053 
<a name="l01054"></a>01054     <span class="keywordflow">if</span> ( ! <a class="code" href="utils_8c.html#a201366e3a41e970cd3009d8b5d7afdd0">assert_account_loaded</a>() )
<a name="l01055"></a>01055       gtk_widget_set_sensitive ( vbox_pref, FALSE );
<a name="l01056"></a>01056 
<a name="l01057"></a>01057     <span class="keywordflow">return</span> ( vbox_pref );
<a name="l01058"></a>01058 }
<a name="l01059"></a>01059 
<a name="l01060"></a>01060 
<a name="l01061"></a>01061 
<a name="l01069"></a>01069 <span class="keyword">static</span> GtkWidget *gsb_config_scheduler_page ( <span class="keywordtype">void</span> )
<a name="l01070"></a>01070 {
<a name="l01071"></a>01071     GtkWidget *vbox_pref, *paddingbox;
<a name="l01072"></a>01072     GtkWidget *hbox;
<a name="l01073"></a>01073     GtkWidget *label;
<a name="l01074"></a>01074     GtkWidget *entry;
<a name="l01075"></a>01075     GtkWidget *button;
<a name="l01076"></a>01076 
<a name="l01077"></a>01077     vbox_pref = <a class="code" href="utils_8c.html#a3baab3fba6974f2ebf35757198ac8911">new_vbox_with_title_and_icon</a> ( _(<span class="stringliteral">&quot;Scheduler&quot;</span>), <span class="stringliteral">&quot;scheduler.png&quot;</span> );
<a name="l01078"></a>01078 
<a name="l01079"></a>01079     <span class="comment">/* Number of days before a warning message advertising a scheduled</span>
<a name="l01080"></a>01080 <span class="comment">       transaction */</span>
<a name="l01081"></a>01081     button = <a class="code" href="gsb__automem_8c.html#ade82b8b0e27c163fd3276dacfa6cf9fb">gsb_automem_radiobutton_new_with_title</a> ( vbox_pref,
<a name="l01082"></a>01082                         _(<span class="stringliteral">&quot;Scheduler warnings at Grisbi&#39;s opening&quot;</span>),
<a name="l01083"></a>01083                         _(<span class="stringliteral">&quot;Warn/Execute the scheduled transactions arriving at expiration date&quot;</span>),
<a name="l01084"></a>01084                         _(<span class="stringliteral">&quot;Warn/Execute the scheduled transactions of the month&quot;</span>),
<a name="l01085"></a>01085                         &amp;<a class="code" href="gsb__file__config_8c.html#a28dbce464ef05c5a6db0d64a31fff16d">execute_scheduled_of_month</a>,
<a name="l01086"></a>01086                         NULL, NULL );
<a name="l01087"></a>01087 
<a name="l01088"></a>01088     hbox = gtk_hbox_new ( FALSE, 0);
<a name="l01089"></a>01089     gtk_box_pack_start ( GTK_BOX ( vbox_pref ), hbox, FALSE, FALSE, 0 );
<a name="l01090"></a>01090 
<a name="l01091"></a>01091     label = gtk_label_new ( <a class="code" href="structures_8h.html#a865883e81d37f6f4329636d5170f5209">SPACIFY</a> ( <a class="code" href="structures_8h.html#aaad3270d56994a956f6956f142c1c103">COLON</a> (
<a name="l01092"></a>01092                         _(<span class="stringliteral">&quot;Number of days before the warning or the execution&quot;</span>))) );
<a name="l01093"></a>01093     gtk_box_pack_start ( GTK_BOX (hbox), label, FALSE, FALSE, 0 );
<a name="l01094"></a>01094 
<a name="l01095"></a>01095     entry = <a class="code" href="gsb__automem_8c.html#a1618f5cf86220d6e15f84ac3f94e5382">gsb_automem_spin_button_new</a> ( &amp;<a class="code" href="gsb__file__config_8c.html#ab4baae80534027ea3fe73d417c48caaa">nb_days_before_scheduled</a>, NULL, NULL );
<a name="l01096"></a>01096     gtk_widget_set_size_request ( entry, width_spin_button, -1 );
<a name="l01097"></a>01097 
<a name="l01098"></a>01098     gtk_box_pack_start ( GTK_BOX (hbox), entry, FALSE, FALSE, 0 );
<a name="l01099"></a>01099 
<a name="l01100"></a>01100     <span class="comment">/* Take into account the planned operations in the calculation of balances */</span>
<a name="l01101"></a>01101     paddingbox = <a class="code" href="utils_8c.html#a22ba81fcf046b5bec6cf6d55d440abc5">new_paddingbox_with_title</a> ( vbox_pref, FALSE, _(<span class="stringliteral">&quot;Calculation of balances&quot;</span>) );
<a name="l01102"></a>01102 
<a name="l01103"></a>01103     hbox = gtk_hbox_new ( FALSE, 0 );
<a name="l01104"></a>01104     gtk_box_pack_start ( GTK_BOX ( paddingbox ), hbox, FALSE, FALSE, 0 );
<a name="l01105"></a>01105 
<a name="l01106"></a>01106     button = <a class="code" href="gsb__automem_8c.html#ad32c3b7a4ae54cbe312fe4e1ee22e10f">gsb_automem_checkbutton_new</a> (
<a name="l01107"></a>01107                         _(<span class="stringliteral">&quot;Take into account the scheduled operations &quot;</span>
<a name="l01108"></a>01108                           <span class="stringliteral">&quot;in the calculation of balances&quot;</span>),
<a name="l01109"></a>01109                         &amp;<a class="code" href="accueil_8c.html#a2f70ab8aa9d2a494c0653e8f29eddf40">balances_with_scheduled</a>,
<a name="l01110"></a>01110                         G_CALLBACK ( gsb_config_scheduler_switch_balances_with_scheduled ),
<a name="l01111"></a>01111                         NULL );
<a name="l01112"></a>01112 
<a name="l01113"></a>01113     gtk_box_pack_start ( GTK_BOX ( hbox ), button, FALSE, FALSE, 0 );
<a name="l01114"></a>01114 
<a name="l01115"></a>01115     <span class="keywordflow">return</span> vbox_pref;
<a name="l01116"></a>01116 }
<a name="l01117"></a>01117 
<a name="l01118"></a>01118 
<a name="l01119"></a>01119 gboolean gsb_config_scheduler_switch_balances_with_scheduled ( <span class="keywordtype">void</span> )
<a name="l01120"></a>01120 {
<a name="l01121"></a>01121     GSList *list_tmp;
<a name="l01122"></a>01122 
<a name="l01123"></a>01123     <a class="code" href="erreur_8h.html#a17bfffc4306bc76edd79e060a8947dc4">devel_debug</a> ( NULL );
<a name="l01124"></a>01124 
<a name="l01125"></a>01125     list_tmp = <a class="code" href="gsb__data__account_8c.html#aaf4d25733c7ea5a0ca263c0ab79e6212">gsb_data_account_get_list_accounts</a> ();
<a name="l01126"></a>01126 
<a name="l01127"></a>01127     <span class="keywordflow">while</span> ( list_tmp )
<a name="l01128"></a>01128     {
<a name="l01129"></a>01129         gint account_number;
<a name="l01130"></a>01130 
<a name="l01131"></a>01131         account_number = <a class="code" href="gsb__data__account_8c.html#ad61190b4638c2be7b7ce320470f1cb5a">gsb_data_account_get_no_account</a> ( list_tmp -&gt; data );
<a name="l01132"></a>01132         <a class="code" href="gsb__data__account_8c.html#a33a1e95b367d6859aad9be4add606231">gsb_data_account_set_balances_are_dirty</a> ( account_number );
<a name="l01133"></a>01133 
<a name="l01134"></a>01134         <span class="comment">/* MAJ HOME_PAGE */</span>
<a name="l01135"></a>01135         <a class="code" href="navigation_8c.html#a4deacb31bc63a27b2ed5b39f79bffc0b">gsb_gui_navigation_update_home_page</a> ( );
<a name="l01136"></a>01136 
<a name="l01137"></a>01137         list_tmp = list_tmp -&gt; next;
<a name="l01138"></a>01138     }
<a name="l01139"></a>01139     <span class="keywordflow">return</span> FALSE;
<a name="l01140"></a>01140 }
<a name="l01141"></a>01141 
<a name="l01142"></a>01142 
<a name="l01150"></a>01150 GtkWidget *onglet_metatree ( <span class="keywordtype">void</span> )
<a name="l01151"></a>01151 {
<a name="l01152"></a>01152     GtkWidget *vbox_pref, *paddingbox, *total_currencies;
<a name="l01153"></a>01153 
<a name="l01154"></a>01154     vbox_pref = <a class="code" href="utils_8c.html#a3baab3fba6974f2ebf35757198ac8911">new_vbox_with_title_and_icon</a> ( 
<a name="l01155"></a>01155                         _(<span class="stringliteral">&quot;Payees, categories and budgetaries&quot;</span>),
<a name="l01156"></a>01156                         <span class="stringliteral">&quot;organization.png&quot;</span> );
<a name="l01157"></a>01157 
<a name="l01158"></a>01158     paddingbox = <a class="code" href="utils_8c.html#a22ba81fcf046b5bec6cf6d55d440abc5">new_paddingbox_with_title</a> ( vbox_pref, FALSE, _(<span class="stringliteral">&quot;Totals currencies&quot;</span>) );
<a name="l01159"></a>01159     total_currencies = <a class="code" href="gsb__currency__config_8c.html#a944bf821634cb316ea25281b598fa563">gsb_currency_config_create_totals_page</a> ( );
<a name="l01160"></a>01160     gtk_box_pack_start ( GTK_BOX ( paddingbox ), total_currencies, FALSE, FALSE, 0 );
<a name="l01161"></a>01161 
<a name="l01162"></a>01162     <span class="comment">/* tri des opérations */</span>
<a name="l01163"></a>01163     <a class="code" href="gsb__automem_8c.html#ade82b8b0e27c163fd3276dacfa6cf9fb">gsb_automem_radiobutton_new_with_title</a> ( vbox_pref,
<a name="l01164"></a>01164                         _(<span class="stringliteral">&quot;Sort option for transactions&quot;</span>),
<a name="l01165"></a>01165                         _(<span class="stringliteral">&quot;by number&quot;</span>),
<a name="l01166"></a>01166                         _(<span class="stringliteral">&quot;by date&quot;</span>),
<a name="l01167"></a>01167                         &amp;<a class="code" href="parametres_8c.html#ab2a744f5d2124688473d13979420e911">etat</a>.<a class="code" href="structgsb__etat__t.html#aab3a9a46a988630eff0a8d7a0b9a80e8">metatree_sort_transactions</a>,
<a name="l01168"></a>01168                         G_CALLBACK (<a class="code" href="parametres_8c.html#abeee3f7f40a97726a843a50f81c4fcac">gsb_config_metatree_sort_transactions</a>), NULL );
<a name="l01169"></a>01169 
<a name="l01170"></a>01170     <span class="keywordflow">return</span> vbox_pref;
<a name="l01171"></a>01171 }
<a name="l01172"></a>01172 
<a name="l01173"></a>01173 
<a name="l01174"></a><a class="code" href="parametres_8h.html#abeee3f7f40a97726a843a50f81c4fcac">01174</a> gboolean <a class="code" href="parametres_8c.html#abeee3f7f40a97726a843a50f81c4fcac">gsb_config_metatree_sort_transactions</a> ( GtkWidget *checkbutton,
<a name="l01175"></a>01175                         gpointer null )
<a name="l01176"></a>01176 {
<a name="l01177"></a>01177     gint page_number;
<a name="l01178"></a>01178 
<a name="l01179"></a>01179     page_number = <a class="code" href="navigation_8c.html#a06fa2882a164439e56e780c2127cd22c">gsb_gui_navigation_get_current_page</a> ( );
<a name="l01180"></a>01180 
<a name="l01181"></a>01181     <span class="keywordflow">switch</span> ( page_number )
<a name="l01182"></a>01182     {
<a name="l01183"></a>01183         <span class="keywordflow">case</span> <a class="code" href="fenetre__principale_8h.html#a1667fdc1081851887c24c98c97d51767a6dc88978e0efdce656c83f10ff02354d">GSB_PAYEES_PAGE</a>:
<a name="l01184"></a>01184                 <a class="code" href="tiers__onglet_8c.html#a3526c82a23ba142e443ce5c5282facf8">payee_fill_tree</a> ();
<a name="l01185"></a>01185             <span class="keywordflow">break</span>;
<a name="l01186"></a>01186 
<a name="l01187"></a>01187         <span class="keywordflow">case</span> <a class="code" href="fenetre__principale_8h.html#a1667fdc1081851887c24c98c97d51767aff0a64cd360ddbad895f5aa65a6ac476">GSB_CATEGORIES_PAGE</a>:
<a name="l01188"></a>01188         <a class="code" href="categories__onglet_8c.html#a07984d808278a498b3fef3e187cc29e2">remplit_arbre_categ</a> ();
<a name="l01189"></a>01189             <span class="keywordflow">break</span>;
<a name="l01190"></a>01190 
<a name="l01191"></a>01191         <span class="keywordflow">case</span> <a class="code" href="fenetre__principale_8h.html#a1667fdc1081851887c24c98c97d51767a7697bb5eef5749ac8e9f5c0103f00b98">GSB_BUDGETARY_LINES_PAGE</a>:
<a name="l01192"></a>01192                 <a class="code" href="imputation__budgetaire_8c.html#a3c4c67e80fdca7661b83a5176e7ac787">remplit_arbre_imputation</a> ();
<a name="l01193"></a>01193             <span class="keywordflow">break</span>;
<a name="l01194"></a>01194 
<a name="l01195"></a>01195         <span class="keywordflow">default</span>:
<a name="l01196"></a>01196             <a class="code" href="erreur_8h.html#a4538fd4861a4ef0fdec1e42edd2ebf2b">notice_debug</a> (<span class="stringliteral">&quot;B0rk page selected&quot;</span>);
<a name="l01197"></a>01197             <span class="keywordflow">break</span>;
<a name="l01198"></a>01198     }
<a name="l01199"></a>01199 
<a name="l01200"></a>01200     <span class="keywordflow">return</span> FALSE;
<a name="l01201"></a>01201 }
<a name="l01202"></a>01202 <span class="comment">/* Local Variables: */</span>
<a name="l01203"></a>01203 <span class="comment">/* c-basic-offset: 4 */</span>
<a name="l01204"></a>01204 <span class="comment">/* End: */</span>
</pre></div></div>
<hr class="footer"/><address style="text-align: right;"><small>Généré le Sat Aug 7 22:12:03 2010 pour Grisbi par&nbsp;
<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.6.3 </small></address>
</body>
</html>
